<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>docker-compose on å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿—</title>
    <link>https://blog.zsan.ml/tags/docker-compose/</link>
    <description>Recent content in docker-compose on å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿—</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&#34; target=&#34;_blank&#34;&gt;CC BY-NC-SA 4.0&lt;/a&gt;</copyright>
    <lastBuildDate>Fri, 21 Jan 2022 11:24:05 +0800</lastBuildDate><atom:link href="https://blog.zsan.ml/tags/docker-compose/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Docker Composeéƒ¨ç½²filebrowser</title>
      <link>https://blog.zsan.ml/posts/docker-deploy-filebrowser/</link>
      <pubDate>Fri, 21 Jan 2022 11:24:05 +0800</pubDate>
      
      <guid>https://blog.zsan.ml/posts/docker-deploy-filebrowser/</guid>
      <description>dockerå¿«é€Ÿæ­å»ºä¸ªäººç½‘ç›˜</description>
      <content:encoded><![CDATA[<p>åœ¨linuxserveræœåŠ¡å™¨ä¸Šå®‰è£…</p>
<p>ç¯å¢ƒï¼šdockerã€docker- compose</p>
<p>éœ€è¦äº†è§£dockeråŸºæœ¬çŸ¥è¯†ï¼Œä¸æ‡‚å¯ä»¥ç¿»ç¿»ä»¥å‰çš„åšå®¢æˆ–è€…æœä¸‹æ•™ç¨‹å­¦ä¹ </p>
<p><a href="https://filebrowser.org/installation">filebrowser</a>å®˜ç½‘ä¸Šç»™çš„æ˜¯dockerå‘½ä»¤æ‰§è¡Œçš„ï¼Œä½†ç”¨composeä¹ æƒ¯äº†ï¼Œæ‰€ä»¥è½¬æ¢äº†ä¸€ä¸‹æ ¼å¼ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå®˜ç½‘ä¹Ÿæç¤ºäº†</p>
<blockquote>
<p>By default, we already have a <a href="https://github.com/filebrowser/filebrowser/blob/master/docker/root/defaults/settings.json">configuration file with some defaults</a> so you can just mount the root and the database. Although you can overwrite by mounting a directory with a new config file. If you don&rsquo;t already have a database file, make sure to create a new empty file under the path you specified. Otherwise, Docker will create an empty folder instead of an empty file, resulting in an error when mounting the database into the container.</p>
</blockquote>
<p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯éœ€è¦æå‰åˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦åˆ™ï¼ŒDockerä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹è€Œä¸æ˜¯ç©ºçš„æ–‡ä»¶ï¼Œå¯¼è‡´åœ¨å°†æ•°æ®åº“æŒ‚è½½åˆ°å®¹å™¨ä¸­æ—¶å‡ºç°é”™è¯¯ï¼è¿™ç‚¹ä¸€å®šè¦æ³¨æ„å•Šï¼ï¼ï¼</p>
<h1 id="1åˆ›å»ºdocker-composeæ–‡ä»¶">1ã€åˆ›å»ºdocker-composeæ–‡ä»¶</h1>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="font-weight:bold">version</span>: <span style="color:#0ff;font-weight:bold">&#39;3.3&#39;</span> 
</span></span><span style="display:flex;"><span><span style="font-weight:bold">services</span>:     
</span></span><span style="display:flex;"><span>    <span style="font-weight:bold">filebrowser</span>:  
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">image</span>: filebrowser/filebrowser:s6
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">container_name</span>: filebrowser
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">volumes</span>:  
</span></span><span style="display:flex;"><span>            - ./root:/srv           
</span></span><span style="display:flex;"><span>            - ./database/filebrowser.db:/database/filebrowser.db 
</span></span><span style="display:flex;"><span>            - ./settings.json:/config/settings.json
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">environment</span>:
</span></span><span style="display:flex;"><span>            - PUID=0
</span></span><span style="display:flex;"><span>            - PGID=0
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">ports</span>: 
</span></span><span style="display:flex;"><span>            - <span style="color:#0ff;font-weight:bold">&#39;8080:80&#39;</span>         
</span></span><span style="display:flex;"><span>        <span style="font-weight:bold">restart</span>: always
</span></span></code></pre></div><h1 id="2åˆ›å»ºé»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹">2ã€åˆ›å»ºé»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</h1>
<p>å¯¹ç…§ä¸Šè¿°docker-composeçš„è·¯å¾„ï¼Œéœ€è¦åœ¨å½“å‰ç›®å½•åˆ›å»º settings.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;port&#34;</span>: <span style="color:#ff0;font-weight:bold">80</span>,
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;baseURL&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;address&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;0.0.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;log&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;stdout&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;database&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/database/filebrowser.db&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="font-weight:bold">&#34;root&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;/srv&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨å½“å‰ç›®å½•åˆ›å»º database/filebrowser.db æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir database
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">cd</span> database
</span></span><span style="display:flex;"><span>touch filebrowser.db
</span></span></code></pre></div><h1 id="3è¿è¡Œæµ‹è¯•æ˜¯å¦æˆåŠŸ">3ã€è¿è¡Œæµ‹è¯•æ˜¯å¦æˆåŠŸ</h1>
<p>æ‰§è¡Œ docker- compose logs -f çœ‹ä¸‹æ—¥å¿—æ˜¯å¦æŠ¥é”™</p>
<p>éœ€è¦å…¶ä»–æœºå™¨è®¿é—®è®°å¾—é˜²ç«å¢™ æŠŠç«¯å£æ‰“å¼€ï¼Œæœ¬ä¾‹ç”¨çš„8080ç«¯å£</p>
<p>æµè§ˆå™¨è®¿é—® æœåŠ¡å™¨ip:8080 æˆåŠŸæ‰“å¼€å³å¯ï¼ŒEnjoy itï¼ğŸ‰ğŸ‰ğŸ‰</p>
<blockquote>
<p>å‚è€ƒï¼š</p>
<p>1ã€<a href="https://filebrowser.org">filebrowserå®˜ç½‘</a></p>
<p>2ã€<a href="https://www.liuhaolin.com/zhuanzai/906.html">filebrowser ä¸€ä¸ªè·¨å¹³å°çš„æ–‡ä»¶ç®¡ç†å™¨çš„ä½¿ç”¨æ–¹æ³•-æ£®æ—çš„ä¸ªäººåšå®¢</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
