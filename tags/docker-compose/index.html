<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>docker-compose | å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿—</title>
<meta name="keywords" content="">
<meta name="description" content="åšå®¢ï¼Œåˆ†äº«æŠ€æœ¯ï¼Œç†è´¢ï¼Œç”Ÿæ´»ï¼Œæ‰‹è‰ºäººï¼Œblogï¼Œhugoï¼ŒitæŠ€æœ¯ï¼Œdocker,linux,è„šæœ¬,ç¾Šæ¯›ğŸ‘">
<meta name="author" content="
ä½œè€…:&nbsp;å¼ ä¸‰">
<link rel="canonical" href="https://blog.zsan.cf/tags/docker-compose/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d052bedd1cc13385351f3edb06469dd52a1f9d9110079e37b831c03e2184d72d.css" integrity="sha256-0FK&#43;3RzBM4U1Hz7bBkad1SofnZEQB543uDHAPiGE1y0=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.zsan.cf/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.zsan.cf/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.zsan.cf/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.zsan.cf/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.zsan.cf/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://blog.zsan.cf/tags/docker-compose/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2X66ETNYD8"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-2X66ETNYD8', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="docker-compose" />
<meta property="og:description" content="åšå®¢ï¼Œåˆ†äº«æŠ€æœ¯ï¼Œç†è´¢ï¼Œç”Ÿæ´»ï¼Œæ‰‹è‰ºäººï¼Œblogï¼Œhugoï¼ŒitæŠ€æœ¯ï¼Œdocker,linux,è„šæœ¬,ç¾Šæ¯›ğŸ‘" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.zsan.cf/tags/docker-compose/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="docker-compose"/>
<meta name="twitter:description" content="åšå®¢ï¼Œåˆ†äº«æŠ€æœ¯ï¼Œç†è´¢ï¼Œç”Ÿæ´»ï¼Œæ‰‹è‰ºäººï¼Œblogï¼Œhugoï¼ŒitæŠ€æœ¯ï¼Œdocker,linux,è„šæœ¬,ç¾Šæ¯›ğŸ‘"/>

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.zsan.cf/" accesskey="h" title="å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿— (Alt + H)">å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿—</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://blog.zsan.cf/search" title="æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://blog.zsan.cf/archives/" title="å½’æ¡£">
                    <span>å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="https://blog.zsan.cf/tags" title="æ ‡ç­¾äº‘">
                    <span>æ ‡ç­¾äº‘</span>
                </a>
            </li>
            <li>
                <a href="https://blog.zsan.cf/about" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://blog.zsan.cf/">ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href="https://blog.zsan.cf/tags/">Tags</a></div>
  <h1>
    docker-compose
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Docker éƒ¨ç½² NginxæœåŠ¡
    </h2>
  </header>
  <div class="entry-content">
    <p>ç”¨dockeréƒ¨ç½²nginxå®˜æ–¹åªç»™äº†dockerç‰ˆæœ¬çš„ï¼Œæ²¡æœ‰composeçš„ï¼Œåªå¥½è‡ªå·±è½¬æ¢ä¸€ä¸‹äº†ï¼Œè®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡éƒ¨ç½²ï¼Œè¿™åªæ˜¯ç®€å•çš„éƒ¨ç½²ï¼Œè‡³äºnginxé…ç½®çš„è¯ï¼Œæœ‰ç©ºå†è¡¥å§ğŸ« 
1ã€åˆ›å»ºdocker-nginxç›®å½• æ–°å»º docker-compose.yml æ–‡ä»¶
mkdir docker-nginx mkdir nginx mkdir log mkdir html vim docker-compose.yml 2ã€docker-compose.yml version: &#39;3.3&#39; services: web: image: nginx:latest container_name: nginx volumes: - ./nginx:/etc/nginx - ./log:/var/log/nginx - ./html:/usr/share/nginx/html //ç½‘ç«™æ”¾ç½®ç›®å½• ports: - &#34;8081:80&#34; environment: - NGINX_HOST=&#34;192.168.116.10&#34; //è®¿é—®åœ°å€/åŸŸå - NGINX_PORT=&#34;80&#34; //è®¿é—®ç«¯å£ - TZ=&#34;Asia/Shanghai&#34; //æ—¶åŒº restart: always 3ã€æ‰‹åŠ¨cpé…ç½®æ–‡ä»¶ ç”±äºå®˜æ–¹imageæ²¡æœ‰é»˜è®¤æ˜ å°„å¤–éƒ¨æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨æŠŠé…ç½®æ–‡ä»¶cpå‡ºæ¥
# è¿è¡Œå®˜æ–¹å‘½ä»¤åˆ›å»ºé»˜è®¤å®¹å™¨ docker run --name nginx -p 8080:80 -d nginx #é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°nginxé‡Œ,å…¶ä»–æ–‡ä»¶å¯ç”¨å¤åˆ¶ #æ˜¯ä¸ªå‘ï¼Œè·¯å¾„å¿…é¡»æ˜¯å…¨è·¯å¾„ docker cp nginx:/etc/nginx /opt/docker-nginx #åˆ é™¤é»˜è®¤å®¹å™¨ docker stop nginx &amp;&amp; docker rm nginx 4ã€ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ ç«¯å£å·ã€åŸŸåï¼Œsslç­‰å’Œä»¥å‰é…ç½®ä¸€æ ·ï¼Œä¸å†èµ˜è¿°
5ã€è¿è¡Œ&amp;æµ‹è¯• docker-compose up -d #æŸ¥çœ‹æ—¥å¿— docker-compose logs -f #æµè§ˆå™¨è¾“å…¥IPæˆ–åŸŸåæŸ¥çœ‹æ˜¯å¦å¯ä»¥è®¿é—® å‚è€ƒæ–‡æ¡£ï¼š
1ã€Docker Hub-nginx</p>
  </div>
  <footer class="entry-footer">










åˆ›å»º:&nbsp;<span title='2022-04-08 16:23:01 +0800 CST'>2022-04-08</span>&nbsp;|&nbsp;æ›´æ–°:&nbsp;2023-03-13&nbsp;|&nbsp;å­—æ•°:&nbsp;87å­—&nbsp;|&nbsp;æ—¶é•¿: 1åˆ†é’Ÿ&nbsp;|&nbsp;
ä½œè€…:&nbsp;å¼ ä¸‰</footer>
  <a class="entry-link" aria-label="post link to Docker éƒ¨ç½² NginxæœåŠ¡" href="https://blog.zsan.cf/posts/docker-build-nginx/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2>Docker Composeéƒ¨ç½²filebrowser
    </h2>
  </header>
  <div class="entry-content">
    <p>åœ¨linuxserveræœåŠ¡å™¨ä¸Šå®‰è£…
ç¯å¢ƒï¼šdockerã€docker- compose
éœ€è¦äº†è§£dockeråŸºæœ¬çŸ¥è¯†ï¼Œä¸æ‡‚å¯ä»¥ç¿»ç¿»ä»¥å‰çš„åšå®¢æˆ–è€…æœä¸‹æ•™ç¨‹å­¦ä¹ 
filebrowserå®˜ç½‘ä¸Šç»™çš„æ˜¯dockerå‘½ä»¤æ‰§è¡Œçš„ï¼Œä½†ç”¨composeä¹ æƒ¯äº†ï¼Œæ‰€ä»¥è½¬æ¢äº†ä¸€ä¸‹æ ¼å¼ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå®˜ç½‘ä¹Ÿæç¤ºäº†
By default, we already have a configuration file with some defaults so you can just mount the root and the database. Although you can overwrite by mounting a directory with a new config file. If you donâ€™t already have a database file, make sure to create a new empty file under the path you specified. Otherwise, Docker will create an empty folder instead of an empty file, resulting in an error when mounting the database into the container.
ç¿»è¯‘è¿‡æ¥å°±æ˜¯éœ€è¦æå‰åˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦åˆ™ï¼ŒDockerä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹è€Œä¸æ˜¯ç©ºçš„æ–‡ä»¶ï¼Œå¯¼è‡´åœ¨å°†æ•°æ®åº“æŒ‚è½½åˆ°å®¹å™¨ä¸­æ—¶å‡ºç°é”™è¯¯ï¼è¿™ç‚¹ä¸€å®šè¦æ³¨æ„å•Šï¼ï¼ï¼
1ã€åˆ›å»ºdocker-composeæ–‡ä»¶ å†…å®¹å¦‚ä¸‹ï¼š
version: &#39;3.3&#39; services: filebrowser: image: filebrowser/filebrowser:s6 container_name: filebrowser volumes: - ./root:/srv - ./database/filebrowser.db:/database/filebrowser.db - ./settings.json:/config/settings.json environment: - PUID=0 - PGID=0 ports: - &#39;8080:80&#39; restart: always 2ã€åˆ›å»ºé»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ å¯¹ç…§ä¸Šè¿°docker-composeçš„è·¯å¾„ï¼Œéœ€è¦åœ¨å½“å‰ç›®å½•åˆ›å»º settings.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š
{ &#34;port&#34;: 80, &#34;baseURL&#34;: &#34;&#34;, &#34;address&#34;: &#34;0.0.0.0&#34;, &#34;log&#34;: &#34;stdout&#34;, &#34;database&#34;: &#34;/database/filebrowser.db&#34;, &#34;root&#34;: &#34;/srv&#34; } åœ¨å½“å‰ç›®å½•åˆ›å»º database/filebrowser.db æ–‡ä»¶å¤¹å’Œæ–‡ä»¶
mkdir database cd database touch filebrowser.db 3ã€è¿è¡Œæµ‹è¯•æ˜¯å¦æˆåŠŸ æ‰§è¡Œ docker- compose logs -f çœ‹ä¸‹æ—¥å¿—æ˜¯å¦æŠ¥é”™
éœ€è¦å…¶ä»–æœºå™¨è®¿é—®è®°å¾—é˜²ç«å¢™ æŠŠç«¯å£æ‰“å¼€ï¼Œæœ¬ä¾‹ç”¨çš„8080ç«¯å£
æµè§ˆå™¨è®¿é—® æœåŠ¡å™¨ip:8080 æˆåŠŸæ‰“å¼€å³å¯ï¼ŒEnjoy itï¼ğŸ‰ğŸ‰ğŸ‰...</p>
  </div>
  <footer class="entry-footer">










åˆ›å»º:&nbsp;<span title='2022-01-21 11:24:05 +0800 CST'>2022-01-21</span>&nbsp;|&nbsp;æ›´æ–°:&nbsp;2023-02-01&nbsp;|&nbsp;å­—æ•°:&nbsp;197å­—&nbsp;|&nbsp;æ—¶é•¿: 1åˆ†é’Ÿ&nbsp;|&nbsp;
ä½œè€…:&nbsp;å¼ ä¸‰</footer>
  <a class="entry-link" aria-label="post link to Docker Composeéƒ¨ç½²filebrowser" href="https://blog.zsan.cf/posts/docker-deploy-filebrowser/"></a>
</article>
    </main>
    
<footer class="footer">
    <span><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">CC BY-NC-SA 4.0</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
