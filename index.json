[{"content":"æŠ€æœ¯æ€§æ–‡ç« æ²¡æœ‰å†…å®¹æé†’æ€ä¹ˆè¡Œçš„ï¼ŒæŠ€æœ¯å¿«é€Ÿè¿­ä»£ï¼Œä»Šå¤©å¯ä»¥çš„æ–¹æ³•æ˜å¤©å¯èƒ½å°±ä¸è¡Œäº†\nç½‘ä¸Šæœäº†ä¸€åœˆï¼Œå¯¹åº”ä¸»é¢˜çš„æ²¡æ‰¾åˆ°ç°æˆçš„ï¼Œåªèƒ½é­”æ”¹äº†\nåªé’ˆå¯¹PaperModä¸»é¢˜çš„ï¼Œå…¶ä»–è‡ªå·±é­”æ”¹ï¼Œå¤§åŒå°å¼‚\n1ã€æ·»åŠ è‡ªå®šä¹‰æ¨¡ç‰ˆ Hugoæ ¹ç›®å½•åˆ›å»ºlayouts\\partials\\outdated_warning.html\nå¤åˆ¶ä¸‹é¢ä»£ç åˆ° outdated_warning.htmlå†…\n{{- if or .Params.enableOutdatedInfoWarning (and .Site.Params.outdatedInfoWarning.enable (ne .Params.enableOutdatedInfoWarning false)) }} {{- $daysAgo := div (sub now.Unix $.Page.Params.Lastmod.Unix) 86400 }} {{- $hintThreshold := .Site.Params.outdatedInfoWarning.hint | default 30 }} {{- $warnThreshold := .Site.Params.outdatedInfoWarning.warn | default 180 }} {{- $updateTime := $.Page.Params.Lastmod }} {{- if gt $daysAgo $hintThreshold }} \u0026lt;div class=\u0026#34;post-outdated\u0026#34;\u0026gt; {{- if gt $daysAgo $warnThreshold }} \u0026lt;div class=\u0026#34;warn\u0026#34;\u0026gt; {{- else }} \u0026lt;div class=\u0026#34;hint\u0026#34;\u0026gt; {{- end }} \u0026lt;p\u0026gt;{{ i18n \u0026#34;outdatedInfoWarningBefore\u0026#34; .}} \u0026lt;span class=\u0026#34;timeago\u0026#34; datetime=\u0026#34;{{ dateFormat \u0026#34;2006-01-02T15:04:05\u0026#34; $updateTime }}\u0026#34; title=\u0026#34;{{ dateFormat \u0026#34;January 2, 2006\u0026#34; $updateTime }}\u0026#34;\u0026gt; {{- dateFormat \u0026#34;January 2, 2006\u0026#34; $updateTime -}} \u0026lt;/span\u0026gt;{{ i18n \u0026#34;outdatedInfoWarningAfter\u0026#34; .}} \u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; {{- end -}} {{- end -}} 2ã€æ·»åŠ åˆ°æ–‡ç« æ¨¡ç‰ˆå†… Hugoæ ¹ç›®å½•åˆ›å»ºlayouts/_default/single.html\nåœ¨ç›®å½•ä¸‹æ–¹æˆ–è€…æ–‡ç« ä¸Šæ–¹æ·»åŠ \n{{ partial \u0026#34;outdated_warning.html\u0026#34; . }} {{- if .Content }} \u0026lt;div class=\u0026#34;post-content\u0026#34;\u0026gt; {{- if not (.Param \u0026#34;disableAnchoredHeadings\u0026#34;) }} {{- partial \u0026#34;anchored_headings.html\u0026#34; .Content -}} {{- else }}{{ .Content }}{{ end }} \u0026lt;/div\u0026gt; {{- end }} 3ã€æ·»åŠ å†…å®¹æé†’css Hugoæ ¹ç›®å½•åˆ›å»ºassets/css/extended/blank.css\næ·»åŠ ä¸‹åˆ—ä»£ç \n.post-outdated .hint { padding: 1rem 1.5rem; background-color:rgb(239, 245, 255); border-left: 0.5rem solid rgb(66, 172, 243); color: #6b5900; align-self: stretch; margin-bottom: 1em; } .post-outdated p { margin: initial; } .post-outdated .warn { padding: 1rem 1.5rem; background-color: #fff7d0; border-left: 0.5rem solid #e7c000; color: #6b5900; align-self: stretch; margin-bottom: 1em; } 4ã€æ·»åŠ é…ç½®å‚æ•° config.ymlå†…æ·»åŠ ä¸‹åˆ—å‚æ•°\nparams: outdatedInfoWarning: enable: true hint: 30 # å¦‚æœæ–‡ç« æœ€åæ›´æ–°äºè¿™å¤©æ•°ä¹‹å‰ï¼Œæ˜¾ç¤ºæé†’ warn: 180 # å¦‚æœæ–‡ç« æœ€åæ›´æ–°äºè¿™å¤©æ•°ä¹‹å‰ï¼Œæ˜¾ç¤ºè­¦å‘Š 5ã€æ–‡ç« å•ç‹¬é…ç½®å¼€å…³ æ–‡ç« å¼€å¤´å¢åŠ enableOutdatedInfoWarning: true #å†…å®¹è¿‡æ—¶æé†’\nä¹Ÿå¯æŠŠä¸Šè¿°ä»£ç æ·»åŠ åˆ°archetypes/default.md\n6ã€æ·»åŠ æç¤ºæ–‡å­— Hugoæ ¹ç›®å½•åˆ›å»ºi18n å†…å¤åˆ¶ä¸»é¢˜ä¸‹å¤åˆ¶zh.yamlè¿›æ¥ï¼Œæ·»åŠ ä¸‹åˆ—ä»£ç \n- id: outdatedInfoWarningBefore translation: \u0026#34;ã€æ³¨æ„ã€‘æœ€åæ›´æ–°äº \u0026#34; - id: outdatedInfoWarningAfter translation: \u0026#34;ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²è¿‡æ—¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚\u0026#34; ps:å€ŸåŠ©ChatGPTçš„å¼ºå¤§åŠŸèƒ½åšäº†ä»£ç çš„ç¼–è¾‘æ“ä½œï¼Œæœªæ¥å·²æ¥ğŸ‰\nå‚è€ƒï¼š\nåœ¨ MemE ä¸»é¢˜æ–‡ç« å¼€å¤´æ·»åŠ è¿‡æ—¶æé†’ | è·æˆŸç‹¬å½·å¾¨\nhugo-theme\nChatGPT\n","permalink":"https://blog.zsan.ml/posts/add-outdated-info-warning/","summary":"æŠ€æœ¯æ€§æ–‡ç« æ²¡æœ‰å†…å®¹æé†’æ€ä¹ˆè¡Œçš„ï¼ŒæŠ€æœ¯å¿«é€Ÿè¿­ä»£ï¼Œä»Šå¤©å¯ä»¥çš„æ–¹æ³•æ˜å¤©å¯èƒ½å°±ä¸è¡Œäº† ç½‘ä¸Šæœäº†","title":"PaperModæ–‡ç« æ·»åŠ è¿‡æ—¶æé†’"},{"content":" æœ¬æ¥æƒ³å†™ä¸‹å½“æ—¶éƒ¨ç½²æ—¶çš„å‘çš„ï¼Œåˆšæ‰é‡æ–°éƒ¨ç½²ï¼Œå‘ç°æ–‡æ¡£ç‰¹åˆ«å®Œå–„ï¼Œä¸åƒæˆ‘å½“æ—¶ï¼ˆ2å¹´å‰ï¼‰éƒ¨ç½²æ—¶çš„äº†ï¼Œå°±ç®€å•è®°å½•ä¸‹å§ï¼Œè¯¦ç»†å¯ä»¥çœ‹å‡†å¤‡å·¥ä½œ | å“ªå’ç›‘æ§\næœåŠ¡å™¨å®‰è£…ç®¡ç†é¢æ¿ curl -L https://cdn.jsdelivr.net/gh/naiba/nezha@master/script/install.sh -o nezha.sh \u0026amp;\u0026amp; chmod +x nezha.sh \u0026amp;\u0026amp; sudo CN=true ./nezha.sh` å®¢æˆ·ç«¯å®‰è£…Agent ç»¿è‰²çš„ Linux/Windows å›¾æ ‡æŒ‰é’®ï¼Œå¤åˆ¶ä¸€é”®å®‰è£…å‘½ä»¤\nPSï¼šå®˜ç½‘å†™çš„å¤ªè¯¦ç»†äº†ï¼Œæˆ‘è¿™ç¯‡ä¹Ÿæ²¡å¿…è¦å†™äº†ï¼Œå ä¸ªå‘ï¼Œç®—æ˜¯çŸ¥é“ç›¸å…³æœåŠ¡\n","permalink":"https://blog.zsan.ml/posts/setting-up-server-monitoring-service-nezha-probe/","summary":"æœ¬æ¥æƒ³å†™ä¸‹å½“æ—¶éƒ¨ç½²æ—¶çš„å‘çš„ï¼Œåˆšæ‰é‡æ–°éƒ¨ç½²ï¼Œå‘ç°æ–‡æ¡£ç‰¹åˆ«å®Œå–„ï¼Œä¸åƒæˆ‘å½“æ—¶ï¼ˆ2å¹´å‰ï¼‰éƒ¨ç½²","title":"æ­å»ºæœåŠ¡å™¨ç›‘æ§æœåŠ¡-å“ªå’æ¢é’ˆ"},{"content":" å¿…éœ€ï¼šæœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ä¸€å°\næœåŠ¡ç«¯éƒ¨ç½² åœ¨å…·æœ‰å…¬ç½‘ IP çš„æœºå™¨ä¸Šéƒ¨ç½²\né‡‡ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬å®‰è£…\nwget https://raw.githubusercontent.com/MvsCode/frps-onekey/master/install-frps.sh -O ./install-frps.sh chmod 700 ./install-frps.sh ./install-frps.sh install ç®€å•ç”¨æ³•\nUsage: /etc/init.d/frps {start|stop|restart|status|config|version}\nå®¢æˆ·ç«¯éƒ¨ç½² ä¸‹è½½Releases Â· fatedier/frp Â· GitHub\nè§£å‹ç¼©ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œå°†å…¶ä¸­çš„ frpc æ‹·è´åˆ°å†…ç½‘æœåŠ¡æ‰€åœ¨çš„æœºå™¨ä¸Š\né…ç½® è¿™é‡Œå¯ä»¥ä¸‹è½½é…ç½®æ–‡ä»¶frp/conf at dev Â· fatedier/frp Â· GitHub\næœåŠ¡ç«¯é…ç½® ä¸‹é¢æ˜¯æœåŠ¡ç«¯çš„æœ€å…¨é…ç½®ï¼Œä¸€äº›é…ç½®éƒ½æ˜¯å¯ä»¥ä¸ç”¨é…ç½®çš„\n# [common] is integral section [common] # A literal address or host name for IPv6 must be enclosed # in square brackets, as in \u0026#34;[::1]:80\u0026#34;, \u0026#34;[ipv6-host]:http\u0026#34; or \u0026#34;[ipv6-host%zone]:80\u0026#34; # For single \u0026#34;bind_addr\u0026#34; field, no need square brackets, like \u0026#34;bind_addr = ::\u0026#34;. bind_addr = 0.0.0.0 bind_port = 7000 # udp port to help make udp hole to penetrate nat bind_udp_port = 7001 # udp port used for kcp protocol, it can be same with \u0026#39;bind_port\u0026#39;. # if not set, kcp is disabled in frps. kcp_bind_port = 7000 # udp port used for quic protocol. # if not set, quic is disabled in frps. # quic_bind_port = 7002 # quic protocol options # quic_keepalive_period = 10 # quic_max_idle_timeout = 30 # quic_max_incoming_streams = 100000 # specify which address proxy will listen for, default value is same with bind_addr # proxy_bind_addr = 127.0.0.1 # if you want to support virtual host, you must set the http port for listening (optional) # Note: http port and https port can be same with bind_port vhost_http_port = 80 vhost_https_port = 443 # response header timeout(seconds) for vhost http server, default is 60s # vhost_http_timeout = 60 # tcpmux_httpconnect_port specifies the port that the server listens for TCP # HTTP CONNECT requests. If the value is 0, the server will not multiplex TCP # requests on one single port. If it\u0026#39;s not - it will listen on this value for # HTTP CONNECT requests. By default, this value is 0. # tcpmux_httpconnect_port = 1337 # If tcpmux_passthrough is true, frps won\u0026#39;t do any update on traffic. # tcpmux_passthrough = false # set dashboard_addr and dashboard_port to view dashboard of frps # dashboard_addr\u0026#39;s default value is same with bind_addr # dashboard is available only if dashboard_port is set # ç®¡ç†é¢æ¿ dashboard_addr = 0.0.0.0 dashboard_port = 7500 # dashboard user and passwd for basic auth protect dashboard_user = admin dashboard_pwd = admin # dashboard TLS mode dashboard_tls_mode = false # dashboard_tls_cert_file = server.crt # dashboard_tls_key_file = server.key # enable_prometheus will export prometheus metrics on {dashboard_addr}:{dashboard_port} in /metrics api. enable_prometheus = true # dashboard assets directory(only for debug mode) # assets_dir = ./static # console or real logFile path like ./frps.log log_file = ./frps.log # trace, debug, info, warn, error log_level = info log_max_days = 3 # disable log colors when log_file is console, default is false disable_log_color = false # DetailedErrorsToClient defines whether to send the specific error (with debug info) to frpc. By default, this value is true. detailed_errors_to_client = true # authentication_method specifies what authentication method to use authenticate frpc with frps. # If \u0026#34;token\u0026#34; is specified - token will be read into login message. # If \u0026#34;oidc\u0026#34; is specified - OIDC (Open ID Connect) token will be issued using OIDC settings. By default, this value is \u0026#34;token\u0026#34;. authentication_method = token # authenticate_heartbeats specifies whether to include authentication token in heartbeats sent to frps. By default, this value is false. authenticate_heartbeats = false # AuthenticateNewWorkConns specifies whether to include authentication token in new work connections sent to frps. By default, this value is false. authenticate_new_work_conns = false # auth token token = 12345678 # oidc_issuer specifies the issuer to verify OIDC tokens with. # By default, this value is \u0026#34;\u0026#34;. oidc_issuer = # oidc_audience specifies the audience OIDC tokens should contain when validated. # By default, this value is \u0026#34;\u0026#34;. oidc_audience = # oidc_skip_expiry_check specifies whether to skip checking if the OIDC token is expired. # By default, this value is false. oidc_skip_expiry_check = false # oidc_skip_issuer_check specifies whether to skip checking if the OIDC token\u0026#39;s issuer claim matches the issuer specified in OidcIssuer. # By default, this value is false. oidc_skip_issuer_check = false # heartbeat configure, it\u0026#39;s not recommended to modify the default value # the default value of heartbeat_timeout is 90. Set negative value to disable it. # heartbeat_timeout = 90 # user_conn_timeout configure, it\u0026#39;s not recommended to modify the default value # the default value of user_conn_timeout is 10 # user_conn_timeout = 10 # only allow frpc to bind ports you list, if you set nothing, there won\u0026#39;t be any limit allow_ports = 2000-3000,3001,3003,4000-50000 # pool_count in each proxy will change to max_pool_count if they exceed the maximum value max_pool_count = 5 # max ports can be used for each client, default value is 0 means no limit max_ports_per_client = 0 # tls_only specifies whether to only accept TLS-encrypted connections. By default, the value is false. tls_only = false # tls_cert_file = server.crt # tls_key_file = server.key # tls_trusted_ca_file = ca.crt # if subdomain_host is not empty, you can set subdomain when type is http or https in frpc\u0026#39;s configure file # when subdomain is test, the host used by routing is test.frps.com subdomain_host = frps.com # if tcp stream multiplexing is used, default is true # tcp_mux = true # specify keep alive interval for tcp mux. # only valid if tcp_mux is true. # tcp_mux_keepalive_interval = 60 # tcp_keepalive specifies the interval between keep-alive probes for an active network connection between frpc and frps. # If negative, keep-alive probes are disabled. # tcp_keepalive = 7200 # custom 404 page for HTTP requests # custom_404_page = /path/to/404.html # specify udp packet size, unit is byte. If not set, the default value is 1500. # This parameter should be same between client and server. # It affects the udp and sudp proxy. udp_packet_size = 1500 # Enable golang pprof handlers in dashboard listener. # Dashboard port must be set first pprof_enable = false [plugin.user-manager] addr = 127.0.0.1:9000 path = /handler ops = Login [plugin.port-manager] addr = 127.0.0.1:9001 path = /handler ops = NewProxy é…ç½®å®Œæˆä¹‹å\n/etc/init.d/frps start\nå…¬ç½‘IP:dashboard_portè®¿é—®ç®¡ç†é¢æ¿\nå®¢æˆ·ç«¯é…ç½® [common] server_addr = æœåŠ¡ç«¯å…¬ç½‘IP #æœåŠ¡ç«¯bind_addr server_port = 7000 #æœåŠ¡ç«¯bind_port token = æœåŠ¡ç«¯auth_token [æœåŠ¡åå­—] # è¿œç¨‹è®¿é—®ç«¯å£ remote_port = 8888 type = tcp local_ip = 192.168.1.9 local_port = 8888 [æœåŠ¡åå­—] # è¿œç¨‹è®¿é—®ç«¯å£ remote_port = 8889 type = tcp local_ip = 192.168.1.77 local_port = 8889 å¯åŠ¨\n./frpc -c ./frpc.ini\n","permalink":"https://blog.zsan.ml/posts/building-frp-intranet-penetration-service/","summary":"å¿…éœ€ï¼šæœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ä¸€å° æœåŠ¡ç«¯éƒ¨ç½² åœ¨å…·æœ‰å…¬ç½‘ IP çš„æœºå™¨ä¸Šéƒ¨ç½² é‡‡ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬å®‰è£… wget","title":"æ­å»º frp å†…ç½‘ç©¿é€æœåŠ¡"},{"content":" å¿…å¤‡ï¼šNFCå¡è´´\nandroidæ‰‹æœºæ”¯æŒNFC\n1ã€ä¹°å¡è´´ æ‹¼å¤•å¤•ä¹°CUIDå¡å°±è¡Œäº†ï¼Œå¤§å¤šæ•°å¯ä»¥ç”¨\n2ã€å…‹éš† Android ä¸‹è½½Â Mifare Classic Tool\nå…³é”®æ“ä½œæ­¥éª¤ï¼š\n1ã€è¯»æ ‡ç­¾\né€‰æ‹©è¯»æ ‡ç­¾ï¼Œç„¶åæŠŠé—¨å¡è´´åœ¨æ‰‹æœºnfcä½ç½®ï¼Œä¹‹åç‚¹å¼€å§‹æ˜ å°„å¹¶è¯»å–æ ‡ç­¾ï¼Œå°±å¯ä»¥è¯»å–åˆ°äº†ï¼Œè‡³äºkeyï¼Œå¯ä»¥å…¨é€‰æˆ–è€…é€‰æ‹©ä¸€ä¸ªè¯•è¯•å°±è¡Œäº†ã€‚\nç„¶åç‚¹å‡»å³ä¸Šè§’èœå•ï¼Œé€‰æ‹©å†™è½¬å‚¨å°±å¯ä»¥åˆ°å†™å…¥ç•Œé¢äº†ã€‚\n2ã€å†™æ ‡ç­¾\nåœ¨ä¸Šä¸€æ­¥ä¸­è½¬åˆ°å†™è½¬å‚¨ç•Œé¢ï¼Œç›´æ¥ç‚¹å‡»å†™è½¬å‚¨ï¼Œç„¶åé»˜è®¤å…¨é€‰æ‰‡åŒºå°±å¯ä»¥äº†ï¼Œè´´ä¸Šä¹°çš„nfcå¡è´´åï¼Œç‚¹å‡»okå°±å¯ä»¥äº†ï¼Œä¸å‡ºæ„å¤–çš„è¯å°±å¯ä»¥å†™æˆåŠŸäº†ã€‚\n3ã€å…‹éš†uidï¼ˆéå¿…é€‰ï¼‰\né€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå…‹éš†çš„å¡å¯ä»¥è¿›å…¥å°åŒºå¤§é—¨ï¼Œä½†æ˜¯å¯¹äºæ¥¼æ ‹çš„ç”µæ¢¯é—¨ï¼Œæ˜¯æ²¡åŠæ³•åˆ·çš„ï¼Œå¯¹æ¯”äº†é—¨ç¦å¡å’Œå¡è´´ï¼Œå‘ç°å¡è´´çš„idå’Œé—¨ç¦å¡ä¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬å†åšä¸€ä¸ªå…‹éš†uidæ“ä½œã€‚\nåœ¨é¦–é¡µå†™æ ‡ç­¾è¿›å…¥åï¼Œé€‰æ‹©å…‹éš†uidï¼Œç„¶åè´´ä¸Šæˆ‘ä»¬çš„é—¨ç¦å¡ï¼Œæ­¤æ—¶å‘ç°å…‹éš†çš„UIDçš„idå‘ç”Ÿå˜åŒ–äº†ï¼Œç„¶åé€‰æ‹©è®¡ç®—0å¹¶å…‹éš†UIDï¼Œç„¶åè´´ä¸Šå¡è´´ï¼Œä¹‹åå°±å¯ä»¥å•¦ã€‚\nå¯ä»¥æ‹¿ç€å»é—¨å£è¯•è¯•äº†\nå‚è€ƒï¼š\nnfcå¡è´´æ¨¡æ‹Ÿé—¨ç¦å¡\n","permalink":"https://blog.zsan.ml/posts/nfc-card-simulation-access-control/","summary":"å¿…å¤‡ï¼šNFCå¡è´´ androidæ‰‹æœºæ”¯æŒNFC 1ã€ä¹°å¡è´´ æ‹¼å¤•å¤•ä¹°CUIDå¡å°±è¡Œäº†ï¼Œå¤§å¤š","title":"NFC å¤åˆ¶æ¨¡æ‹Ÿé—¨ç¦å¡"},{"content":"ä¸€ã€docker-compose ç¼–æ’æ–‡ä»¶ åˆ›å»ºdocker-compose.yamlæ–‡ä»¶å¹¶æ‹·è´ä¸‹é¢å†…å®¹\nversion: \u0026#34;3\u0026#34; services: go-cqhttp: image: mzzsfy/go-cqhttp:latest container_name: go-cqhttp volumes: - ./data:/data restart: always environment: # - token=$Yourtoken #æ›¿æ¢ä¸ºè‡ªå·±ç”Ÿæˆçš„token - ws_url=\u0026#39;ws://sillygirl:8080/qq/receive\u0026#39; - TZ=Asia/Shanghai networks: - sillygirl depends_on: - sillygirl sillygirl: image: mzzsfy/sillygirl:latest container_name: sillygirl volumes: - ./sillyGirl:/etc/sillyGirl restart: always environment: # - set__qq__token=$Yourtoken #æ›¿æ¢ä¸ºè‡ªå·±ç”Ÿæˆçš„token - TZ=Asia/Shanghai networks: - sillygirl networks: sillygirl: docker-compsoe up -d å¯åŠ¨\ndocker-compose logs -f æŸ¥çœ‹æ—¥å¿—\näºŒã€FAQ 1ã€go-cqhttp æ‰«ç å¤±è´¥ é—®é¢˜è§£å†³ äº‘æœåŠ¡å™¨å¯¼è‡´ å¯ä»¥åœ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆä¸æ‰‹æœºqqæ‰«ç åœ¨åŒä¸€å±€åŸŸç½‘å†…ï¼‰å¯åŠ¨æœåŠ¡ï¼Œç”Ÿæˆsession.token å¤åˆ¶åˆ°äº‘æœåŠ¡å™¨ç›¸åŒç›®å½•ä¸‹\nçœ‹è¿™é‡Œè§£å†³\n2ã€go-cqhttp å»ºè®®ä¿®æ”¹ä¸ºæ‰‹è¡¨ç™»å½• é¦–å…ˆè¿è¡Œä¸€ä¸‹ï¼Œä¼šç”Ÿæˆdevice.json\næ‰¾åˆ°protocolå­—æ®µä¿®æ”¹ä¸º2\nä½ å¯èƒ½ä¼šç”¨åˆ°çš„ä¸€äº›èµ„æ–™\nhttps://hub.docker.com/r/mzzsfy/sillygirl\nhttps://hub.docker.com/r/mzzsfy/go-cqhttp\ngo-cqhttpé…ç½®\n","permalink":"https://blog.zsan.ml/posts/sillygril-qqbot-deploy/","summary":"ä¸€ã€docker-compose ç¼–æ’æ–‡ä»¶ åˆ›å»ºdocker-compose.yamlæ–‡","title":"SillyGril\u0026QQbotä¸€é”®éƒ¨ç½²"},{"content":" æœ€è¿‘é—²æ¥æ— äº‹ï¼ŒæŠŠç½‘ç«™å‡çº§äº†ï¼Œæ›´åŠ åƒåŸç”ŸAPP\nè®°å½•ä¸‹å‡çº§è¿‡ç¨‹ï¼Œå…å¾—ä»¥åå¿˜äº†\nPWAæ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥å»ç½‘ä¸Šæœä¸€ä¸‹ï¼Œbutä¸­æ–‡æ–‡ç« å°‘ä¸€ç‚¹\nç”¨Google å°è£…çš„ å¥½çš„ workbox æ¥å‡çº§\næ³¨å†ŒService Worker åœ¨htmlé¡µé¢æ³¨å†Œ SW\n\u0026lt;script\u0026gt; if (\u0026#39;serviceWorker\u0026#39; in navigator) { navigator.serviceWorker.getRegistrations() .then(regs =\u0026gt; { for (let reg of regs) { // æ³¨é”€æ‰ä¸æ˜¯å½“å‰ä½œç”¨åŸŸçš„æ‰€æœ‰çš„ Service Worker if (reg.scope !== \u0026#39;http://localhost:8000/\u0026#39;) { reg.unregister() } } // æ³¨é”€æ‰æ±¡æŸ“ Service Worker ä¹‹åå†é‡æ–°æ³¨å†Œè‡ªå·±ä½œç”¨åŸŸçš„ Service Worker window.addEventListener(\u0026#39;load\u0026#39;, () =\u0026gt; { navigator.serviceWorker.register(\u0026#39;./sw.js\u0026#39;).then(function (e) { console.log(\u0026#34;æ”¯æŒsw:\u0026#34;, e.scope) }) }) }) } \u0026lt;/script\u0026gt; ç”ŸæˆSW.jsæ–‡ä»¶ google cdn importScripts(\u0026#34; \u0026#39;https://storage.googleapis.com/workbox-cdn/releases/6.1.1/workbox-sw.js\u0026#39; \u0026#34;); å›½å†…å»ºè®®ä¸ä½¿ç”¨Google\njsdelivr cdn importScripts(\u0026#34;https://fastly.jsdelivr.net/npm/workbox-sw@6.5.4/build/workbox-sw.min.js\u0026#34;); SW.js ç¼–å†™ é…ç½®ç›¸å…³ workbox.setConfig( { // æ˜¯å¦å¼€å¯debug debug: false } ); let cacheSuffixVersion = \u0026#39;-220806\u0026#39;; // ç¼“å­˜ç‰ˆæœ¬å· const maxEntries = 100; // æœ€å¤§æ¡ç›®æ•° workbox.core.setCacheNameDetails({ prefix: \u0026#39;zsan\u0026#39;, // å‰ç¼€ suffix: cacheSuffixVersion, // åç¼€ }); //æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ if (workbox) { console.log(\u0026#34;Yay! Workbox is loaded ğŸ‰\u0026#34;) } else { console.log(\u0026#34;Boo! Workbox didn\u0026#39;t load ğŸ˜¬\u0026#34;) } é¢„ç¼“å­˜æ–‡ä»¶ let cacheFiles = [ { url: \u0026#34;/index.html\u0026#34;, revision: cacheSuffixVersion } ]; workbox.precaching.precacheAndRoute(cacheFiles); workboxç­–ç•¥ cdnç­–ç•¥ å¯¹äºä¸€äº›cdnçš„ä½¿ç”¨ï¼Œä½¿ç”¨CacheFirst ç¼“å­˜ä¼˜å…ˆç­–ç•¥ï¼Œæ­¤ç­–ç•¥å°†é¦–å…ˆæ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦æœ‰å“åº”ï¼Œå¦‚æœæœ‰å“åº”ï¼Œåˆ™ä½¿ç”¨è¯¥ç­–ç•¥ã€‚å¦‚æœè¯·æ±‚ä¸åœ¨ç¼“å­˜ä¸­ï¼Œåˆ™å°†ä½¿ç”¨ç½‘ç»œï¼Œå¹¶å°†ä»»ä½•æœ‰æ•ˆå“åº”æ·»åŠ åˆ°ç¼“å­˜ä¸­ï¼Œç„¶åå†ä¼ é€’ç»™æµè§ˆå™¨ã€‚\nworkbox.routing.registerRoute( new RegExp(\u0026#39;^https://fastly\\\\.jsdelivr\\\\.net\u0026#39;), new workbox.strategies.CacheFirst({ cacheName: \u0026#39;static-immutable\u0026#39; + cacheSuffixVersion, fetchOptions: { mode: \u0026#39;cors\u0026#39;, credentials: \u0026#39;omit\u0026#39;, }, plugins: [ new workbox.expiration.ExpirationPlugin({ maxAgeSeconds: 30 * 24 * 60 * 60, purgeOnQuotaError: true, }), ], }) ); å­—ä½“æ–‡ä»¶ å¯¹äºå­—ä½“æ–‡ä»¶ï¼ŒåŸºæœ¬ä¸Šç¡®å®šå¥½å°±ä¸ä¼šæ”¹åŠ¨äº†ï¼Œè¿™é‡Œä½¿ç”¨StaleWhileRevalidateï¼Œæ­¤ç­–ç•¥å°†å¯¹ç½‘ç»œè¯·æ±‚ä½¿ç”¨ç¼“å­˜æ¥å“åº”ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå¹¶åœ¨åå°æ›´æ–°ç¼“å­˜ã€‚å¦‚æœæœªç¼“å­˜ï¼Œå®ƒå°†ç­‰å¾…ç½‘ç»œå“åº”å¹¶ä½¿ç”¨å®ƒã€‚\nworkbox.routing.registerRoute( // åŒ¹é… woff å­—ä½“ new RegExp(\u0026#39;.*.woff\u0026#39;), new workbox.strategies.StaleWhileRevalidate({ // cache storage åç§°å’Œç‰ˆæœ¬å· cacheName: \u0026#39;font-cache\u0026#39; + cacheSuffixVersion, plugins: [ // ä½¿ç”¨ expiration æ’ä»¶å®ç°ç¼“å­˜æ¡ç›®æ•°ç›®å’Œæ—¶é—´æ§åˆ¶ new workbox.expiration.ExpirationPlugin({ // æœ€å¤§ä¿å­˜é¡¹ç›® maxEntries, // ç¼“å­˜ 30 å¤© maxAgeSeconds: 30 * 24 * 60 * 60, }), // ä½¿ç”¨ cacheableResponse æ’ä»¶ç¼“å­˜çŠ¶æ€ç ä¸º 0 çš„è¯·æ±‚ new workbox.cacheableResponse.CacheableResponsePlugin({ statuses: [0, 200], }), ], }) ); APIèµ„æº APIæ•°æ®çš„è¯·æ±‚ä½¿ç”¨NetworkFirst ç­–ç•¥ï¼Œæ­¤ç­–ç•¥å°†å°è¯•é¦–å…ˆä»ç½‘ç»œè·å¾—å“åº”ã€‚å¦‚æœæ”¶åˆ°å“åº”ï¼Œå®ƒå°†æŠŠå®ƒä¼ é€’ç»™æµè§ˆå™¨ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°ç¼“å­˜ä¸­ã€‚å¦‚æœç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œå°†ä½¿ç”¨æœ€åä¸€ä¸ªç¼“å­˜çš„å“åº”ã€‚\nworkbox.routing.registerRoute( // åŒ¹é… leancloudapi.xsbb.ml new RegExp(\u0026#39;^https://(?:blog\\\\.zsan\\\\.ml)\u0026#39;), new workbox.strategies.NetworkFirst({ // cache storage åç§°å’Œç‰ˆæœ¬å· cacheName: \u0026#39;blog-api-cache\u0026#39; + cacheSuffixVersion, fetchOptions: { mode: \u0026#39;cors\u0026#39;, credentials: \u0026#39;omit\u0026#39;, }, networkTimeoutSeconds: 3, }) ); Google-Analytics å®˜æ–¹æœ‰Google Analytics ç¦»çº¿ç»Ÿè®¡æ’ä»¶,ä½†æ˜¯è‹±æ–‡çš„ï¼Œç›¸å…³èµ„æ–™ä¹Ÿå°‘ï¼ŒæŠ˜è…¾äº†å¥½ä¸€é˜µå­\n1ã€ç®€å•ç‚¹ï¼Œä¸€å¥ä»£ç å°±è¡Œ,æ³¨æ„ç”¨è¿™ä¸ªæ—¶å€™ï¼Œheadé‡Œçš„ä»£ç éœ€è¦æ˜¯å®˜æ–¹è·å–çš„æœ€æ–°çš„\nworkbox.googleAnalytics.initialize() 2ã€å¸¦ç¦»çº¿ç»Ÿè®¡\néœ€è¦å»Google analytics æ·»åŠ è‡ªå®šä¹‰æŒ‡æ ‡å’Œè‡ªå®šä¹‰ç»´åº¦\nworkbox.googleAnalytics.initialize({ parameterOverrides: { cd1: \u0026#39;offline\u0026#39;, }, hitFilter: (params) =\u0026gt; { const queueTimeInSeconds = Math.round(params.get(\u0026#39;qt\u0026#39;) / 1000); params.set(\u0026#39;cm1\u0026#39;, queueTimeInSeconds); }, }); å…¶ä»–åç¼€åŒ¹é… ä¿è¯ä½“éªŒè‰¯å¥½\nworkbox.routing.registerRoute( new RegExp(\u0026#39;.*.(?:png|jpg|jpeg|svg|gif|webp|ico)\u0026#39;), new workbox.strategies.StaleWhileRevalidate() ); workbox.routing.registerRoute( new RegExp(\u0026#39;.*.(css|js)\u0026#39;), new workbox.strategies.StaleWhileRevalidate() ); // é»˜è®¤ workbox.routing.setDefaultHandler( new workbox.strategies.NetworkFirst({ networkTimeoutSeconds: 3, }) ); æ”¹é€ å®Œæˆï¼Œå°½æƒ…äº«ç”¨ğŸ‰\nå‚è€ƒèµ„æ–™ åˆè¯† Service Worker â€”â€” ä½¿ç”¨ Workbox å¿«é€Ÿå¼€å‘ Service Worker - å®ç¡•åšå®¢\nPWAæ¥äº†ï¼Œä½ å‡†å¤‡å¥½äº†ä¹ˆï¼Ÿ - PWAå­¦ä¹ æ‰‹å†Œ\nHOME Â· PWA åº”ç”¨å®æˆ˜\nService worker overview - Chrome Developers\n","permalink":"https://blog.zsan.ml/posts/pwa-retrofitting/","summary":"æœ€è¿‘é—²æ¥æ— äº‹ï¼ŒæŠŠç½‘ç«™å‡çº§äº†ï¼Œæ›´åŠ åƒåŸç”ŸAPP è®°å½•ä¸‹å‡çº§è¿‡ç¨‹ï¼Œå…å¾—ä»¥åå¿˜äº† PWAæ˜¯ä»€ä¹ˆ","title":"ç”¨PWA æ”¹é€ WEB ä¸ºåŸç”ŸApp"},{"content":" å¾ˆä¹…ä»¥å‰é‡åˆ°çš„é—®é¢˜äº†ï¼Œç”¨cloudflare è®¾ç½®æœ‰å¤§å‘ï¼Œä»Šå¤©æ¥è®°å½•ä¸‹\nä¹‹å‰ç½‘ç«™çš„åŸŸåéœ€è¦æ›´æ¢ï¼Œblogç­‰åŸŸåä¹Ÿéœ€è¦ä»æ—§åŸŸååˆ°æ–°åŸŸå\næ—§åŸŸåï¼šolddona.com\næ–°åŸŸåï¼šnewdona.com\nç°åœ¨éœ€è¦è®¿é—® olddona.com æ—¶è·³è½¬åˆ° newdona.com\n1ã€clourflare ä¸Š dns è§£æ olddona.com\nç™»å½•clourflareã€ç‚¹å‡» dnsã€ç‚¹å‡»æ·»åŠ ä¸€æ¡aè®°å½•\nç±»å‹ï¼šA\nåç§°ï¼šolddona.com\nipv4åœ°å€ï¼š8.8.8.8\npsï¼šipv4 åœ°å€ä¸€å®šè¦å¡«ä¸€ä¸ªå¯ç”¨çš„ï¼Œè¿™æ˜¯ä¸ªå‘\n2ã€cloudflare æ·»åŠ é‡å®šå‘\nç‚¹å‡»è§„åˆ™\nç‚¹å‡»åˆ›å»ºé¡µé¢è§„åˆ™\nurl: olddona.com/*\né€‰å–è®¾ç½®ï¼šè½¬å‘URLã€301æ°¸ä¹…\nè¾“å…¥ç›®æ ‡URLï¼šhttps://newdona.com/$1\nä¿å­˜ä¹‹åï¼Œå»è®¿é—®olddona.com å¯ä»¥è·³åˆ° newdona.com æˆåŠŸğŸ‰\nä¹Ÿå¯ä»¥è¯•ä¸‹olddona.com/* æ˜¯å¦æˆåŠŸè·³è½¬å³å¯\n","permalink":"https://blog.zsan.ml/posts/cloudflare-301-set/","summary":"å¾ˆä¹…ä»¥å‰é‡åˆ°çš„é—®é¢˜äº†ï¼Œç”¨cloudflare è®¾ç½®æœ‰å¤§å‘ï¼Œä»Šå¤©æ¥è®°å½•ä¸‹ ä¹‹å‰ç½‘ç«™çš„åŸŸåéœ€","title":"åœ¨Cloudflare è®¾ç½®åŸŸå 301 é‡å®šå‘"},{"content":" mac armç‰ˆ 2021ç‰ˆçš„brew ä¸€é”®å®‰è£…å å‘½ä»¤ æŒ‰tab ä¸èƒ½è¡¥å…¨ï¼Œä»Šå¤©æœ‰ç‚¹é—²ï¼Œå°±æœäº†ä¸€ä¸‹ï¼Œç»™è§£å†³äº†\nç”¨çš„ Oh My Zshï¼Œå®˜æ–¹æ–‡æ¡£é‡Œå†™çš„å¾ˆè¯¦ç»†ï¼Œä¸è¿‡æ˜¯è‹±æ–‡çš„ï¼Œè¿™é‡Œç»™ç¿»è¯‘è®°å½•ä¸‹\n1ã€åœ¨ ~/.zshrc é‡Œæ·»åŠ ä¸‹é¢code\nif type brew \u0026amp;\u0026gt;/dev/null then FPATH=\u0026#34;$(brew --prefix)/share/zsh/site-functions:${FPATH}\u0026#34; autoload -Uz compinit compinit fi 2ã€åœ¨ ~/.zprofile é‡Œæ·»åŠ ä¸‹é¢code\nFPATH=\u0026#34;$(brew --prefix)/share/zsh/site-functions:${FPATH}\u0026#34; 3ã€å¼ºåˆ¶é‡å»ºzcompdump\nrm -f ~/.zcompdump; compinit 4ã€å¦‚æœå‡ºç° zsh compinit: insecure directory è­¦å‘Š\nchmod -R go-w \u0026#34;$(brew --prefix)/share\u0026#34; å‚è€ƒï¼š\nHomebrew Shell Completion â€” Homebrew Documentation\n","permalink":"https://blog.zsan.ml/posts/mac-brew-tab/","summary":"mac armç‰ˆ 2021ç‰ˆçš„brew ä¸€é”®å®‰è£…å å‘½ä»¤ æŒ‰tab ä¸èƒ½è¡¥å…¨ï¼Œä»Šå¤©æœ‰ç‚¹é—²ï¼Œå°±æœäº†ä¸€ä¸‹","title":"Mac Brew Tab å‘½ä»¤è‡ªåŠ¨è¡¥å…¨"},{"content":" å¼•è¨€ï¼šæœ€è¿‘ç”¨äº†iPhoneæ‰‹æœºï¼Œå¬Apple musicçš„æ—¶å€™ï¼Œæœ‰äº›å–œæ¬¢çš„æ­Œæ›²å¹¶æ²¡æœ‰ï¼Œæƒ³ä¸‹è½½åˆ°æœ¬åœ°ä½†ç”±äºiOSçš„ç”Ÿæ€å°é—­ï¼Œæ“ä½œå¤ªéº»çƒ¦ï¼›\nåœ¨å¯»æ‰¾è§£å†³æ–¹æ¡ˆæ—¶å‘ç°ç”¨è‡ªå»ºæ’­å®¢æ¥å®ç°ä¸‹è½½éŸ³ä¹æ–¹æ¡ˆå¯è¡Œï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢çš„æ•™ç¨‹\nWhat æ’­å®¢ï¼ˆpodcastï¼‰åˆ›ä½œè€…å°†éŸ³é¢‘æˆ–è§†é¢‘ä¸Šä¼ è‡³RSSæˆ–åœ¨çº¿æ’­å®¢å¹³å°ï¼Œå¬ä¼—æˆ–è§‚ä¼—åˆ™é€šè¿‡è½¯ä»¶è·å–èŠ‚ç›®æ›´æ–°ã€‚\nHow åˆ¶ä½œè¿‡ç¨‹ä¸è¯´äº†ï¼Œæ¥è°ˆè°ˆå‘å¸ƒè¿‡ç¨‹ï¼Œå¾ˆç®€å•ï¼Œä¸€ä¸ªæ”¯æŒRSSçš„ç½‘ç«™å‘å¸ƒéŸ³é¢‘ä¿¡æ¯ä¾›ç”¨æˆ·æ‹‰å–ï¼Œä¸€ä¸ªéŸ³é¢‘æ‰˜ç®¡å¹³å°å­˜æ”¾éŸ³é¢‘\nç½‘ç«™ç›´æ¥Hugoæ­å»ºï¼Œç”¨zenä¸»é¢˜æ”¯æŒpodcastï¼Œæ”¾åœ¨GitHub pageä¸Šï¼ŒåŸŸåå¯ä»¥åœ¨freedomä¸Šæ³¨å†Œï¼Œç”¨cloudflare DNSè§£æå’ŒåŠ é€Ÿ hugo æ­å»ºæ’­å®¢\n#æ–°å»ºç½‘ç«™ hugo new site podcast #å®‰è£… zenä¸»é¢˜ git clone https://github.com/frjo/hugo-theme-zen.git themes/zen #åœ¨contentå†…æ–°å»ºpodcastæ–‡ä»¶å¤¹ï¼Œæ­¤é¡µé¢å†…æ–°å¢éŸ³é¢‘ cd content mkdir podcast #podcastçš„ä¸€äº›è®¾ç½® #è®¾ç½®çš„å›¾ç‰‡ï¼Œéœ€è¦ç°åœ¨æ ¹ç›®å½•æ–°å»º assets/images ç›®å½•ï¼Œå–ç›¸å¯¹è·¯å¾„å³å¯ #podcast éŸ³é¢‘ä¸‹é¢æ˜¾ç¤ºé“¾æ¥ï¼Œå¦‚ä½•å–æ¶ˆ vim layouts/partials/podcast.html #æ³¨é‡Šæ‰ä¸‹é¢è¡Œ \u0026lt;figcaption\u0026gt;\u0026lt;a href=\u0026#34;{{ $src }}\u0026#34;\u0026gt;{{ .Title }}\u0026lt;/a\u0026gt;\u0026lt;/figcaption\u0026gt; podcast é…ç½®\n#æ–‡ç« é¡¶éƒ¨æ–°å¢å‚æ•° podcast: mp3: duration: éŸ³é¢‘æ‰˜ç®¡å¹³å°è‡ªå»ºmininæœåŠ¡å­˜å‚¨éŸ³é¢‘ minioæœåŠ¡å¾ˆå¼ºå¤§ï¼Œæ„Ÿå…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹\ndocker éƒ¨ç½²\nversion: \u0026#39;3.3\u0026#39; services: minio: image: quay.io/minio/minio container_name: minio1 ports: - 9090:9090 #æ§åˆ¶å°ç«¯å£ - 9000:9000 #APIç«¯å£ volumes: - \u0026#39;./data:/data\u0026#39; - \u0026#39;./config:/root/.minio\u0026#39; environment: MINIO_ROOT_USER: admin #ç®¡ç†ç”¨æˆ·å MINIO_ROOT_PASSWORD: admin #ç®¡ç†å¯†ç  command: server /data --console-address \u0026#39;:9090\u0026#39; restart: always éƒ¨ç½²æˆåŠŸï¼Œip:9090è®¿é—®ç™»å½•\næ§åˆ¶å°æ“ä½œ\n1ã€åˆ›å»ºå­˜å‚¨æ¡¶\ncreate bucket\n2ã€ç‚¹å‡»manageï¼ŒAccess Rules\nadd rule\nprefixï¼š*.* access:readonly 3ã€ä¸Šä¼ éŸ³é¢‘\n4ã€åˆ†äº«æ–‡ä»¶ï¼Œé“¾æ¥åœ°å€ å¤åˆ¶å‡ºæ¥ï¼Œå‰é¢ipæ¢æˆå¤–éƒ¨ipå³å¯\næŠŠåœ°å€è´´åœ¨ä¸Šé¢podcast å‚æ•° mp3 çš„åœ°æ–¹\nenjoy è¿™æ ·ç®—ä¸‹æ¥ï¼Œé™¤äº†ç”¨äº†ä¸€å°æœåŠ¡å™¨å¤–ï¼Œå…¶ä»–å…¨éƒ¨è´¹ç”¨ä¸ºé›¶ï¼Œæ€»è´¹ç”¨ç™¾å…ƒä¸åˆ°\néƒ¨ç½²å…¨éƒ¨å®Œæˆï¼Œç‚¹å‡»RSSé“¾æ¥æ”¾åˆ°è®¢é˜…çš„åœ°æ–¹ï¼Œå°½æƒ…äº«ç”¨å§ï¼ğŸ‰\nå‚è€ƒï¼š\nZen | Hugo Themes\nGitHub - frjo/hugo-theme-zen: A fast and clean Hugo base theme with css-grid and Hugo pipes support.\nå¦‚ä½•é›¶æˆæœ¬å¼€å§‹ä¸€æ¡£æ–°æ’­å®¢ - Keep Coding\nè‹¹æœåšå®¢æŒ‡å—\nGitHub - minio/minio: Multi-Cloud Object Storage\nMinIO | The MinIO Quickstart Guide\nè‡ªå»ºå¯¹è±¡å­˜å‚¨Minio - åšå®¢å°ç«™\n","permalink":"https://blog.zsan.ml/posts/how-to-make-podcast/","summary":"å¼•è¨€ï¼šæœ€è¿‘ç”¨äº†iPhoneæ‰‹æœºï¼Œå¬Apple musicçš„æ—¶å€™ï¼Œæœ‰äº›å–œæ¬¢çš„æ­Œæ›²å¹¶æ²¡æœ‰ï¼Œ","title":"ä½æˆæœ¬æ­å»ºé«˜è´¨é‡æ’­å®¢å‘å¸ƒæœåŠ¡"},{"content":" æœ€è¿‘è–…ğŸ¦™æ¥è§¦äº†autojsï¼Œåœ¨Androidæ‰‹æœºä¸Šå¯è‡ªåŠ¨åŒ–è¿è¡Œçš„è„šæœ¬ï¼Œä¸ç”¨rootï¼Œå¯ç›´æ¥è¿è¡Œï¼Œè½»é‡å°å·§ï¼Œåº•å±‚è°ƒç”¨Android APIï¼Œè‡ªå·±å¯å°è£…APIğŸ‘\nå®‰è£… autojsåŸä½œè€…å·²ä¸å†ç»´æŠ¤ï¼Œæ¨å‡ºäº†autojs.proç‰ˆï¼Œæœ‰é’±çš„å¤§ä½¬å¯ä»¥ç›´æ¥å»å®‰è£…ä¸‹è½½ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿå¾ˆå…¨\næ²¡é’±çš„è¯ï¼Œå¯ä»¥ç”¨autoxjsï¼Œä»åŸæœ‰å¼€æºåº“æ¥æ‰‹è¿‡æ¥çš„ï¼Œå¼€æºå…è´¹\nGitHub - kkevsekk1/AutoX: A UiAutomator on android, does not need root access(å®‰å“å¹³å°ä¸Šçš„JavaScriptè‡ªåŠ¨åŒ–å·¥å…·)\nå¸¸ç”¨è¯­æ³• è·å–è®¾å¤‡ä¿¡æ¯ // æ‰“å°è¿è¡Œç¯å¢ƒä¿¡æ¯ let str = \u0026#34;\u0026#34;; let str = \u0026#34;\u0026#34;; str += \u0026#34;å±å¹•å®½åº¦:\u0026#34; + device.width; str += \u0026#34;\\nå±å¹•é«˜åº¦:\u0026#34; + device.height; str += \u0026#34;\\nbuildId:\u0026#34; + device.buildId; str += \u0026#34;\\nä¸»æ¿:\u0026#34; + device.board; str += \u0026#34;\\nåˆ¶é€ å•†:\u0026#34; + device.brand; str += \u0026#34;\\nå‹å·:\u0026#34; + device.model; str += \u0026#34;\\näº§å“åç§°:\u0026#34; + device.product; str += \u0026#34;\\nbootloaderç‰ˆæœ¬:\u0026#34; str += \u0026#34;\\nbootloaderç‰ˆæœ¬:\u0026#34; + device.bootloader; str += \u0026#34;\\nç¡¬ä»¶åç§°:\u0026#34; + device.hardware; str += \u0026#34;\\nå”¯ä¸€æ ‡è¯†ç :\u0026#34; + device.fingerprint; str += \u0026#34;\\nIMEI: \u0026#34; + device.getIMEI(); str += \u0026#34;\\nAndroidId: \u0026#34; + device.getAndroidId(); str += \u0026#34;\\nMac: \u0026#34; + device.getMacAddress(); str += \u0026#34;\\nAPI: \u0026#34; + device.sdkInt; log(str); æ‰“å¼€åº”ç”¨å¸‚åœºappè¯¦æƒ…é¡µ //æ‰“å¼€åº”ç”¨å¸‚åœºappè¯¦æƒ…é¡µ function startAppStore() { toastLog(\u0026#34;å»åº”ç”¨å¸‚åœº...\u0026#34;) let i = app.intent({ action: \u0026#34;VIEW\u0026#34;, // type: \u0026#34;image/png\u0026#34;, data: app.parseUri(\u0026#39;market://details?id=\u0026#39; + pkgName), flags: [\u0026#34;activity_new_task\u0026#34;], packageName: myDevice(\u0026#34;Markets\u0026#34;), }); context.startActivity(i); } æ£€æµ‹appå®‰è£…çŠ¶æ€ // é€šè¿‡åˆ¤æ–­åŒ…ååˆ¤æ–­æ˜¯å¦å®‰è£…app getAppName(pkgName) è·å–å½“å‰æ—¶é—´ function getCurData() { let now = new Date(); let timeNow; let y = now.getFullYear(); //å¾—åˆ°å¹´ä»½ let m = now.getMonth() + 1;//å¾—åˆ°æœˆä»½ let d = now.getDate();//å¾—åˆ°æ—¥æœŸ // let day = now.getDay();//å¾—åˆ°å‘¨å‡  let h = now.getHours();//å¾—åˆ°å°æ—¶æ•° let i = now.getMinutes();//å¾—åˆ°åˆ†é’Ÿæ•° let s = now.getSeconds();//å¾—åˆ°ç§’æ•° timeNow = y + \u0026#34;-\u0026#34; + m + \u0026#34;-\u0026#34; + d + \u0026#34; \u0026#34; + h + \u0026#34;:\u0026#34; + i + \u0026#34;:\u0026#34; + s; // log(timeNow); return timeNow; } è°ƒè¯• åœ¨vscodeå†…å®‰è£…è°ƒè¯•æ’ä»¶\n1ã€æŒ‰Â Ctrl+Shift+PÂ æˆ–ç‚¹å‡»\u0026quot;æŸ¥çœ‹\u0026quot;-\u0026gt;\u0026ldquo;å‘½ä»¤é¢æ¿\u0026quot;å¯è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥Â Autox.jsÂ å¯ä»¥çœ‹åˆ°å‡ ä¸ªå‘½ä»¤ï¼Œç§»åŠ¨å…‰æ ‡åˆ°å‘½ä»¤Auto.js Autox,js: Start All Serverï¼ŒæŒ‰å›è½¦é”®æ‰§è¡Œè¯¥å‘½ä»¤ã€‚\n2ã€é€šè¿‡æ— çº¿æˆ–æœ‰çº¿è¿æ¥\n3ã€ä¹‹åå°±å¯ä»¥åœ¨ç”µè„‘ä¸Šç¼–è¾‘JavaScriptæ–‡ä»¶å¹¶é€šè¿‡å‘½ä»¤Runæˆ–è€…æŒ‰é”®F5åœ¨æ‰‹æœºä¸Šè¿è¡Œäº†ã€‚\næ‰“åŒ… è°ƒè¯•å®Œæˆåï¼ŒæŒ‰Â Ctrl+Shift+PÂ æˆ–ç‚¹å‡»\u0026quot;æŸ¥çœ‹\u0026rdquo;-\u0026gt;\u0026ldquo;å‘½ä»¤é¢æ¿\u0026quot;å¯è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥Â Autox.jsÂ å¯ä»¥çœ‹åˆ°å‡ ä¸ªå‘½ä»¤ï¼Œç§»åŠ¨å…‰æ ‡åˆ°å‘½ä»¤Auto.js Autox,js: Save On Deviceï¼ŒæŒ‰å›è½¦é”®æ‰§è¡Œè¯¥å‘½ä»¤ã€‚\nä¿å­˜åˆ°æ‰‹æœºä¸Šåï¼Œé€‰æ‹©æ›´å¤šâ€”æ‰“åŒ…åº”ç”¨\nç­‰å¾…æ‰“åŒ…æˆåŠŸåï¼Œå°½æƒ…äº«ç”¨å§ï¼ğŸ‰\npsï¼šç›®å‰æœ€æ–°ç‰ˆéƒ½æ˜¯X64æ¶æ„çš„ï¼Œå¦‚éœ€X32æ¶æ„éœ€è¦è£…è€ç‰ˆæœ¬å³å¯\npsï¼šå¦‚æœæƒ³æƒ³å†™ä¸ªç®€å•çš„å°è„šæœ¬ï¼Œè¿˜æ˜¯ç”¨autojsä¸é”™ï¼Œç®€å•è½»ä¾¿ï¼Œç”¨appiumé‚£ä¸€å¥—æ¶æ„å¤ªé‡äº†ï¼Œæ€é¸¡ç„‰ç”¨ç‰›åˆ€å•Šï¼\næé«˜è®¤çŸ¥ï¼Œé™ç»´æ‰“å‡»ï¼\n","permalink":"https://blog.zsan.ml/posts/autojs-notes/","summary":"æœ€è¿‘è–…ğŸ¦™æ¥è§¦äº†autojsï¼Œåœ¨Androidæ‰‹æœºä¸Šå¯è‡ªåŠ¨åŒ–è¿è¡Œçš„è„šæœ¬ï¼Œä¸ç”¨rootï¼Œ","title":"Autojs ç¬”è®°"},{"content":" å…³äºæµ‹è¯•çš„ä¸€äº›ç¬”è®°ï¼ˆé“ï¼‰\né“æ˜¯å¿ƒæ³•ï¼Œæ˜¯æœ€éš¾è€ƒå¯Ÿçš„\næœ¯æ˜¯å·¥å…·ï¼Œæ˜¯å¯ä»¥ç®€å•è€ƒå¯Ÿå‡ºæ¥çš„\nç›®å‰å…¬å¸JDè¿˜éƒ½æ˜¯åå‘æœ¯æ–¹é¢çš„\né—¨æ§›ä½ï¼Œå¯¼è‡´æµ‹è¯•çš„åœ°ä½ä½ä¸‹ï¼Œè¿˜å¸Œæœ›åŒè¡Œä»¬å…±åŒåŠªåŠ›ğŸ’ªå‘€\n1ã€æµ‹è¯•æŠ€æœ¯é¢†åŸŸæœ€éš¾çš„æŠ€æœ¯åº”è¯¥æ˜¯æµ‹è¯•åˆ†æå’Œè®¾è®¡\næµ‹è¯•æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ\næœ‰äººè¯´ æˆ‘ä¼š è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»€ä¹ˆseleniumï¼Œappiumï¼Œpythonï¼Œç©çš„é£æºœğŸ™„ï¸\nè€Œå´å¿˜äº† æœ€é‡è¦çš„è¾“å…¥â€”â€”æµ‹è¯•ç”¨ä¾‹\nä¸€ä¸ªç³»ç»Ÿï¼Œåªè¦è¾“å…¥æ˜¯é”™çš„ï¼Œä»–å†èªæ˜ã€å¿«é€Ÿï¼Œé‚£è¾“å‡ºçš„ä¹Ÿæ˜¯é”™çš„\n2ã€æµ‹è¯•ä»·å€¼çš„ä½“ç°æœ€ä¸»è¦è¿˜æ˜¯ä¿éšœè‡ªå·±ç»„ç»‡å¼€å‘çš„è½¯ä»¶åœ¨å…³é”®åº”ç”¨æ—¶ä¸è¦å‡ºæ•…éšœï¼Œç»™ç»„ç»‡é€ æˆå•†ä¸šæŸå¤±ã€‚\n3ã€æµ‹è¯•åˆ†æå’Œè®¾è®¡çš„æ·±åº¦åŠç³»ç»ŸåŒ–ï¼Œä»¥åŠæŒæ¡å¹¿æ³›çš„ä¸“é¡¹æµ‹è¯•ç±»å‹ã€‚\n4ã€æµ‹è¯•å·¥ç¨‹å¸ˆæŠ€æœ¯æ°´å¹³\n5ã€å¿«é€Ÿç¼–å†™æµ‹è¯•ç”¨ä¾‹\n1ã€æ ¹æ®ç”¨æˆ·è¡Œä¸ºä¹ æƒ¯ç¼–å†™ä¸€å¥—case\n2ã€æ ¹æ®éœ€æ±‚åŠŸèƒ½ç¼–å†™ä¸€å¥—case\n3ã€æ¢ç´¢æ€§æµ‹è¯•ç¼–å†™ä¸€å¥—case\nå¦‚ä½•ç”¨æœ€é€šä¿—çš„æ–¹å¼ç»™éæµ‹è¯•è€…æè¿°æµ‹è¯•è€…å­˜åœ¨çš„ä»·å€¼ï¼Œ\nä¾‹å¦‚ï¼šç»™è€æ¿è®²ã€ç»™é¡¹ç›®ç»ç†è®²ã€ç»™å¼€å‘ç»ç†è®²ã€ç»™äº§å“æ€»è´Ÿè´£äººè®²ï¼š\n1ã€å‡å°‘é—æ¼ç»™ç”¨æˆ·çš„ä¸¥é‡è´¨é‡é—®é¢˜ ï¼ˆæµ‹è¯•è€…åœ¨å‘å¸ƒå‰å°½å¯èƒ½å‘ç°å½±å“ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼‰\n2ã€å‡å°‘äº§å“çš„ç ”å‘å’Œç»´æŠ¤æˆæœ¬ ï¼ˆå‡å°‘å¼€å‘äººå‘˜å®šä½é—®é¢˜å’Œä¿®å¤é—®é¢˜çš„æˆæœ¬ï¼Œå‡å°‘äº§å“å”®åç»´æŠ¤æˆæœ¬ï¼‰\n3ã€ç¼©çŸ­äº§å“ç ”å‘çš„å‘¨æœŸ ï¼ˆå¸®åŠ©ç¼ºé™·é¢„é˜²ï¼Œå°½æ—©å‘ç°é—®é¢˜ï¼Œå¤ç°é—®é¢˜ï¼Œç¼©çŸ­å¼€å‘ä¿®å¤å’Œå®šä½é—®é¢˜çš„æˆæœ¬)\nå‚è€ƒæ–‡æ¡£ï¼š\n1ã€æ¶æ„å¸ˆJack\n","permalink":"https://blog.zsan.ml/posts/test-notes/","summary":"å…³äºæµ‹è¯•çš„ä¸€äº›ç¬”è®°ï¼ˆé“ï¼‰ é“æ˜¯å¿ƒæ³•ï¼Œæ˜¯æœ€éš¾è€ƒå¯Ÿçš„ æœ¯æ˜¯å·¥å…·ï¼Œæ˜¯å¯ä»¥ç®€å•è€ƒå¯Ÿå‡ºæ¥çš„ ç›®å‰å…¬å¸","title":"æµ‹è¯•ç¬”è®°"},{"content":" SnapdropÂ æ˜¯ä¸€ä¸ªå¼€æºçš„åœ¨çº¿æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¯ä»¥åœ¨Â Windowsã€Macã€Linuxã€iOSã€AndroidÂ ä»»ä½•å¹³å°ä½¿ç”¨ï¼Œåªè¦æˆ‘ä»¬çš„è®¾å¤‡æœ‰æµè§ˆå™¨å°±èƒ½ç”¨ä»–æ¥ä¼ è¾“æ–‡ä»¶\nå®˜ç½‘æœ‰demoï¼Œbutä¸ç¨³å®šï¼Œè‡ªéƒ¨ç½²ä¸€å¥—ç¨³å®šå¯é å¯æ§\n#git clone ä¸‹è½½ git clone https://github.com/RobinLinus/snapdrop.git cd snapdrop #å›½å†…æœåŠ¡éœ€æ¢æº cd docker vim nginx-with-openssl.Dockerfile #RUN apk add --no-cache openssl ä¸Šæ–¹æ·»åŠ å‘½ä»¤ RUN sed -i \u0026#39;s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g\u0026#39; /etc/apk/repositories #ä¿å­˜ å¯åŠ¨ docker-compose up -d å¸¸è§é—®é¢˜ï¼š\n1ã€å¯åŠ¨åæ—¥å¿—é‡ŒæŠ¥\nnpm ERR! Error: EACCES: permission denied, access \u0026#39;/home/node/app\u0026#39; npm ERR! { Error: EACCES: permission denied, access \u0026#39;/home/node/app\u0026#39; npm ERR! stack: \u0026#39;Error: EACCES: permission denied, access \\\u0026#39;/home/node/app\\\u0026#39;\u0026#39;, npm ERR! errno: -13, npm ERR! code: \u0026#39;EACCES\u0026#39;, npm ERR! syscall: \u0026#39;access\u0026#39;, npm ERR! path: \u0026#39;/home/node/app\u0026#39; } æƒé™ userçš„å‘ï¼Œæˆ‘é»˜è®¤æ˜¯rootç”¨æˆ·ï¼Œymlé‡Œnodeå¯åŠ¨ä¸ºnodeç”¨æˆ·ï¼Œå¯¼è‡´æƒé™è¿‡ä½ï¼Œå¯åŠ¨å¤±è´¥\næ­¤æ—¶åªéœ€è¦æŠŠdocker-compose.yml é‡Œçš„user: \u0026ldquo;nodeâ€ æ³¨é‡Šå³å¯\nvim docker-compose #user: \u0026#34;nodeâ€ ","permalink":"https://blog.zsan.ml/posts/docker-deploy-snapdrop/","summary":"Snapdrop æ˜¯ä¸€ä¸ªå¼€æºçš„åœ¨çº¿æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¯ä»¥åœ¨ Windowsã€Macã€Linuxã€iOSã€A","title":"Docker éƒ¨ç½² Snapdrop"},{"content":" è®¾å¤‡ï¼šN1\nç¡¬ç›˜ï¼š400g ssd\nå·²å®‰è£…æœåŠ¡ï¼šdockerã€docker-compose\nå¼€å¹²ï¼\nä¸€ã€æŒ‚è½½ssdï¼ˆæŒ‚è½½è¿‡ç›´æ¥è·³åˆ°ç¬¬äºŒæ­¥ï¼‰ ç¡¬ç›˜æ’åˆ°N1ä¸Š\nlsblk #æŸ¥çœ‹å½“å‰ç£ç›˜æƒ…å†µ fdisk -l #æŸ¥çœ‹å½“å‰æœªæŒ‚è½½çš„ç£ç›˜ #å‡è®¾ç£ç›˜åä¸º dev/sda #åˆ›å»ºåˆ†åŒº fdisk dev/sda #è¾“å…¥n, p, 1, ä¸¤æ¬¡å›è½¦ï¼Œwq #æ–°å»ºä¸€ä¸ªä¸»åˆ†åŒºï¼Œå¤§å°æ•´ä¸ªç£ç›˜ï¼Œä¿å­˜å†™å…¥ #å†™å…¥æ–‡ä»¶æ ¼å¼ mkfs.ext4 /dev/sda #ext4æ ¼å¼ #æŒ‚è½½ mount /dev/sda /media/data #æŸ¥çœ‹æ–‡ä»¶ df -lh #æŸ¥çœ‹åˆ°åˆšæ‰æŒ‚è½½çš„ç¡¬ç›˜ #è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ vim /etc/fstab # åœ¨æœ€åæ–°å¢ä¸€è¡Œ /dev/sdb /media/data ext4 defaults 0 0 äºŒã€éƒ¨ç½² mkdir wxedge cd wxedge vim docker-compose.yml version: \u0026#39;3.3\u0026#39; services: wxedge: container_name: wxedge restart: always privileged: true network_mode: host tmpfs: - /run - /tmp volumes: - \u0026#39;/media/data/wxedge:/storage:rw\u0026#39; image: onething1/wxedge ip:18888 æ‰“å¼€ æˆåŠŸğŸ‰ğŸ‰ğŸ‰\nèººç€èµšé’±å§ï¼\n","permalink":"https://blog.zsan.ml/posts/docker-deploying-netcentric-cloud-containers/","summary":"è®¾å¤‡ï¼šN1 ç¡¬ç›˜ï¼š400g ssd å·²å®‰è£…æœåŠ¡ï¼šdockerã€docker-compose å¼€å¹²","title":"ã€èººèµšã€‘dockeréƒ¨ç½²ç½‘å¿ƒäº‘å®¹å™¨é­”æ–¹"},{"content":" ç”¨dockeréƒ¨ç½²nginxå®˜æ–¹åªç»™äº†dockerç‰ˆæœ¬çš„ï¼Œæ²¡æœ‰composeçš„ï¼Œåªå¥½è‡ªå·±è½¬æ¢ä¸€ä¸‹äº†ï¼Œè®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡éƒ¨ç½²ï¼Œè¿™åªæ˜¯ç®€å•çš„éƒ¨ç½²ï¼Œè‡³äºnginxé…ç½®çš„è¯ï¼Œæœ‰ç©ºå†è¡¥å§ğŸ« \n1ã€åˆ›å»ºdocker-nginxç›®å½• æ–°å»º docker-compose.yml æ–‡ä»¶\nmkdir docker-nginx mkdir nginx mkdir log mkdir html vim docker-compose.yml 2ã€docker-compose.yml version: \u0026#39;3.3\u0026#39; services: web: image: nginx:latest container_name: nginx volumes: - ./nginx:/etc/nginx - ./log:/var/log/nginx - ./html:/usr/share/nginx/html //ç½‘ç«™æ”¾ç½®ç›®å½• ports: - \u0026#34;8081:80\u0026#34; environment: - NGINX_HOST=\u0026#34;192.168.116.10\u0026#34; //è®¿é—®åœ°å€/åŸŸå - NGINX_PORT=\u0026#34;80\u0026#34; //è®¿é—®ç«¯å£ - TZ=\u0026#34;Asia/Shanghai\u0026#34; //æ—¶åŒº restart: always 3ã€æ‰‹åŠ¨cpé…ç½®æ–‡ä»¶ ç”±äºå®˜æ–¹imageæ²¡æœ‰é»˜è®¤æ˜ å°„å¤–éƒ¨æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨æŠŠé…ç½®æ–‡ä»¶cpå‡ºæ¥\n# è¿è¡Œå®˜æ–¹å‘½ä»¤åˆ›å»ºé»˜è®¤å®¹å™¨ docker run --name nginx -p 8080:80 -d nginx #é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°nginxé‡Œ,å…¶ä»–æ–‡ä»¶å¯ç”¨å¤åˆ¶ #æ˜¯ä¸ªå‘ï¼Œè·¯å¾„å¿…é¡»æ˜¯å…¨è·¯å¾„ docker cp nginx:/etc/nginx /opt/docker-nginx #åˆ é™¤é»˜è®¤å®¹å™¨ docker stop nginx \u0026amp;\u0026amp; docker rm nginx 4ã€ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ ç«¯å£å·ã€åŸŸåï¼Œsslç­‰å’Œä»¥å‰é…ç½®ä¸€æ ·ï¼Œä¸å†èµ˜è¿°\n5ã€è¿è¡Œ\u0026amp;æµ‹è¯• docker-compose up -d #æŸ¥çœ‹æ—¥å¿— docker-compose logs -f #æµè§ˆå™¨è¾“å…¥IPæˆ–åŸŸåæŸ¥çœ‹æ˜¯å¦å¯ä»¥è®¿é—® å‚è€ƒæ–‡æ¡£ï¼š\n1ã€Docker Hub-nginx\n","permalink":"https://blog.zsan.ml/posts/docker-build-nginx/","summary":"ç”¨dockeréƒ¨ç½²nginxå®˜æ–¹åªç»™äº†dockerç‰ˆæœ¬çš„ï¼Œæ²¡æœ‰composeçš„ï¼Œåªå¥½","title":"Docker éƒ¨ç½² NginxæœåŠ¡"},{"content":"ä½•ä¸ºä¿¡æ¯èŒ§æˆ¿ï¼š\nå“ˆä½›å¤§å­¦å‡¯æ–¯Â·æ¡‘æ–¯å¦æ•™æˆåœ¨ã€Šä¿¡æ¯ä¹Œæ‰˜é‚¦ã€‹ä¸€ä¹¦ä¸­æå‡ºï¼Œäººç±»ç¤¾ä¼šå­˜åœ¨ä¸€ç§â€œä¿¡æ¯èŒ§æˆ¿â€ç°è±¡ã€‚ä»–è®¤ä¸ºï¼Œåœ¨ä¿¡æ¯ä¼ æ’­ä¸­äººä»¬è‡ªèº«çš„ä¿¡æ¯éœ€æ±‚å¹¶éå…¨æ–¹ä½çš„ï¼Œåªä¼šæ³¨æ„é€‰æ‹©æƒ³è¦çš„æˆ–èƒ½ä½¿è‡ªå·±æ„‰æ‚¦çš„ä¿¡æ¯ï¼Œä¹…è€Œä¹…ä¹‹æ¥è§¦çš„ä¿¡æ¯å°±è¶Šæ¥è¶Šå±€é™ï¼Œè¶Šæ¥è¶Šçª„ï¼Œå°±åƒèš•åå‡ºæ¥çš„ä¸ä¸€æ ·ï¼Œç»†ç»†å¯†å¯†åœ°æŠŠè‡ªå·±åŒ…è£¹èµ·æ¥ï¼Œæœ€ç»ˆåƒä¸€ä¸ªèš•å®å®ä¸€æ ·è¢«æ¡æ¢åœ¨â€œä¿¡æ¯èŒ§æˆ¿â€å†…ï¼Œå¤±å»å¯¹å…¶ä»–ä¸åŒäº‹ç‰©çš„äº†è§£èƒ½åŠ›å’Œæ¥è§¦æœºä¼šã€‚å½“æ—¶ï¼Œä»–çš„è¿™ä¸€è§‚ç‚¹è¿˜åªæ˜¯ä½œä¸ºä¸€ç§æ¨è®ºå’Œé¢„æµ‹ï¼Œä½†éšç€ç½‘ç»œä¿¡æ¯å’Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„é£é€Ÿå‘å±•ï¼Œè¿™ç§â€œä¿¡æ¯èŒ§æˆ¿â€ç°è±¡ï¼Œæ­£è¶Šæ¥è¶Šå¤šåœ°å‘ç”Ÿåœ¨ç°å®ç”Ÿæ´»ä¸­å’Œæˆ‘ä»¬çš„èº«è¾¹ã€‚\nè¯´äººè¯å°±æ˜¯ï¼š\nåœ¨ç°å¦‚ä»Šçš„ç”Ÿæ´»ä¸­ï¼Œäººä»¬æ¥å—ä¿¡æ¯çš„æ¥æºï¼ˆä¸»è¦æŒ‡ç”Ÿæ´»åœ¨å¤§é™†ï¼Œå›½å¤–ä¹Ÿå·®ä¸å¤šï¼‰ï¼Œä¸»è¦ä»å¾®ä¿¡ã€å¾®åšã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ä¸­å¿ƒåŒ–çš„å¹³å°ï¼Œå„å®¶ç›¸äº’å…³é—­è‡ªå·±çš„å¼€æ”¾æ¥å£ï¼Œå¼ºè¿«ç”¨æˆ·ç•™åœ¨è‡ªå·±å¹³å°ä¸Šï¼Œæœ‰æ—¶å€™åªå…³æ³¨æŸä¸ªå¤§Vçš„ä¿¡æ¯ï¼Œå´ä¸å¾—ä¸å®‰è£…ä¸€ä¸ªappï¼Œå°±è¿™æ ·æ‰‹æœºä¸Šè£…äº†å¾ˆå¤šappï¼ˆè¿™äº›appä»¬å¹³å‡ä¸€å‘¨æ›´æ–°ä¸€æ¬¡ï¼Œè¦åäº†ï¼‰å†åŠ ä¸Šå¹³å°çš„æ¨èç®—æ³•ï¼Œåªæ¨èä½ å–œæ¬¢çš„ï¼ˆå…¼å¬åˆ™æ˜ï¼Œåä¿¡åˆ™æš—ï¼‰ï¼Œè¿™æ ·ä¸‹å»ï¼Œæ•´ä¸ªäººçš„è®¤çŸ¥æ— æ³•è¢«æé«˜\nç»è¿‡ä¸€æ®µæ—¶é—´çš„æ¢ç´¢ï¼Œæ­å»ºäº†RSSè¿™å¥—æœåŠ¡ï¼ŒRSSæœåŠ¡å±äºå¤è€æœåŠ¡äº†ï¼Œä¼°è®¡åªæœ‰æ•°å­—åŸä½æ°‘æ‰å¬è¯´è¿‡ï¼Œç›®å‰æ¥è¯´è¿˜å¯ä»¥ï¼Œæ­£åœ¨æ…¢æ…¢è¿‡æ¸¡ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ­å»ºè¿‡ç¨‹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡è¿ç§»\nRSSï¼ˆè‹±æ–‡å…¨ç§°ï¼šRDFÂ Site Summary æˆ– Really Simple Syndication[2]ï¼‰ï¼Œä¸­æ–‡è¯‘ä½œç®€æ˜“ä¿¡æ¯èšåˆ[3]ï¼Œä¹Ÿç§°èšåˆå†…å®¹[4]ï¼Œæ˜¯ä¸€ç§æ¶ˆæ¯æ¥æºæ ¼å¼è§„èŒƒï¼Œç”¨ä»¥èšåˆå¤šä¸ªç½‘ç«™æ›´æ–°çš„å†…å®¹å¹¶è‡ªåŠ¨é€šçŸ¥ç½‘ç«™è®¢é˜…è€…ã€‚ä½¿ç”¨ RSS åï¼Œç½‘ç«™è®¢é˜…è€…ä¾¿æ— éœ€å†æ‰‹åŠ¨æŸ¥çœ‹ç½‘ç«™æ˜¯å¦æœ‰æ–°çš„å†…å®¹ï¼ŒåŒæ—¶ RSS å¯å°†å¤šä¸ªç½‘ç«™æ›´æ–°çš„å†…å®¹è¿›è¡Œæ•´åˆï¼Œä»¥æ‘˜è¦çš„å½¢å¼å‘ˆç°ï¼Œæœ‰åŠ©äºè®¢é˜…è€…å¿«é€Ÿè·å–é‡è¦ä¿¡æ¯ï¼Œå¹¶é€‰æ‹©æ€§åœ°ç‚¹é˜…æŸ¥çœ‹ã€‚\nâ€”â€”å¼•ç”¨wikipedia\nå‡†å¤‡ï¼š\néœ€è¦ä¸€å°æœåŠ¡å™¨ï¼Œè¿è¡Œlinuxå³å¯Â é…ç½®ä¸ç”¨å¤ªå¤§ï¼Œæˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ï¼Œç”Ÿæ´»åœ¨å¤§é™†ï¼Œå›½å†…è®¿é—®æ¯”è¾ƒå¿«\nç”¨åˆ°çš„æœåŠ¡ï¼š\nRSSHubï¼šä¸€ä¸ªå¼€æºã€ç®€å•æ˜“ç”¨ã€æ˜“äºæ‰©å±•çš„ RSS ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„å†…å®¹ç”Ÿæˆ RSS è®¢é˜…æºã€‚\nTTRSSï¼šä¸€æ¬¾åŸºäº PHP çš„å…è´¹å¼€æº RSS èšåˆé˜…è¯»å™¨ã€‚\nç”¨rsshubç”Ÿæˆå®˜æ–¹æ²¡æœ‰çš„è®¢é˜…æºï¼Œttrssæ¥ç®¡ç†è®¢é˜…æºçš„é˜…è¯»è®°å½•ï¼Œæ”¯æŒå„ç«¯åŒæ­¥\nä¸€ã€éƒ¨ç½²RSSHub æ”¯æŒdockeréƒ¨ç½²ï¼Œä¸è¿‡ï¼Œæˆ‘æ˜¯éƒ¨ç½²åˆ° Vercel ä¸Šçš„ï¼Œå¥½å¤„æ˜¯å…è´¹ã€å›½å¤–çš„æœºå­ï¼ŒçœŸæ­£è¿æ¥åˆ°äº’è”ç½‘çš„ï¼Œå›½å†…å¯è®¿é—®ã€‚\n1ã€æ³¨å†Œ Vercel\næœ‰å¸æˆ·çš„ç›´æ¥å¯ä»¥ç™»å½•éƒ¨ç½²\næ²¡æœ‰çš„å…ˆæ³¨å†Œï¼Œå»ºè®®ç”¨GitHubè´¦å·ç™»å½•æ³¨å†Œï¼Œgithubè´¦å·é‚®ç®±å»ºè®®ç”¨gmailç­‰å›½å¤–çš„ï¼Œé€šè¿‡ç‡é«˜ï¼Œå¦‚æœæç¤ºå¤±è´¥ï¼Œå¯ä»¥å’Œå®˜æ–¹äººå‘˜å‘emailè§£å°ï¼Œæˆ‘çš„å½“æ—¶å°±ç›´æ¥è¢«å†»ç»“äº†ï¼Œå‘äº†emailåï¼Œä¸€ä¼šå°±è§£å°äº†ï¼Œæ€åº¦è¶…å¥½ğŸ‘\n2ã€æˆåŠŸåå¯ä»¥ç›´æ¥ç‚¹å»éƒ¨ç½²äº†ï¼Œæˆ‘æ˜¯æ²¡æœ‰ç”¨å®˜æ–¹çš„åº“éƒ¨ç½²ï¼Œforkå®˜æ–¹åº“åå»æˆæƒéƒ¨ç½²çš„ï¼Œæ•ˆæœä¸€æ ·ï¼Œvercel ç”¨é»˜è®¤çš„å°±è¡Œï¼Œç­‰å¾…ä¸€ä¼šï¼Œæ’’èŠ±ï¼Œè¡¨ç¤ºéƒ¨ç½²æˆåŠŸ\n3ã€ç›´æ¥è®¿é—®åŸŸåæˆåŠŸæ‰“å¼€å³éƒ¨ç½²æˆåŠŸ\n4ã€rsshubé…ç½®ç¯å¢ƒå¯å‚è€ƒ éƒ¨ç½² | RSSHub é…ç½®\nç”¨æˆ·è®¤è¯\næ—¥å¿—é…ç½®\nå…¶ä»–ä¸€äº›æœåŠ¡éœ€è¦çš„api-key\n5ã€åœ¨vercel é…ç½®å®Œ é‡æ–°éƒ¨ç½²æœåŠ¡ï¼Œæ‰ç”Ÿæ•ˆ\næ›´æ–° æ”¯æŒvercelè‡ªåŠ¨æ‹‰å–ä»£ç æ›´æ–°\näºŒã€éƒ¨ç½²TTRSS éƒ¨ç½²åˆ°vps é˜¿é‡Œäº‘ä¸Šï¼Œæ”¯æŒdockerã€docker-composrå³å¯\ndocker-composeéƒ¨ç½² ä¸‹è½½Â docker-compose.ymlè‡³ä»»æ„ç›®å½•ã€‚ æ›´æ”¹Â docker-compose.ymlÂ ä¸­çš„è®¾ç½®ï¼Œè¯·åŠ¡å¿…æ›´æ”¹ postgres ç”¨æˆ·å¯†ç ã€‚ é€šè¿‡ç»ˆç«¯åœ¨åŒç›®å½•ä¸‹è¿è¡ŒÂ docker-compose up -dÂ åç­‰å¾…éƒ¨ç½²å®Œæˆã€‚ é»˜è®¤é€šè¿‡ 181 ç«¯å£è®¿é—® TTRSSï¼Œé»˜è®¤è´¦æˆ·ï¼šadminÂ å¯†ç ï¼špasswordï¼Œè¯·ç¬¬ä¸€æ—¶é—´æ›´æ”¹ã€‚ wangqiru/mercury-parser-apiÂ åŠÂ wangqiru/opencc-api-serverÂ ä¸ºæ”¯æŒé«˜çº§åŠŸèƒ½è€ŒåŠ å…¥çš„å¯é€‰æœåŠ¡ç±»å®¹å™¨ï¼Œåˆ é™¤ä¸ä¼šå½±å“ TTRSS åŸºç¡€åŠŸèƒ½ã€‚ SELF_URL_PATH: TTRSS å®ä¾‹åœ°å€ã€‚ğŸ”´ è¯·æ³¨æ„ï¼Œè¯¥å˜é‡å€¼å¿…é¡»ä¸ä½ åœ¨æµè§ˆå™¨ä¸­ç”¨äºè®¿é—® TTRSS çš„ URL ä¿æŒå®Œå…¨ä¸€è‡´ï¼Œå¦åˆ™ TTRSS å°†æ— æ³•å¯åŠ¨ã€‚\nè¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰åŸŸåå°±è¦é…ç½®ä¸º ip:ç«¯å£å· çš„å½¢å¼\næ›´å¤šé…ç½®å‚è€ƒ å®˜æ–¹æ–‡æ¡£\næ›´æ–° æ¨èä½¿ç”¨æ‰‹åŠ¨æ›´æ–°\n#è‡ªç”¨ docker-compose pull #å®˜æ–¹æ¨è docker pull wangqiru/ttrss:latest # docker pull wangqiru/mercury-parser-api:latest # docker pull wangqiru/opencc-api-server:latest docker-compose up -d # å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨ docker-composeï¼Œæˆ‘ç¡®ä¿¡æ‚¨çŸ¥é“è¯¥æ€ä¹ˆåšã€‚ å¤‡ä»½ å…»æˆå®šæœŸå¤‡ä»½çš„ä¹ æƒ¯ï¼Œæœ‰äº›è®¢é˜…æºå¾ˆé‡è¦çš„èµ„æ–™å¯ä»¥æ°¸ä¹…ä¿å­˜ï¼Œé¿å…404\nå¤åˆ¶ Postgres æ•°æ®å·Â ~/postgres/data/ï¼ˆæˆ–è€…ä½ åœ¨ docker-compose ä¸­æŒ‡å®šçš„ç›®å½•ï¼‰è‡³å…¶ä»–ä»»ä½•åœ°æ–¹ä½œä¸ºå¤‡ä»½ï¼Œè¿™éå¸¸é‡è¦ï¼\næ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å¯¼å‡ºæ‰€æœ‰æ•°æ®ï¼š\n#docker exec postgres pg_dumpall -c -U æ•°æ®åº“ç”¨æˆ·å \u0026gt; export.sql docker exec postgres pg_dumpall -c -U postgres \u0026gt; export.sql æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å¯¼å…¥æ‰€æœ‰æ•°æ®ï¼š #cat export.sql | docker exec -i postgres psql -U æ•°æ®åº“ç”¨æˆ·å cat export.sql | docker exec -i postgres psql -U postgres ä¸‰ã€å®¢æˆ·ç«¯æ¨è æœåŠ¡ç«¯éƒ½é…ç½®å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•é˜…è¯»äº†\niOS/macOSï¼šReeder 5 å†…ç½®çš„Â Fever API æ¨¡æ‹Ÿæ’ä»¶ å¯ä»¥ä½¿ç”¨\nandroidï¼šFeedMe\nWebï¼šç›´æ¥ç½‘é¡µç™»å½•æŸ¥çœ‹å³å¯\nå››ã€è®¢é˜…æºè®¢é˜…å°æŠ€å·§ æœåŠ¡éƒ½æ­å»ºå¥½äº†ï¼Œä¸‹é¢å°±è¯¥è®¢é˜…è®¢é˜…æºäº†ï¼Œåˆ†äº«ä¸€äº›å°æŠ€å·§\nå¾®åšçš„å¯ä»¥ä½¿ç”¨ Weibo to RSS è®¢é˜…\nå¾®ä¿¡çš„å°é”ä¸¥é‡ï¼Œrsshubè®¢é˜…æœ‰é™ï¼Œå¯ä»¥ç”¨ å…¬ä¼—å·åˆ—è¡¨ | å¾®ä¿¡å…¬ä¼—å·è½¬RSSæœåŠ¡ æ¥è®¢é˜…ï¼Œå¦‚æœæ²¡æœ‰æƒ³è®¢é˜…çš„ï¼Œå¯ä»¥æ æäº¤æ–°å…¬ä¼—å·å‰çœ‹è¿™é‡Œ Â· Issue #7 Â· ttttmr/wechat2rss Â· GitHub\nblogspotçš„rsshubæ²¡æœ‰æä¾›ï¼Œå¯ä»¥ç”¨cfåä»£åè®¢é˜…\ntwitter çš„å¼€å‘è€…apiå¤ªéš¾ç”³è¯·äº†ï¼Œå¯ä»¥ç”¨ nitter è¾“å‡ºçš„rss è®¿é—®å›°éš¾å†ç»“åˆcfåä»£ï¼Œå®Œç¾\nä»¥ä¸Šï¼Œä¸€ä¸ªä½æˆæœ¬ï¼ŒæœåŠ¡ç¨³å®šï¼Œæ•°æ®å¯æ§RSSç”Ÿæ€éƒ¨ç½²æˆåŠŸï¼Œå°½æƒ…äº«ç”¨å§ï¼ğŸ‰\nå‚è€ƒæ–‡æ¡£ï¼š\nRSSHub\nğŸ‹ Awesome TTRSS | ğŸ‹ Awesome TTRSS\næˆ‘æœ‰ç‰¹åˆ«çš„ RSS ä½¿ç”¨æŠ€å·§\næˆ‘çš„RSSè§£å†³æ–¹æ¡ˆ - alpaca++\nè­¦æƒ•é™·å…¥â€œä¿¡æ¯èŒ§æˆ¿â€ - ä¸­åäººæ°‘å…±å’Œå›½å›½é˜²éƒ¨\nä¿¡æ¯èŒ§æˆ¿ - MBAæ™ºåº“ç™¾ç§‘\nRSS ç»´åŸºç™¾ç§‘\n","permalink":"https://blog.zsan.ml/posts/rss-build/","summary":"ä½•ä¸ºä¿¡æ¯èŒ§æˆ¿ï¼š å“ˆä½›å¤§å­¦å‡¯æ–¯Â·æ¡‘æ–¯å¦æ•™æˆåœ¨ã€Šä¿¡æ¯ä¹Œæ‰˜é‚¦ã€‹ä¸€ä¹¦ä¸­æå‡ºï¼Œäººç±»ç¤¾ä¼šå­˜åœ¨ä¸€ç§â€œ","title":"æ‰“ç ´ä¿¡æ¯èŒ§æˆ¿"},{"content":" æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰ç‚¹éº»çƒ¦çš„äº‹ï¼Œä»¥å‰åœ¨å›½å†…æœºä¸Šè£…äº†clashä»£ç†ï¼Œç”¨çš„ç¼–è¯‘åŒ…å®‰è£…çš„ï¼Œåæ¥æ„Ÿè§‰ç”¨çš„ä¸çˆ½ï¼Œå°±ç»™å¸è½½äº†ï¼ŒæœåŠ¡ä¹Ÿå»äº†ï¼Œä½†æ˜¯proxyä»£ç†ç»å¸¸ä¼šè‡ªåŠ¨è®¾ç½®ï¼Œæœ‰æ—¶å€™æ‰‹åŠ¨ç»™å–æ¶ˆäº†ï¼Œä¸‹æ¬¡å†ç”¨åˆæœ‰äº†ï¼Œè¿™æ¬¡ç»ˆäºå¿ä¸äº†äº†ï¼Œå°±æœäº†ä¸€ä¸‹ç»™è§£å†³äº†\n1ã€å®šä½bug export æŸ¥çœ‹ä¸‹ï¼Œæœ‰ç›¸åº”ç«¯å£ï¼Œæ‰‹åŠ¨å–æ¶ˆåï¼Œå†æŸ¥çœ‹æ²¡æœ‰äº†ï¼Œé‡å¯ååˆæœ‰äº†ï¼Œåˆ¤æ–­æ˜¯æŸä¸ªè„šæœ¬é‡Œå¸¦ç›¸å…³å‘½ä»¤\n2ã€æœç´¢èµ„æ–™ é€šè¿‡æŸ¥æ‰¾å¾—çŸ¥æœ‰ä¸ª.bashrcæ–‡ä»¶ä¹Ÿå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåªå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼Œvimè¿›å»çœ‹äº†ä¸‹ï¼Œæœç„¶æœ‰ç›¸åº”å‘½ä»¤ï¼Œåˆ é™¤ï¼Œé‡å¯ï¼Œå†exportï¼Œä»£ç†æ²¡äº†ï¼Œç»“æŸğŸ‰\n","permalink":"https://blog.zsan.ml/posts/linux-unset-proxy/","summary":"æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰ç‚¹éº»çƒ¦çš„äº‹ï¼Œä»¥å‰åœ¨å›½å†…æœºä¸Šè£…äº†clashä»£ç†ï¼Œç”¨çš„ç¼–è¯‘åŒ…å®‰è£…çš„ï¼Œåæ¥","title":"Linuxè®¾ç½®ä»£ç†"},{"content":" å¯¹äºå•†å“æ¯”ä»·æ˜¯ä¸ªä¸é”™çš„è´­ä¹°å•†å“çš„æ–¹æ³•ï¼Œå¯ä»¥ç»™æˆ‘ä»¬æ˜¯å¦å€¼å¾—å…¥æ‰‹è¿™ä»¶å•†å“æä¾›å†³ç­–ã€‚å„å¤§å•†åŸæœ‰è¿™æ–¹é¢æ•°æ®ä½†ä¸ä¼šå…è´¹ç»™åˆ†äº«å‡ºæ¥ï¼Œç¬¬ä¸‰æ–¹ç½‘ç«™æœ‰ç›¸å…³æœåŠ¡ï¼Œä½†ä½“éªŒä¸å¥½ï¼Œç›¸å…³apiä¹Ÿå¤ªè´µï¼Œè¿™æ¬¡æ‰¾åˆ°äº†å¤§ä½¬å…è´¹æä¾›çš„å¯¹è¯botçš„æ¯”ä»·åŠ©æ‰‹â€”â€”å‚»å¦åŠ©æ‰‹ï¼Œåº”è¯¥æ˜¯å†…ç½®æ¯”ä»·apiå§ï¼ç›®å‰æ¥è¯´æ•°æ®è¿˜å¯ä»¥å€¼å¾—å‚è€ƒçš„ï¼Œç”¨äº†dockeréƒ¨ç½²ï¼Œå¾ˆå¿«æå®šï¼\nä¸€ã€éƒ¨ç½²å‚»å¦åŠ©æ‰‹bot é¡¹ç›®åœ°å€ï¼šGitHub - cdle/sillyGirl: å‚»å¦æœºå™¨äºº\nä¸€é”®å®‰è£…ï¼šæ”¯æŒlinux arm64å’Œamd64ä½ cd /opt s=sillyGirl;a=arm64;if [[ $(uname -a | grep \u0026#34;x86_64\u0026#34;) != \u0026#34;\u0026#34; ]];then a=amd64;fi ;if [ ! -d $s ];then mkdir $s;fi ;cd $s;wget https://github.com/cdle/${s}/releases/download/main/${s}_linux_$a -O $s \u0026amp;\u0026amp; chmod 777 $s;pkill -9 $s;$(pwd)/$s åœ¨ç›®å½•/etc/sillyGirlä¸‹æ–°å»ºsets.confå¯ä»¥è¿›è¡Œåˆå§‹åŒ–é…ç½®\nä¸»è¦æ˜¯é…ç½®ç®¡ç†å‘˜è´¦å·ç­‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è¯é…ç½®\n### ä¸€äº›åŸºç¡€è®¾ç½® ### # å‚»å¦æœºå™¨äººå set sillyGirl name å‚»å¦ # å‚»å¦httpæœåŠ¡ç«¯å£ set sillyGirl port 800 # å‚»å¦æ¶ˆæ¯æ’¤å›ç­‰å¾…æ—¶é—´ï¼Œå•ä½ç§’ set sillyGirl duration 5 # å‚»å¦è‡ªåŠ¨å‡çº§æ˜¯å¦é€šçŸ¥ set sillyGirl update_notify true # æ˜¯å¦å¼€å¯å‚»å¦è‡ªåŠ¨æ›´æ–° set sillyGirl auto_update false # å‚»å¦å†…ç½®èµèµç  set sillyGirl appreciate https://gitee.com/aiancandle/sillyGirl/raw/main/appreciate.jpg #æ˜¯å¦å¯åŠ¨httpæœåŠ¡ set sillyGirl enable_http_server true # å…³é—­å®ˆæŠ¤æ¨¡å¼ï¼Œå®ˆæŠ¤æ¨¡å¼ä¼šå¯¼è‡´æ²¡æ³•è‡ªåŠ¨å‡çº§ #systemctl disable sillyGirl ### å¯¹æ¥é’é¾™çš„è®¾ç½® ### # è®¾ç½®é’é¾™openapiçš„client_idå‚æ•° #set qinglong client_id ? # è®¾ç½®é’é¾™openapiçš„client_secretå‚æ•° #set qinglong client_secret ? # é’é¾™æ˜¯å¦å¼€å¯è‡ªåŠ¨éšè—é‡å¤ä»»åŠ¡åŠŸèƒ½ #set qinglong autoCronHideDuplicate true # è®¾ç½®é’é¾™é¢æ¿åœ°å€ #set qinglong host http://127.0.0.1:5700 ### å¯¹æ¥QQçš„è®¾ç½® ### # è®¾ç½®qqç™»å½•è´¦å· #set qq uin ? # è®¾ç½®qqç™»å½•å¯†ç  #set qq password ? # è®¾ç½®qqä¸´æ—¶æ¶ˆæ¯é»˜è®¤ç¾¤å· #set qq tempMessageGroupCode ? # æŒ‡å®šè¦ç›‘å¬çš„qqç¾¤ #set qq onGroups g1\u0026amp;g2\u0026amp;g3... # è®¾ç½®æ˜¯å¦è‡ªåŠ¨åŒæ„å¥½å‹è¯·æ±‚ #set qq auto_friend false # è®¾ç½®æ˜¯å¦å¯¹ç›‘å¬è‡ªèº«æ¶ˆæ¯ #set qq onself true # è®¾ç½®qqç®¡ç†å‘˜ #set qq masters q1\u0026amp;q2\u0026amp;q3... # è®¾ç½®æ¥å—é€šçŸ¥çš„qqè´¦å· #set qq notifier q1\u0026amp;q2\u0026amp;q3... # è®¾ç½®qqè®¾å¤‡ä¿¡æ¯(è‡ªåŠ¨ç”Ÿæˆ) #set qq device.json ? # è®¾ç½®qqç™»å½•ä»¤ç‰Œ(è‡ªåŠ¨ç”Ÿæˆ) #set qq session.token ? # æ³¨é”€qqbotå‘½ä»¤ï¼Œé‡æ–°è¿è¡Œæ‰«ç å³å¯ #delete qq session.token # æŒ‡å®šç³»ç»Ÿé€šçŸ¥å‘é€å¯¹è±¡å‘½ä»¤ï¼Œå¦‚ä¸è®¾ç½®é»˜è®¤å‘é€ç»™æ‰€æœ‰ç®¡ç†å‘˜ã€‚ #set [im type] notifiers [accounts join by \u0026#39;\u0026amp;\u0026#39;] ### å¯¹æ¥telegramçš„è®¾ç½® ### # è®¾ç½®telegramæœºå™¨äººtoken #set tg token ? # è®¾ç½®telegramæœºå™¨äººä»£ç† #set tg http_proxy ? # è®¾ç½®telegramæœºå™¨äººç®¡ç†å‘˜ #set tg masters t1\u0026amp;t2\u0026amp;t3... # è®¾ç½®æ¥å—é€šçŸ¥çš„telegramè´¦å· #set tg notifier t1\u0026amp;t2\u0026amp;t3... ### å¯¹æ¥å¾®ä¿¡å…¬ä¼—å·çš„è®¾ç½® ### # è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°app_id #set wxmp app_id ? # è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°app_secret #set wxmp app_secret ? # è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°token #set wxmp token ? # è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°encoding_aes_key #set wxmp encoding_aes_key ? # è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°ç®¡ç†å‘˜ #set wxmp masters w1\u0026amp;w2\u0026amp;w3... # è®¾ç½®å…¬ä¼—å·å…³æ³¨äº‹ä»¶å›å¤ #set wxmp subscribe_reply æ„Ÿè°¢å…³æ³¨ï¼ # è®¾ç½®å…¬ä¼—å·é»˜è®¤å›å¤ #set wxmp default_reply æ— æ³•å›å¤è¯¥æ¶ˆæ¯ ### å¯¹æ¥å¾®ä¿¡å·çš„è®¾ç½® ### # å‚»å¦å†…ç½®å¾®ä¿¡æ’ä»¶ï¼Œä¾èµ–äºå¯çˆ±çŒ«å’Œhttp-sdk # å‚»å¦è¿œç¨‹å¤„ç†æ¥å£ /wx/receive # è®¾ç½®æ’ä»¶è°ƒç”¨åœ°å€ï¼Œç¡®ä¿å‚»å¦å¯ä»¥è®¿é—®å¯çˆ±çŒ«ç«¯å£ #set wx api_url ? # è®¾ç½®å›¾ç‰‡è½¬å‘æ¨¡å¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ­¤å›¾ç‰‡æ¥è‡ªxxæœªç»å…è®¸ä¸å¾—ä½¿ç”¨çš„æç¤º set wx relay_mode true # è®¾ç½®æŒ‡å®šè½¬å‘åœ°å€ï¼Œæ ¼å¼ä¸º https://åŸŸå/relay?url=%sï¼Œä¸çŸ¥é“ä¸ç”¨å¡« #set wx relaier ? # è®¾ç½®# å‚»å¦æ˜¯å¦åŠ¨æ€ç½‘ç»œåœ°å€ï¼Œé€‚ç”¨äº# å‚»å¦å®¶åº­å®½å¸¦è€Œå¯çˆ±çŒ«åœ¨äº‘æœåŠ¡å™¨çš„æƒ…å†µä¸‹ #set wx sillyGirl_dynamic_ip true # è®¾ç½®å¯çˆ±çŒ«æ˜¯å¦åŠ¨æ€ç½‘ç»œåœ°å€ï¼Œé€‚ç”¨äºå¯çˆ±çŒ«å®¶åº­å®½å¸¦è€Œ# å‚»å¦åœ¨äº‘æœåŠ¡å™¨çš„æƒ…å†µä¸‹ #set wx keaimao_dynamic_ip true # è®¾ç½®å¯çˆ±çŒ«ç«¯å£ #set wx keaimao_port ? # è®¾ç½®å¾®ä¿¡ç®¡ç†å‘˜ #set wx masters ? # vlwçš„APIè°ƒç”¨åœ°å€ #set wx vlw_addr http://ip:port # vlwçš„token #set wx vlw_token ? ### å¯¹æ¥pushplusçš„è®¾ç½® ### # ç®¡ç†å‘˜æ¨é€ç»‘å®špushplusæŒ‡ä»¤ #set sillyGirl pushplus [token] # å…³é”®è¯æ’¤å›åŠŸèƒ½ï¼Œå…³é”®è¯æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚ #set sillyGirl recall å…³é”®è¯1\u0026amp;å…³é”®è¯2... # å…³é”®è¯å›å¤åŠŸèƒ½ï¼Œç¬¬ä¸€ä¸ªé—®å·æ˜¯æ”¯æŒæ­£åˆ™çš„å…³é”®è¯ï¼Œç¬¬äºŒä¸ªé—®å·æ˜¯å›å¤çš„å†…å®¹ã€‚ #set reply ? ? ### å¯¹æ¥èŠå£«çš„è®¾ç½® ### # èµ„äº§æ¨é€å®šæ—¶ï¼Œä»¥ä¹ç‚¹ä¸ºä¾‹ï¼ŒåŒ…æ‹¬å¤±æ•ˆæé†’ã€‚ set jd_cookie asset_push 0 9 * * * # è®¾ç½®é˜¿ä¸œç™»å½•åœ°å€ï¼Œä¾‹ï¼šset jd_cookie adong_addr 192.168.1.1:5702 #set jd_cookie adong_addr é˜¿ä¸œip:ç«¯å£ # è®¾ç½®é˜¿ä¸œqqæœºå™¨äººè´¦å·ï¼Œè¿™é‡Œçš„æœºå™¨äººqqè´¦å·ï¼Œè¯·åŠ¡å¿…å’Œé˜¿ä¸œgo-cqhttpé…ç½®ä¸­config.ymlé‡Œqqä¸€æ ·ã€‚ #set jd_cookie selfQid æœºå™¨äººqqè´¦å· # è®¾ç½®ç™»å½•å‘ä½ #set jd_cookie login_num ? #è®¾ç½®è¯ºå…°ç™»é™†åœ°å€ #set jd_cookie nolan_addr http://è¯ºå…°ip:ç«¯å£ # å¯¹æ¥xddï¼Œé¢å¤–è®¾ç½®å‚æ•° #set jd_cookie xdd_token ? ### å¯¹æ¥å°çˆ±åŒå­¦çš„è®¾ç½® ### # å°çˆ±åŒå­¦ï¼Œå¯ä»¥æŒ‡å®šAPIï¼Œå¯¹å°çˆ±è¯´å¯¹è¯æ¨¡å¼å³å¯å¼€å¯è¿ç»­å¯¹è¯æ¨¡å¼ï¼Œé—­å˜´å¯å…³é—­ã€‚ #set sillyGirl å°çˆ±åŒå­¦ http://81.70.100.130/api/xiaoai.php?msg=%s\u0026amp;n=text #æŒ‚äº†å°±è‡ªå·±æ¢ #set sillyGirl å°çˆ±åŒå­¦ http://jiuli.xiaoapi.cn/i/xiaoai_tts.php?msg=%s #æŒ‚äº†å°±è‡ªå·±æ¢ # å¤„ç†jsonæ ¼å¼æ•°æ®çš„å°çˆ±apiï¼Œä¸å¡«è·å–æ•´ä¸ªæ–‡æœ¬ #set sillyGirl å°çˆ±åŒå­¦gjson text # åˆ é™¤å¤„ç†jsonæ ¼å¼æ•°æ®çš„å°çˆ±api #silly delete å°çˆ±åŒå­¦gjson # ä½¿ç”¨æ–¹æ³•ï¼š #1ã€å”¤èµ·å°çˆ±ï¼šå‘é€â€œå°çˆ±+æƒ³è¯´çš„è¯â€ï¼Œä¾‹å¦‚ï¼šå°çˆ±ä»Šå¤©å¤©æ°”ã€‚ #2ã€å¯¹è¯æ¨¡å¼ï¼šå‘é€â€œå°çˆ±å¯¹è¯æ¨¡å¼â€å¼€å¯ï¼Œå‘é€â€œé—­å˜´â€ç»“æŸã€‚ #3ã€æˆè¯­æ¥é¾™ï¼šå‘é€â€œæˆè¯­æ¥é¾™â€å¼€å§‹ã€‚è¿™ä¸ªå¯åº”è¯¥ä¸æ˜¯å°çˆ±åŒå­¦çš„åŠŸèƒ½ï¼Œä½†æˆ‘æ‡’å¾—å•ç‹¬å†™å®ƒäº†ã€‚ ### å¯¹æ¥çŸ­ç½‘å€çš„è®¾ç½® ### # è®¾ç½®çŸ­ç½‘å€æœåŠ¡åœ°å€ï¼Œå¡«å‚»å¦å¯¹å¤–çš„å¯ä»¥è®¿é—®çš„åœ°å€ã€‚ #set dwz address ? # è®¾ç½®çŸ­ç½‘å€æœåŠ¡å‰ç¼€ #set dwz prefix d # ä½¿ç”¨æ–¹æ³• #å‘é€â€œçŸ­ç½‘å€+ä½ æƒ³è¦è½¬æ¢çš„ç½‘å€â€œ #ä¾‹ï¼šçŸ­ç½‘å€ http://kejiwanjia.com/ å¯åŠ¨å‘½ä»¤ é…ç½®å®Œæˆåï¼Œåœ¨/opt/sillyGirlä¸‹æ‰§è¡Œ ./sillyGirl -t æŸ¥çœ‹æ˜¯å¦è¿è¡ŒæˆåŠŸ\nè¾“å…¥ time\næˆåŠŸå æ‰§è¡Œ ./sillyGirl -d åå°è¿è¡Œ\nå…¶ä»–å¸¸ç”¨å‘½ä»¤ æ€æ‰è¿›ç¨‹\nps -A|grep sillyGirl kill pid æŸ¥çœ‹ç«¯å£æ˜¯å¦å¼€å¯\nnetstat -tlan äºŒã€éƒ¨ç½²node-onebot å‚»å¦å¼€å‘è€…æŠŠå†…ç½®qqç™»å½•ç»™å»æ‰äº†ï¼Œéœ€è¦è‡ªå·±å¯¹æ¥qqbot\nå®˜æ–¹ç»™çš„æ˜¯nodeå®‰è£…çš„ï¼Œéœ€è¦å®‰è£…nodeç¯å¢ƒï¼Œå¤ªéº»çƒ¦ï¼Œæ”¹ä¸ºç”¨dockerå®‰è£…\n1ã€æ‹‰å–ä»£ç  //å›½å¤–æœº git clone https://github.com/takayama-lily/node-onebot //å›½å†…æœº git clone https://ghproxy.realproxy.workers.dev/https://github.com/takayama-lily/node-onebot æœº 2ã€ä¿®æ”¹Dockerfileæ–‡ä»¶ ä¿®æ”¹é»˜è®¤Dockerfileé‡Œé¢æœ€åä¸€è¡Œçš„QQå·æˆè‡ªå·±çš„botè´¦å·\nFROM node:14-alpine WORKDIR /app COPY . . CMD [\u0026#34;node\u0026#34;, \u0026#34;main\u0026#34;,\u0026#34;è¿™é‡Œæ”¹ä¸ºè‡ªå·±çš„botè´¦å·\u0026#34;] 3ã€åˆ›å»ºconfig.jsæ–‡ä»¶ cp config.sample.js config.js \u0026#34;use strict\u0026#34;; // å°†æ­¤æ–‡ä»¶æ›´åä¸ºconfig.jsæ‰èƒ½ç”Ÿæ•ˆå“¦ module.exports = { //é€šç”¨é…ç½® general: { platform: 5, //1:å®‰å“æ‰‹æœº 2:aPad 3:å®‰å“æ‰‹è¡¨ 4:MacOS 5:iPad debug: false, //å¼€å¯debug use_cqhttp_notice: true, //æ˜¯å¦ä½¿ç”¨cqhttpæ ‡å‡†çš„noticeäº‹ä»¶æ ¼å¼ host: \u0026#34;localhost\u0026#34;, //ç›‘å¬ä¸»æœºå port: 5700, //ç«¯å£ use_http: false, //å¯ç”¨http use_ws: false, //å¯ç”¨æ­£å‘wsï¼Œå’Œhttpä½¿ç”¨ç›¸åŒåœ°å€å’Œç«¯å£ access_token: \u0026#34;\u0026#34;, //è®¿é—®apiçš„token secret: \u0026#34;\u0026#34;, //ä¸ŠæŠ¥æ•°æ®çš„sha1ç­¾åå¯†é’¥ post_timeout: 30, //postè¶…æ—¶æ—¶é—´(ç§’) post_message_format:\u0026#34;array\u0026#34;, //\u0026#34;string\u0026#34;æˆ–\u0026#34;array\u0026#34; enable_cors: false, //æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ enable_heartbeat: false, //æ˜¯å¦å¯ç”¨wså¿ƒè·³ heartbeat_interval: 15000, //wså¿ƒè·³é—´éš”(æ¯«ç§’) rate_limit_interval:500, //ä½¿ç”¨_rate_limitedåç¼€é™é€Ÿè°ƒç”¨apiçš„æ’é˜Ÿé—´éš”æ—¶é—´(æ¯«ç§’) event_filter: \u0026#34;\u0026#34;, //jsonæ ¼å¼çš„äº‹ä»¶è¿‡æ»¤å™¨æ–‡ä»¶è·¯å¾„ post_url: [ //ä¸ŠæŠ¥åœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl // \u0026#34;http://your.address.com:80\u0026#34;, ], ws_reverse_url: [ //åå‘wsåœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl \u0026#34;ws://127.0.0.1:8080/qq/receive\u0026#34;, //è¿™æ˜¯å‚»å¦çš„åå‘é“¾æ¥åœ°å€ï¼Œå…¶ä¸­çš„8080ç«¯å£è®°å¾—æ”¹æˆä½ å‚»å¦çš„ç«¯å£ï¼ŒåŒæ—¶å¼€å¯å‚»å¦çš„å‚»å¦çš„http serverï¼Œå³set sillyGirl enable_http_server true ], ws_reverse_reconnect_interval: 3000, //åå‘wsæ–­çº¿é‡è¿é—´éš”(æ¯«ç§’)ï¼Œè®¾ä¸ºè´Ÿæ•°ç›´æ¥ä¸é‡è¿ ws_reverse_reconnect_on_code_1000: true, //åå‘wsæ˜¯å¦åœ¨å…³é—­çŠ¶æ€ç ä¸º1000çš„æ—¶å€™é‡è¿ }, //æ¯ä¸ªè´¦å·çš„å•ç‹¬é…ç½®(ç”¨äºè¦†ç›–é€šç”¨é…ç½®) 147258369: { }, }; // å®‰å…¨æ³¨æ„ï¼š // ç›‘å¬0.0.0.0è¡¨ç¤ºç›‘å¬ç½‘å¡ä¸Šçš„æ‰€æœ‰åœ°å€ã€‚å¦‚æœä½ çš„æœºå™¨å¯ä»¥é€šè¿‡å…¬ç½‘ipç›´æ¥è®¿é—®ï¼ŒåŒæ—¶ä½ ä¹Ÿæ²¡æœ‰è®¾å®šaccess_tokenï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯æä¸å®‰å…¨çš„ã€‚ // ä½ åº”è¯¥çŸ¥é“è¿™æ ·åšä¼šå¯¼è‡´ä»¥ä¸‹åæœï¼šä»»ä½•äººéƒ½å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®ä½ çš„Botçš„æ‰€æœ‰APIæ¥å£ã€‚ // å¦‚æœåªéœ€è¦åœ¨æœ¬åœ°è®¿é—®ï¼Œå»ºè®®å°†ç›‘å¬åœ°å€æ”¹ä¸ºlocalhostã€‚éœ€è¦é€šè¿‡å…¬ç½‘è®¿é—®ï¼Œä½ æœ€å¥½è®¾å®šaccess_tokenã€‚ ç»ˆæé˜²é£æ§ï¼š\n\u0026#34;use strict\u0026#34;; // å°†æ­¤æ–‡ä»¶æ›´åä¸ºconfig.jsæ‰èƒ½ç”Ÿæ•ˆå“¦ module.exports = { //é€šç”¨é…ç½® general: { platform: 3, //1:å®‰å“æ‰‹æœº 2:aPad 3:å®‰å“æ‰‹è¡¨ 4:MacOS 5:iPad debug: false, //å¼€å¯debug use_cqhttp_notice: true, //æ˜¯å¦ä½¿ç”¨cqhttpæ ‡å‡†çš„noticeäº‹ä»¶æ ¼å¼ host: \u0026#34;localhost\u0026#34;, //ç›‘å¬ä¸»æœºå port: 5700, //ç«¯å£ use_http: false, //å¯ç”¨http use_ws: false, //å¯ç”¨æ­£å‘wsï¼Œå’Œhttpä½¿ç”¨ç›¸åŒåœ°å€å’Œç«¯å£ access_token: \u0026#34;\u0026#34;, //è®¿é—®apiçš„token secret: \u0026#34;\u0026#34;, //ä¸ŠæŠ¥æ•°æ®çš„sha1ç­¾åå¯†é’¥ post_timeout: 30, //postè¶…æ—¶æ—¶é—´(ç§’) post_message_format:\u0026#34;array\u0026#34;, //\u0026#34;string\u0026#34;æˆ–\u0026#34;array\u0026#34; enable_cors: false, //æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ enable_heartbeat: false, //æ˜¯å¦å¯ç”¨wså¿ƒè·³ heartbeat_interval: 15000, //wså¿ƒè·³é—´éš”(æ¯«ç§’) rate_limit_interval:500, //ä½¿ç”¨_rate_limitedåç¼€é™é€Ÿè°ƒç”¨apiçš„æ’é˜Ÿé—´éš”æ—¶é—´(æ¯«ç§’) event_filter: \u0026#34;\u0026#34;, //jsonæ ¼å¼çš„äº‹ä»¶è¿‡æ»¤å™¨æ–‡ä»¶è·¯å¾„ post_url: [ //ä¸ŠæŠ¥åœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl // \u0026#34;http://your.address.com:80\u0026#34;, ], ws_reverse_url: [ //åå‘wsåœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl \u0026#34;ws://127.0.0.1:8080/qq/receive\u0026#34;, //è¿™æ˜¯å‚»å¦çš„åå‘é“¾æ¥åœ°å€ï¼Œå…¶ä¸­çš„8080ç«¯å£è®°å¾—æ”¹æˆä½ å‚»å¦çš„ç«¯å£ï¼ŒåŒæ—¶å¼€å¯å‚»å¦çš„å‚»å¦çš„http serverï¼Œå³set sillyGirl enable_http_server true ], ws_reverse_reconnect_interval: 3000, //åå‘wsæ–­çº¿é‡è¿é—´éš”(æ¯«ç§’)ï¼Œè®¾ä¸ºè´Ÿæ•°ç›´æ¥ä¸é‡è¿ ws_reverse_reconnect_on_code_1000: true, //åå‘wsæ˜¯å¦åœ¨å…³é—­çŠ¶æ€ç ä¸º1000çš„æ—¶å€™é‡è¿ }, //æ¯ä¸ªè´¦å·çš„å•ç‹¬é…ç½®(ç”¨äºè¦†ç›–é€šç”¨é…ç½®) 147258369: { }, }; // å®‰å…¨æ³¨æ„ï¼š // ç›‘å¬0.0.0.0è¡¨ç¤ºç›‘å¬ç½‘å¡ä¸Šçš„æ‰€æœ‰åœ°å€ã€‚å¦‚æœä½ çš„æœºå™¨å¯ä»¥é€šè¿‡å…¬ç½‘ipç›´æ¥è®¿é—®ï¼ŒåŒæ—¶ä½ ä¹Ÿæ²¡æœ‰è®¾å®šaccess_tokenï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯æä¸å®‰å…¨çš„ã€‚ // ä½ åº”è¯¥çŸ¥é“è¿™æ ·åšä¼šå¯¼è‡´ä»¥ä¸‹åæœï¼šä»»ä½•äººéƒ½å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®ä½ çš„Botçš„æ‰€æœ‰APIæ¥å£ã€‚ // å¦‚æœåªéœ€è¦åœ¨æœ¬åœ°è®¿é—®ï¼Œå»ºè®®å°†ç›‘å¬åœ°å€æ”¹ä¸ºlocalhostã€‚éœ€è¦é€šè¿‡å…¬ç½‘è®¿é—®ï¼Œä½ æœ€å¥½è®¾å®šaccess_tokenã€‚ 4ã€ç¼–è¯‘docker image docker build -t yongs/node-onebot:latest . yongsè‡ªå®šä¹‰çš„ï¼Œéšä¾¿èµ·ï¼Œä¸€å®šä¸è¦å¿˜äº† æœ€åæœ‰ä¸ª . è¡¨ç¤ºåœ¨å½“å‰ç›®å½•æ–‡ä»¶ç¼–è¯‘\n5ã€å¯åŠ¨image ç”¨çš„æ˜¯docker-composeå¯åŠ¨çš„ï¼Œåˆšæ‰æ‹‰çš„ä»£ç å·²ç»æœ‰yamlæ–‡ä»¶äº†ï¼Œ\néœ€è¦æ³¨æ„ imageåå­—æ˜¯åˆšæ‰ç¼–è¯‘çš„åå­—ï¼Œä¸çŸ¥é“å¯ä»¥ç”¨\ndocker images æŸ¥çœ‹ï¼Œä¿®æ”¹imageåå­—å³å¯\nversion: \u0026#34;3\u0026#34; services: miraiok: image: yongs/node-onebot restart: always network_mode: \u0026#34;host\u0026#34; volumes: - ./config.js:/root/config.js - ./data:/app/data stdin_open: true tty: true container_name: docker-onebot docker-compose up -d 6ã€æŸ¥çœ‹æ—¥å¿—ï¼Œæ‰«ç ç™»å½•ï¼Œä¸èƒ½ç™»å½•è¿›å…¥å®¹å™¨å†…æ‰«ç  #æŸ¥çœ‹æ—¥å¿— docker logs -f -n 500 docker-onebot #è¿›å…¥å®¹å™¨ docker exec -it docker-onebot /bin/sh #æ‰§è¡Œç™»å½• node main \u0026#34;botqqå·\u0026#34; ç»™å°åŠ©æ‰‹å‘é€å‘½ä»¤çœ‹æ˜¯å¦æˆåŠŸï¼Œæ¯”å¦‚ å‘é€ name\nå‘é€ æ·˜å®äº¬è±†æ‹¼å¤šå¤šé“¾æ¥çœ‹æ˜¯å¦å›å¤ï¼Œå›å¤å³éƒ¨ç½²æˆåŠŸã€‚\nç™»å½•æˆåŠŸåï¼Œé‡å¯dockerå³å¯\nè¿™é‡Œçš„å‘å°±æ˜¯å‚»å¦å¯åŠ¨å¤±è´¥ï¼Œå¯¼è‡´onebotè¿æ¥ä¸ä¸Šå‚»å¦ã€‚\n7ã€ç¾¤è¢«é£æ§çš„è§£å†³åŠæ³• å‚è€ƒäº†å¤§ä½¬çš„è§£å†³åŠæ³•é£æ§è§£é™¤æœ€ç»ˆç‰ˆ\nå¼€å¯è®¾å¤‡é”ï¼Œè´¦å·è®¾ç½®é‡Œé¢çš„\nåˆ é™¤session.token æˆ‘æ˜¯ç›´æ¥æŠŠæ•´ä¸ªè´¦å·æ–‡ä»¶å¤¹åˆ äº†\nåˆ‡æ¢å®‰å“åè®® 1æˆ–è€…3 æˆ‘ç”¨çš„3\nå¡«å†™å¯†ç ç™»é™†\néœ€è¦éªŒè¯ä¿¡æ¯ï¼Œæ ¹æ®æç¤ºä¸€æ­¥ä¸€æ­¥æ“ä½œå³å¯ï¼ˆé“¾æ¥æ¨èåœ¨Chromeé‡Œæ‰“å¼€æŸ¥æ‰¾ï¼‰\nå‚è€ƒé“¾æ¥ï¼š\n1ã€ç¾¤æ™–å‚»å¦SillyGirlå®Œæ•´éƒ¨ç½²æ•™ç¨‹ 12.13æ›´æ–°node-onebot - ç§‘æŠ€ç©å®¶\n2ã€Dockerç¼–è¯‘node-onebotï¼Œå‚»å¦åˆæ´»äº† - ç§‘æŠ€ç©å®¶\n3ã€GitHub - AboutCXJ/SillyGirlDockerDeploy\n","permalink":"https://blog.zsan.ml/posts/comparison-robot-building-for-docker/","summary":"å¯¹äºå•†å“æ¯”ä»·æ˜¯ä¸ªä¸é”™çš„è´­ä¹°å•†å“çš„æ–¹æ³•ï¼Œå¯ä»¥ç»™æˆ‘ä»¬æ˜¯å¦å€¼å¾—å…¥æ‰‹è¿™ä»¶å•†å“æä¾›å†³ç­–ã€‚å„å¤§å•†","title":"æ¯”ä»·åŠ©æ‰‹æœºå™¨äººdockerå¿«é€Ÿéƒ¨ç½²"},{"content":"configé…ç½®æ–‡ä»¶é‡ŒåŠ ä¸Šå¦‚ä¸‹å‚æ•°ï¼š\nfrontmatter: lastmod: - lastmod - :git - :fileModTime - :default ä¾æ¬¡å–çš„é¡ºåºä¸ºï¼š\nlastmod :æœ€åæäº¤æ—¶é—´\n:git: æ ¹æ®gitæäº¤ç‰ˆæœ¬æ—¶é—´\n:fileModTimeï¼šæ–‡ä»¶ä¿®æ”¹æ—¶é—´\nConfigure Hugo | Hugo å†™çš„éƒ½æœ‰,butæ˜¯è‹±æ–‡çš„ğŸ™ƒ\n","permalink":"https://blog.zsan.ml/posts/hugo-auto-update-lastmod/","summary":"configé…ç½®æ–‡ä»¶é‡ŒåŠ ä¸Šå¦‚ä¸‹å‚æ•°ï¼š frontmatter: lastmod: - lastmod - :git - :fileModTime - :default ä¾æ¬¡å–çš„é¡ºåºä¸ºï¼š lastmod :æœ€åæäº¤","title":"Hugo è‡ªåŠ¨æ›´æ–°æ–‡ç« ä¿®æ”¹æ—¶é—´"},{"content":"åœ¨linuxserveræœåŠ¡å™¨ä¸Šå®‰è£…\nç¯å¢ƒï¼šdockerã€docker- compose\néœ€è¦äº†è§£dockeråŸºæœ¬çŸ¥è¯†ï¼Œä¸æ‡‚å¯ä»¥ç¿»ç¿»ä»¥å‰çš„åšå®¢æˆ–è€…æœä¸‹æ•™ç¨‹å­¦ä¹ \nfilebrowserå®˜ç½‘ä¸Šç»™çš„æ˜¯dockerå‘½ä»¤æ‰§è¡Œçš„ï¼Œä½†ç”¨composeä¹ æƒ¯äº†ï¼Œæ‰€ä»¥è½¬æ¢äº†ä¸€ä¸‹æ ¼å¼ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå®˜ç½‘ä¹Ÿæç¤ºäº†\nBy default, we already have a configuration file with some defaults so you can just mount the root and the database. Although you can overwrite by mounting a directory with a new config file. If you don\u0026rsquo;t already have a database file, make sure to create a new empty file under the path you specified. Otherwise, Docker will create an empty folder instead of an empty file, resulting in an error when mounting the database into the container.\nç¿»è¯‘è¿‡æ¥å°±æ˜¯éœ€è¦æå‰åˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦åˆ™ï¼ŒDockerä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹è€Œä¸æ˜¯ç©ºçš„æ–‡ä»¶ï¼Œå¯¼è‡´åœ¨å°†æ•°æ®åº“æŒ‚è½½åˆ°å®¹å™¨ä¸­æ—¶å‡ºç°é”™è¯¯ï¼è¿™ç‚¹ä¸€å®šè¦æ³¨æ„å•Šï¼ï¼ï¼\n1ã€åˆ›å»ºdocker-composeæ–‡ä»¶ å†…å®¹å¦‚ä¸‹ï¼š\nversion: \u0026#39;3.3\u0026#39; services: filebrowser: image: filebrowser/filebrowser:s6 container_name: filebrowser volumes: - ./root:/srv - ./database/filebrowser.db:/database/filebrowser.db - ./settings.json:/config/settings.json environment: - PUID=0 - PGID=0 ports: - \u0026#39;8080:80\u0026#39; restart: always 2ã€åˆ›å»ºé»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ å¯¹ç…§ä¸Šè¿°docker-composeçš„è·¯å¾„ï¼Œéœ€è¦åœ¨å½“å‰ç›®å½•åˆ›å»º settings.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š\n{ \u0026#34;port\u0026#34;: 80, \u0026#34;baseURL\u0026#34;: \u0026#34;\u0026#34;, \u0026#34;address\u0026#34;: \u0026#34;0.0.0.0\u0026#34;, \u0026#34;log\u0026#34;: \u0026#34;stdout\u0026#34;, \u0026#34;database\u0026#34;: \u0026#34;/database/filebrowser.db\u0026#34;, \u0026#34;root\u0026#34;: \u0026#34;/srv\u0026#34; } åœ¨å½“å‰ç›®å½•åˆ›å»º database/filebrowser.db æ–‡ä»¶å¤¹å’Œæ–‡ä»¶\nmkdir database cd database touch filebrowser.db 3ã€è¿è¡Œæµ‹è¯•æ˜¯å¦æˆåŠŸ æ‰§è¡Œ docker- compose logs -f çœ‹ä¸‹æ—¥å¿—æ˜¯å¦æŠ¥é”™\néœ€è¦å…¶ä»–æœºå™¨è®¿é—®è®°å¾—é˜²ç«å¢™ æŠŠç«¯å£æ‰“å¼€ï¼Œæœ¬ä¾‹ç”¨çš„8080ç«¯å£\næµè§ˆå™¨è®¿é—® æœåŠ¡å™¨ip:8080 æˆåŠŸæ‰“å¼€å³å¯ï¼ŒEnjoy itï¼ğŸ‰ğŸ‰ğŸ‰\n4ã€n1å°é’¢ç‚®å®‰è£… ç¯å¤§é­”æ”¹çš„å¥½ä¹…æ²¡æ›´æ–°äº†ï¼ŒåŠŸèƒ½å¥½å¤šä¸æ”¯æŒäº†ï¼Œä»Šå¤©ç»™å‡çº§ï¼ˆè¸©å‘ï¼‰äº†ä¸€ä¸‹\n1ã€docker-composeéœ€è¦æ”¹ä¸‹é…ç½®\nversion: \u0026#39;3.3\u0026#39; services: filebrowser: image: filebrowser/filebrowser container_name: filebrowser volumes: - /media:/srv - ./database/filebrowser.db:/database/filebrowser.db - ./settings.json:/config/settings.json - /etc/timezone:/etc/timezone #æ—¶åŒº cst - /etc/localtime:/etc/localtime #æ—¶åŒº cst environment: - PUID=1002 - PGID=100 # - TZ=Asia/Shanghai ports: - \u0026#39;8081:80\u0026#39; restart: always 2ã€ç¯å¤§ç‰ˆçš„ç§»é™¤ï¼Œæ‰§è¡Œè¿™ä¸ªå³å¯\nä¸¤ä¸ªå°å‘ï¼Œ1ã€é•œåƒè¦ç”¨lasterçš„ 2ã€æ—¶åŒºè®¾ç½®ç”¨æŒ‚è½½çš„\nå‚è€ƒï¼š\n1ã€filebrowserå®˜ç½‘\n2ã€filebrowser ä¸€ä¸ªè·¨å¹³å°çš„æ–‡ä»¶ç®¡ç†å™¨çš„ä½¿ç”¨æ–¹æ³•-æ£®æ—çš„ä¸ªäººåšå®¢\n","permalink":"https://blog.zsan.ml/posts/docker-deploy-filebrowser/","summary":"åœ¨linuxserveræœåŠ¡å™¨ä¸Šå®‰è£… ç¯å¢ƒï¼šdockerã€docker- compose éœ€è¦äº†è§£do","title":"Docker Composeéƒ¨ç½²filebrowser"},{"content":" å¦‚æœçœŸçš„æ˜¯ä½ ï¼Œè¯·æ‰“æ‹›å‘¼ï¼\nğŸ  å…³äºæœ¬ç«™ å†…å®¹+ä¸»é¢˜ï¼šHugoÂ \u0026amp;Â PaperMod\næ‰˜ç®¡ï¼šGitHub Pages\nåŸŸåï¼šfreenom\né˜²æŠ¤+CDNï¼šCloudflare\nç¼–è¾‘å™¨ï¼šVS code\nè¿™é‡Œä¸»è¦è®°å½•ä¸€äº›å¹³å¸¸é‡åˆ°çš„ä¸€äº›æŠ€æœ¯å‘(æœ‰äº›ä¸œè¥¿ç”¨å®Œå°±å¿˜äº†)ï¼Œæ–¹ä¾¿ä»¥åå¯ä»¥æŸ¥é˜…ğŸ˜„\næœ¬ç«™æœ€å¼€å§‹æ˜¯2019å¹´å°±æ­å»ºäº†ï¼Œå½“æ—¶ç”¨çš„hexoæ„å»ºï¼Œéƒ¨ç½²åœ¨githubï¼Œç”¨netlifyç¼“å­˜æœåŠ¡ï¼Œæ— å¥ˆå½“æ—¶ç©·ï¼Œç”¨çš„è¿˜æ˜¯Windowsæœ¬ï¼Œå‘½ä»¤æ•²çš„å¤ªä¸çˆ½äº†ï¼Œå¯¼è‡´å†™æ–‡ç« æ²¡ä»€ä¹ˆæ¿€æƒ…ï¼ŒåŸºæœ¬æ–­æ›´ğŸ¤£\næ¥åˆ°2021å¹´ï¼Œç»å¸¸åœ¨ç½‘ä¸Šçœ‹å¤§ä½¬ä»¬çš„blogï¼Œæ—¶é—´æœ‰ç‚¹ç©ºï¼Œå°±æƒ³æŠŠblogç»™æ‹¾èµ·æ¥ï¼Œæ¥è§¦çš„æŠ€æœ¯ä¹Ÿå¤šäº†ï¼Œä¹Ÿæƒ³è®°å½•ä¸‹ä¸€äº›ç¬”è®°ï¼Œæ–¹ä¾¿åé¢éšæ—¶ç¿»é˜…ï¼Œæ­£å¥½åœ¨æ¨ä¸Šçœ‹åˆ°å¤§ä½¬ä»¬æ¨ègridea: âœï¸ A static blog writing client (ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯)\nå‚»ç“œå¼æ“ä½œï¼Œæ ¹æ®ç•Œé¢æç¤ºè®¾ç½®å°±è¡Œäº†ï¼Œä¸“æ³¨äºå†™ä½œï¼Œå½“æ—¶å°±ä¸‹ä¸‹æ¥ç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿæœ‰æ¯”è¾ƒé¸¡è‚‹çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸»é¢˜å¤ªå°‘ï¼Œè‡ªå®šä¹‰ç©ºé—´å¤ªå°ï¼Œè¿˜æœ‰å°±æ˜¯windows7ä¸Šä¸å¤ªç¨³å®šï¼Œæœ‰æ—¶ä¼šå¡ï¼Œå¯èƒ½æˆ‘ç”µè„‘åƒåœ¾å§ï¼Œä¸»é¢˜å¤ªå°‘ï¼Œæœ‰çš„ä¸»é¢˜ä¸æ”¯æŒä¾§è¾¹ç›®å½•æ ï¼Œå½“æ—¶æœäº†å¥½å¤šæ–‡ç« ï¼Œæ‰æ”¹äº†ä¸€ä¸‹ä¸»é¢˜ï¼Œå…·ä½“çœ‹è¿™ç¯‡ï¼Œè¿˜æœ‰å°±æ˜¯ï¼Œä½œè€…å¥½ä¹…ä¸æ›´æ–°äº†ï¼Œä¸“æ³¨äºæwebç«¯äº†ï¼Œæ‰€ä»¥å°±åœ¨æ¢äº†Macåå°±æ¢åˆ°äº†hugoä¸ŠğŸ˜„\nhugoç”¨goå¼€å‘çš„ï¼Œæ®è¯´ç”Ÿæˆæ–‡ç« éå¸¸å¿«ï¼Œç›¸æ¯”hexoæ¥è¯´ï¼Œhugoåœ¨Macä¸Šç”¨å‘½ä»¤ä¹Ÿå¾ˆèˆ’æœï¼Œä¸»é¢˜ä¹Ÿå¾ˆå¤šï¼Œæ‰€ä»¥å°±æœæ–­æ¢äº†ä¸Šæ¥ï¼Œä¸“æ³¨å†™ä½œï¼Œä¸»é¢˜ç”¨çš„papermodï¼Œè¿™æ˜¯å›½å¤–å¼€å‘è€…å¼€å‘çš„ï¼Œä¸­æ–‡èµ„æ–™å¤ªå°‘ï¼Œä¸è¿‡ï¼Œæœäº†å¥½å¤šå¤§ä½¬çš„æ–‡ç« ï¼ŒåŸºæœ¬ä¸Šè°ƒè¯•okï¼›è¿˜æ˜¯ç”¨githubåšä»“åº“æ¥æä¾›æœåŠ¡ï¼Œç”¨markdownæ¥å†™æ–‡ç« ï¼Œvs codeæ¥é…ç½®æ–‡ä»¶ï¼Œåœ¨freenomä¸Šç™½å«–çš„ä¸€å¹´åŸŸåï¼Œç”¨è„šæœ¬è‡ªåŠ¨ç›‘æ§ï¼Œåˆ°æœŸæç¤ºï¼›ç”¨cfæ¥åšåŸŸåè§£æå’Œç¼“å­˜æœåŠ¡ã€‚ğŸ‰\nğŸ‘¨â€ğŸ’» å¼ ä¸‰æ˜¯è° ğŸœå­¤ç‹¬æ—¶ä»£çš„èš‚èš\nğŸ«å…‹è±ç™»å¤§å­¦æ¯•ä¸š\n","permalink":"https://blog.zsan.ml/about/","summary":"å¦‚æœçœŸçš„æ˜¯ä½ ï¼Œè¯·æ‰“æ‹›å‘¼ï¼ ğŸ  å…³äºæœ¬ç«™ å†…å®¹+ä¸»é¢˜ï¼šHugo \u0026amp; PaperMod æ‰˜ç®¡ï¼šGitHub Pages åŸŸåï¼š","title":"About"},{"content":"çœ‹è¿‡å‰é¢çš„æ–‡ç« çŸ¥é“ï¼Œå¤§ä½¬çš„åº“ä»“åº“ä¹Ÿé”äº†ï¼Œä¸èƒ½pullï¼Œåªèƒ½æ¢å–ä»“åº“åœ°å€æ‰è¡Œï¼Œä¸ºäº†ä¸€åŠ³æ°¸é€¸ï¼Œç´¢æ€§æ¢äº†è‡ªå·±çš„åº“ï¼Œåªè°ˆæŠ€æœ¯ï¼Œä¸è°ˆå…¶ä»–\u0026hellip;\n1ã€åˆ›å»ºDockerfileæ–‡ä»¶ æ¯”è¾ƒæ‡’ï¼Œç›´æ¥æŠŠå¤§ä½¬çš„Dockerfileæ‹‰æ¥æ¢äº†ä»“åº“åœ°å€ï¼Œrsaè®°ç€ä¹Ÿè¦æ¢\næ¢å®Œåœ¨å½“å‰ç›®å½• docker build -t jd_scripts .\nç›´æ¥ç”Ÿæˆè‡ªå·±çš„image\ndocker images æŸ¥çœ‹é•œåƒ\n2ã€ä¿®æ”¹docker-composeæ–‡ä»¶ ä¿®æ”¹docker-composeé‡Œé¢çš„ä»“åº“åœ°å€ä¸ºè‡ªå·±çš„åœ°å€ï¼Œå…¶ä»–å‚æ•°ä¸ç”¨å˜\ndocker-compose up -d å¯åŠ¨é•œåƒ\nå®Œç¾è¿è¡Œï¼\nç»§ç»­èººå¹³ã€‚\nå»ºè®®å­¦å­¦dockerï¼ŒçœŸçš„å¥½å¼ºå¤§ï¼\né™„ä¸Šä¸€ä¸ªä¸é”™çš„dockeræ•™ç¨‹\nDocker â€”â€” ä»å…¥é—¨åˆ°å®è·µ\n","permalink":"https://blog.zsan.ml/posts/docker-generate-image/","summary":"çœ‹è¿‡å‰é¢çš„æ–‡ç« çŸ¥é“ï¼Œå¤§ä½¬çš„åº“ä»“åº“ä¹Ÿé”äº†ï¼Œä¸èƒ½pullï¼Œåªèƒ½æ¢å–ä»“åº“åœ°å€æ‰è¡Œï¼Œä¸ºäº†ä¸€åŠ³","title":"docker ç”Ÿæˆè‡ªå·±çš„é•œåƒ"},{"content":"ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶æ”¯æŒä¾§è¾¹æ ç›®å½•\nsimpleä¸»é¢˜æ•´ä½“è¿˜è¡Œï¼Œä½†æ–‡ç« æ— ä¾§è¾¹æ ç›®å½•ï¼Œä¸€èˆ¬å†™çš„æŠ€æœ¯æ€§æ–‡ç« å¾ˆé•¿ï¼Œå°±éœ€è¦ä¾§è¾¹æ ç›®å½•å’Œè¿™ä¸ªåŠŸèƒ½äº†ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹èµ„æ–™ï¼Œå¯¹äºå‰ç«¯å°å­¦ç”Ÿçš„æˆ‘è´¹äº†å¥½é•¿æ—¶é—´æ‰æå®šï¼Œè®°å½•ä¸€ä¸‹è¿‡ç¨‹ã€‚\n1ã€ä¿®æ”¹post.ejsæ–‡ä»¶ headæ–°å¢\n\u0026lt;script src=\u0026quot;https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\næœç´¢\u0026lt;%- post.content %\u0026gt;å¤åˆ¶ä¸€ä¸‹ä»£ç è¦†ç›–copy\n\u0026lt;div class=\u0026#34;post-content-wrapper\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;post-content\u0026#34; v-pre\u0026gt; \u0026lt;%- post.content %\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;toc-container\u0026#34;\u0026gt; \u0026lt;%- post.toc %\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; æ–°å¢é«˜äº®js\n\u0026lt;script\u0026gt; hljs.initHighlightingOnLoad() let mainNavLinks = document.querySelectorAll(\u0026#34;.markdownIt-TOC a\u0026#34;); // This should probably be throttled. // Especially because it triggers during smooth scrolling. // https://lodash.com/docs/4.17.10#throttle // You could do like... // window.addEventListener(\u0026#34;scroll\u0026#34;, () =\u0026gt; { // _.throttle(doThatStuff, 100); // }); // Only not doing it here to keep this Pen dependency-free. window.addEventListener(\u0026#34;scroll\u0026#34;, event =\u0026gt; { let fromTop = window.scrollY; mainNavLinks.forEach((link, index) =\u0026gt; { let section = document.getElementById(decodeURI(link.hash).substring(1)); let nextSection = null if (mainNavLinks[index + 1]) { nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1)); } if (section.offsetTop \u0026lt;= fromTop) { if (nextSection) { if (nextSection.offsetTop \u0026gt; fromTop) { link.classList.add(\u0026#34;current\u0026#34;); } else { link.classList.remove(\u0026#34;current\u0026#34;); } } else { link.classList.add(\u0026#34;current\u0026#34;); } } else { link.classList.remove(\u0026#34;current\u0026#34;); } }); }); \u0026lt;/script\u0026gt; 2ã€å®¢æˆ·ç«¯æ–°å¢è‡ªå®šä¹‰css .toc-container .markdownIt-TOC { position: sticky; top: 32px; width: 200px; font-size: 12px; list-style: none; padding-left: 0; padding: 16px 8px; } .toc-container .markdownIt-TOC:before { content: \u0026#34;\u0026#34;; position: absolute; top: 0; left: 8px; bottom: 0; width: 1px; background-color: #ebedef; opacity: .5; } .toc-container ul { list-style: none; } .toc-container li { padding-left: 16px; } .toc-container li a { color: #868e96; padding: 4px; display: block; transition: all 0.3s; } .toc-container li a:hover { background: #cddbef; } .toc-container li a.current { color: #006CFF; background: #fafafa; } .post-content-wrapper { display: flex; } .post-content { width: 100%; margin-right: 20px; } @media (max-width: 1150px) { .toc-container { display: none; } } 3ã€ä¿®æ”¹main.cssæ–‡ä»¶ æœç´¢.post-detail ä¿®æ”¹margin: 0 auto;ä¸º\nmargin: 0 20px;\né‡æ–°æ¸²æŸ“ç½‘é¡µå³å¯å°½æƒ…äº«ç”¨å§ï¼\n","permalink":"https://blog.zsan.ml/posts/girde-simple-support-for-sidebar-directory/","summary":"ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶æ”¯æŒä¾§è¾¹æ ç›®å½• simpleä¸»é¢˜æ•´ä½“è¿˜è¡Œï¼Œä½†æ–‡ç« æ— ä¾§è¾¹æ ç›®å½•ï¼Œä¸€èˆ¬å†™çš„æŠ€æœ¯","title":"girde simpleä¿®æ”¹æ·»åŠ æ”¯æŒä¾§è¾¹æ ç›®å½•"},{"content":"ä½¿ç”¨dockeréƒ¨ç½²è‡ªåŠ¨é¢†é‡‘è±†botè„šæœ¬\nä½¿ç”¨çš„ç‰ˆæœ¬ï¼š\næœåŠ¡å™¨ï¼šcentos 8\ndockerï¼š 20.10.6\ndocker-composeï¼š 1.27.4\n1ã€æœåŠ¡å™¨å®‰è£…dockerï¼Œdocker-compose æ¨èä½¿ç”¨centosæœåŠ¡å™¨å®‰è£…dockerã€docker-compose\nDockerå®‰è£…\nå›½å†…ä¸€é”®å®‰è£… curl -sSL https://get.daocloud.io/docker | sh å›½å¤–ä¸€é”®å®‰è£… curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun docker-composeå®‰è£…\n$ sudo curl -L \u0026quot;https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)\u0026quot; -o /usr/local/bin/docker-compose\nè¦å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„ Composeï¼Œè¯·æ›¿æ¢ 1.24.1ã€‚\næœ€æ–°å‘è¡Œçš„ç‰ˆæœ¬åœ°å€ï¼šhttps://github.com/docker/compose/releasesã€‚\nå°†å¯æ‰§è¡Œæƒé™åº”ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼š\n$ sudo chmod +x /usr/local/bin/docker-compose\nåˆ›å»ºè½¯é“¾ï¼š\n$ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose\né€šè¿‡docker-compose versionæŸ¥çœ‹docker-composeç‰ˆæœ¬ï¼Œç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚\n2ã€å®‰è£…jd_scripts åˆ›å»ºä¸€ä¸ªç›®å½•jd_scriptsç”¨äºå­˜æ”¾å¤‡ä»½é…ç½®ç­‰æ•°æ®ï¼Œè¿ç§»é‡è£…çš„æ—¶å€™åªéœ€è¦å¤‡ä»½æ•´ä¸ªjd_scriptsç›®å½•å³å¯\néœ€è¦æ–°å»ºçš„ç›®å½•æ–‡ä»¶ç»“æ„å‚è€ƒå¦‚ä¸‹:\njd_scripts â”œâ”€â”€ logs â”‚Â â”œâ”€â”€ XXXX.log â”‚Â â””â”€â”€ XXXX.log â”œâ”€â”€ my_crontab_list.sh â””â”€â”€ docker-compose.yml jd_scripts/logså»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å°±è¡Œ jd_scripts/docker-compose.yml å‚è€ƒå†…å®¹å¦‚ä¸‹(è‡ªå·±åŠ¨æ‰‹èƒ½åŠ›ä¸è¡Œæä¸å®šè¯·ä½¿ç”¨é»˜è®¤é…ç½®)ï¼š æ ¹æ®æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥ä¸‹å»å°±okäº†ï¼Œä¸‹é¢ä¸»è¦è®°å½•ä¸‹å¯èƒ½ç”¨åˆ°çš„å‘½ä»¤\nç›®å½•æ–‡ä»¶é…ç½®å¥½ä¹‹ååœ¨ jd_scriptsç›®å½•æ‰§è¡Œã€‚\ndocker-compose up -d å¯åŠ¨ï¼ˆä¿®æ”¹docker-compose.ymlåéœ€è¦ä½¿ç”¨æ­¤å‘½ä»¤ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼‰ï¼›\ndocker-compose logs æ‰“å°æ—¥å¿—ï¼›\ndocker-compose logs -f æ‰“å°æ—¥å¿—ï¼Œ-fè¡¨ç¤ºè·Ÿéšæ—¥å¿—ï¼› docker logs -f jd_scripts å’Œä¸Šé¢ä¸¤æ¡ç›¸æ¯”å¯ä»¥æ˜¾ç¤ºæ±‰å­—ï¼› docker-compose pull æ›´æ–°é•œåƒï¼›\ndocker-compose stop åœæ­¢å®¹å™¨ï¼›\ndocker-compose restart é‡å¯å®¹å™¨ï¼›\ndocker-compose down åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼›\n3ã€å¼€ä»£ç†æœºå™¨ï¼Œæ¿€æ´»tg-bot è¿™é‡Œæ˜¯ä¸ªå¤§å‘ï¼Œæ‹¿ä¸ªå°æœ¬æœ¬è®°ä¸‹æ¥ï¼Œå…¶å®å°±æ˜¯dockerå†…ä»£ç†å®¿ä¸»æœºä»£ç†çš„é—®é¢˜\nç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå›½å†…çš„æœºå™¨ä¸èƒ½è®¿é—®tgï¼Œè€Œåˆæƒ³ä½¿ç”¨tg-botæ¥æ§åˆ¶ï¼Œæ— å¥ˆï¼Œå›½å¤–æœºå­å¤ªè´µï¼ˆç©·ï¼‰ï¼Œæœ€ä½ä¹Ÿè¦5ç¾åˆ€ï¼é‚ä¹°å›½å†…æœºå­å¼€ä»£ç†ä½¿ç”¨\n1ã€ä¹°å›½å†…æœºå™¨ï¼Œæ¨èå¤§å‚çš„ è¿™é‡Œåº”è¯¥æ”¾å„å¤§å‚çš„affçš„ï¼Œç•™ä¸ªå‘\n2ã€å®‰è£…clash ä¸€ç›´åœ¨ä½¿ç”¨clashï¼Œç›´æ¥ç½‘ä¸Šæœç´¢clashä¸‹è½½ï¼Œæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œåšä¸»ç”¨çš„æ˜¯centosï¼Œä¸‹è½½linux-amd64çš„\n1ã€ä¸‹è½½clashï¼Œæœ€æ–°ç‰ˆæœ¬å¯å»å®˜ç½‘æ‰¾\nwget https://github.com/Dreamacro/clash/releases/download/v0.19.0/clash-linux-amd64-v0.19.0.gz 2ã€è§£å‹\ngzip -d clash-linux-amd64-v0.19.0.gz 3ã€ç§»åŠ¨è‡³usr/bin/clashå¹¶é‡å‘½åä¸ºclash\nsudo mv clash-linux-amd64-v0.19.0 /usr/bin/clash 4ã€èµ‹äºˆclashè¿è¡Œæƒé™\nsudo chmod +x /usr/bin/clash 5ã€æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ\nclash -v 3ã€åˆ›å»ºé…ç½®æ–‡ä»¶ã€å®‰è£…æ§åˆ¶é¢æ¿ 1.åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•\nmkdir -p /etc/clash/ 2.è¿›å…¥ç›®å½•\ncd /etc/clash/ 3.åˆ›å»ºé…ç½®æ–‡ä»¶\nvim config.yaml 4.æ‰‹åŠ¨ç¼–è¾‘å¾ˆéº»çƒ¦ï¼Œå¯ç”¨winscpä¸Šä¼ \né…ç½®å‚æ•°è‡ªè¡ŒæŸ¥æ‰¾\n5.ä¸‹è½½å‰ç«¯ä»£ç \nwget https://github.com/Dreamacro/clash-dashboard/tree/gh-pages 6.è§£å‹\nunzip gh-pages.zip 7.ä¿®æ”¹ç›®å½•å,è¿™é‡Œçš„ç›®å½•åæ˜¯ä¸Šé¢é…ç½®æ–‡ä»¶é‡Œçš„ external-ui: dashboard\nmv clash-dashboard-gh-pages dashboard å¯ç”¨è¿™ä¸ªé¢æ¿è¿œç¨‹æ§åˆ¶\n4ã€è®¾ç½®clashå¼€æœºå¯åŠ¨ 1.åˆ›å»ºserviceæ–‡ä»¶\nsudo vim /usr/lib/systemd/system/clash.service 2.è¾“å…¥ä¸‹é¢ä»£ç \n[Unit] Description=clash proxy After=network.target [Service] Type=simple ExecStart=/usr/bin/clash -d /etc/clash [Install] WantedBy=multi-user.target 3.é‡æ–°åŠ è½½ systemd æ¨¡å—\nsudo systemctl daemon-reload 4.å¯åŠ¨Clash\nsudo systemctl start clash.service 5.è®¾ç½®Clashå¼€æœºè‡ªå¯åŠ¨\nsudo systemctl enable clash.service 6.åˆ¤æ–­æ˜¯å¦æˆåŠŸå¼€å¯ä»£ç†\ncurl -I https://www.google.com è¿”å›200å³è¡¨ç¤ºä»£ç†å·²ç»æˆåŠŸ\n5ã€è‡ªåŠ¨æ›´æ–°è®¢é˜…é…ç½®æ–‡ä»¶ é€šè¿‡shellè„šæœ¬è‡ªåŠ¨æ›´æ–°Clashåœ¨çº¿é…ç½®\né€šè¿‡systemctlæ¥ç®¡ç†Clashçš„è¿›ç¨‹ï¼Œå¯¹åº”clash.serviceæ–‡ä»¶ï¼Œé€šè¿‡ä¸¤ä¸ªè„šæœ¬start-clash.shå’Œstop-clash.shæ¥ç®¡ç†Clashçš„å¯åœï¼š\næŠŠä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸‹ï¼š\nvim /usr/lib/systemd/system/clash.service [Unit] Description=clash proxy After=network.target [Service] WorkingDirectory=/å½“å‰ç”¨æˆ·ç›®å½•/.config/clash Type=simple ExecStart=/å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/start-clash.sh ExecStop=/å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/stop-clash.sh Environment=\u0026#34;HOME=/å½“å‰ç”¨æˆ·ç›®å½•\u0026#34; Environment=\u0026#34;CLASH_URL=ä½ çš„è®¢é˜…é“¾æ¥\u0026#34; [Install] WantedBy=multi-user.target vim /å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/start-clash.sh #!/bin/bash # save this file to ${HOME}/.config/clash/start-clash.sh # save pid file echo $$ \u0026gt; ${HOME}/.config/clash/clash.pid diff ${HOME}/.config/clash/config.yaml \u0026lt;(curl -s ${CLASH_URL}) if [ \u0026#34;$?\u0026#34; == 0 ] then /usr/bin/clash else TIME=`date \u0026#39;+%Y-%m-%d %H:%M:%S\u0026#39;` cp ${HOME}/.config/clash/config.yaml \u0026#34;${HOME}/.config/clash/config.yaml.bak${TIME}\u0026#34; curl -L -o ${HOME}/.config/clash/config.yaml ${CLASH_URL} /usr/bin/clash fi vim /å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/stop-clash.sh #!/bin/bash # save this file to ${HOME}/.config/clash/stop-clash.sh # read pid file PID=`cat ${HOME}/.config/clash/clash.pid` kill -9 ${PID} rm ${HOME}/.config/clash/clash.pid é…ç½®æ·»åŠ å®Œæˆåï¼Œå¦‚æœä½ çš„clash æ­£åœ¨è¿è¡Œä¸­ï¼Œéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶å¹¶é‡å¯\n$ systemctl daemon-reload $ sudo systemctl restart clash.service è¿™æ ·æ¯æ¬¡å¯åŠ¨clashæ—¶å°±ä¼šè‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶äº†ï¼Œæ¥ä¸‹æ¥é€šè¿‡crontab è‡ªåŠ¨é‡å¯ clash.serviceå®ç°è‡ªåŠ¨æ›´æ–°èŠ‚ç‚¹\n#æ–°å»ºshellæ–‡ä»¶ vim restart-clash.sh æ–°å¢ä¸€æ¡å‘½ä»¤\n#/bin/sh sudo systemctl restart clash.service chmod +x restart-clash.sh crontab -e #æ’å…¥ä¸‹é¢å‘½ä»¤ #æ¯3å°æ—¶é‡å¯ä¸€æ¬¡ 0 */3 * * * restart-clash.sh #æ¯åˆ†é’Ÿé‡å¯ä¸€æ¬¡ * * * * * restart-clash.sh å¤§åŠŸå‘Šæˆï¼Œå¯é€šè¿‡tail -500f /var/log/cronæŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ˜¯å¦æ‰§è¡Œ\nsudo systemctl status clash.service æŸ¥çœ‹æ˜¯å¦é‡å¯æˆåŠŸ\n4ã€dockerå†…å¼€ä»£ç† ç”±äºä¸»è¦ç”¨æ¥ä½¿ç”¨tg-botï¼Œæ•…åªæ£€æµ‹tgapiå³å¯\n1ã€åˆ¤æ–­å®¿ä¸»æœºå¯è¿æ¥tgapi\ncurl -sX POST \u0026#34;https://api.telegram.org/bot\u0026#39;\u0026#39;\u0026#39;Your Token\u0026#39;\u0026#39;\u0026#39;/sendMessage\u0026#34; -d \u0026#34;chat_id=\u0026#34;Some Chat id\u0026#34;\u0026amp;text=hello\u0026#34; curl -sX POST \u0026#34;https://api.telegram.org/botxxxxxxxxugt5A/sendMessage\u0026#34; -d \u0026#34;chat_id=48xxxxxx\u0026amp;text=hello\u0026#34; å¦‚æœè¿”å›æˆåŠŸï¼Œå³è¡¨ç¤ºæˆåŠŸ\n2ã€è¿›å…¥å®¹å™¨\ndocker exec -it jd_scripts /bin/sh æ‰§è¡Œæ­¥éª¤1å‘½ä»¤ï¼Œå¦‚è‹¥å“åº”æ—¶é—´é•¿æˆ–å¤±è´¥ï¼Œåˆ™éœ€è¦é…ç½®ä»£ç†\n3ã€é…ç½®å®¹å™¨ä»£ç†èµ°å®¿ä¸»æœº\ndockerå®˜æ–¹æœ‰æ•™ç¨‹\ndockerç‰ˆæœ¬å¤§äº 17.07ä»¥ä¸Šå¯ç”¨ä¸‹é¢çš„æ–¹æ³•\ncd mkdir .docker vim ~/.docker/config.json å¡«å…¥ä¸‹é¢json\n{ \u0026#34;proxies\u0026#34;: { \u0026#34;default\u0026#34;: { \u0026#34;httpProxy\u0026#34;: \u0026#34;http://172.17.0.1:7890\u0026#34;, \u0026#34;httpsProxy\u0026#34;: \u0026#34;http://172.17.0.1:7890\u0026#34;, \u0026#34;noProxy\u0026#34;: \u0026#34;localhost,127.0.0.1\u0026#34; \u0026#34; } } } ä¿å­˜æ–‡ä»¶åˆ›å»ºæˆ–è€…å¯åŠ¨æ–°å®¹å™¨æ—¶æ‰ç”Ÿæ•ˆ\nè¿™é‡Œæœ‰ä¸ªå¤§å‘ï¼Œæäº†ä¸€å¤©ï¼Œå°±æ˜¯\nä»£ç†çš„ipä¸€å®šè¦å†™å¯¹ï¼\nä»£ç†çš„ipä¸€å®šè¦å†™å¯¹ï¼\nä»£ç†çš„ipä¸€å®šè¦å†™å¯¹!\nä¸‹åˆè°ƒè¯•çš„æ—¶å€™httpsçš„å†™æˆäº†127çš„äº†ï¼Œæœºå™¨å¯åŠ¨èµ·æ¥ï¼Œpullä»£ç çš„æ—¶å€™ï¼Œç›´æ¥æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œå½“æ—¶è¿˜éª‚è¿™ç ´ä»£ç†ï¼Œæ²¡æ³•ï¼Œå°±æŠŠæŠ¥é”™ipä¸èµ°ä»£ç†äº†ï¼Œæ²¡æƒ³åˆ°ä¸‹é¢ä¸æŠ¥é”™äº†ï¼Œç›´æ¥æ— é™é‡å¯ï¼Œæå¾—å¤´éƒ½å¤§äº†ï¼Œè¿˜åœ¨æƒ³æ˜¯ä¸æ˜¯å†…å­˜çˆ†äº†å‘¢ï¼æ™šä¸Šï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œå®šç›ä¸€çœ‹ï¼ŒWCï¼\u0026ldquo;httpsProxy\u0026quot;ç«¯å£å†™çš„127\u0026hellip;èµ¶ç´§æ”¹äº†ï¼Œé‡æ–°è·‘éï¼Œå¦¥äº†ï¼ŒbotæˆåŠŸäº†ï¼\n4ã€åˆ é™¤å®¹å™¨ï¼Œé‡æ–°å¯ç”¨\næ¥ä¸‹æ¥åœ¨jd_scripts ç›®å½•å†…\ndocker-compose down docker-compose up -d å¯åŠ¨æˆåŠŸåï¼Œtgbotå³å¯æ”¶åˆ°æˆåŠŸçš„æ¶ˆæ¯ï¼Œå°½æƒ…äº«ç”¨å§ï¼\nClashç›¸å…³çš„ç®¡ç†å‘½ä»¤ ## å¯åŠ¨Clash ## sudo systemctl start clash.service ## é‡å¯Clash ## sudo systemctl restart clash.service ## æŸ¥çœ‹Clashè¿è¡ŒçŠ¶æ€ ## sudo systemctl status clash.service ## å®æ—¶æ»šåŠ¨çŠ¶æ€ ## sudo journalctl -u clash.service -f dockerç›¸å…³å‘½ä»¤ docker exec -it jd_scripts /bin/sh -c 'git -C /scripts pull \u0026amp;\u0026amp; node /scripts/jd_bean_change.js' æ‰‹åŠ¨è¿è¡Œä¸€è„šæœ¬\ndocker exec -it jd_scripts /bin/sh -c 'env' æŸ¥çœ‹è®¾ç½®çš„ç¯å¢ƒå˜é‡\ndocker exec -it jd_scripts /bin/sh -c 'crontab -l' æŸ¥çœ‹å·²ç”Ÿæ•ˆçš„crontab_listå®šæ—¶å™¨ä»»åŠ¡\ndocker exec -it jd_scripts sh -c \u0026quot;docker_entrypoint.sh\u0026quot; æ‰‹åŠ¨æ›´æ–°jd_scriptsä»“åº“æœ€æ–°è„šæœ¬\ndocker exec -it jd_scripts /bin/sh ä»…è¿›å…¥å®¹å™¨å‘½ä»¤\nrm -rf logs/*.log åˆ é™¤logsæ–‡ä»¶å¤¹é‡Œé¢æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶\n[1] jd_docker [2] clashå®‰è£…å‚è€ƒ [3] dockerå†…ä»£ç†å‚è€ƒ [4] clashè‡ªåŠ¨æ›´æ–°è®¢é˜…é…ç½® ","permalink":"https://blog.zsan.ml/posts/docker-build-jdbot/","summary":"ä½¿ç”¨dockeréƒ¨ç½²è‡ªåŠ¨é¢†é‡‘è±†botè„šæœ¬ ä½¿ç”¨çš„ç‰ˆæœ¬ï¼š æœåŠ¡å™¨ï¼šcentos 8 docke","title":"äº‘æœåŠ¡å™¨dockeræ­å»ºè‡ªåŠ¨é¢†äº¬è±†botäº’åŠ¨æŒ‡ä»¤"}]