<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿—</title>
    <link>https://blog.zsan.cf/</link>
    <description>Recent content on å¼ ä¸‰çš„ç½‘ç»œæ—¥å¿—</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <copyright>&lt;a href=&#34;https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh&#34; target=&#34;_blank&#34;&gt;CC BY-NC-SA 4.0&lt;/a&gt;</copyright>
    <lastBuildDate>Sun, 11 Jun 2023 18:35:38 +0800</lastBuildDate><atom:link href="https://blog.zsan.cf/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Dockeræ›´æ¢é»˜è®¤ç›®å½•</title>
      <link>https://blog.zsan.cf/posts/docker-change-directory/</link>
      <pubDate>Sun, 11 Jun 2023 18:35:38 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-change-directory/</guid>
      <description>æŸ¥è¯¢ç›®å‰å·²å®‰è£…çš„è·¯å¾„ sudo docker info | grep &amp;quot;Docker Root Dir&amp;quot;
å¤‡ä»½æ—§æ•°æ®åˆ°æ–°ç›®å½• cp -a /var/lib/docker /path/to/docker
ä¿®æ”¹é…ç½®æ–‡ä»¶ docker ç‰ˆæœ¬ &amp;gt; 17.05 vim /etc/docker/daemon.json
{ &amp;#34;data-root&amp;#34;: &amp;#34;/path/to/docker&amp;#34;, &amp;#34;storage-driver&amp;#34;: &amp;#34;overlay2&amp;#34; # è¿™ä¸ªæ˜¯Dockerçš„é»˜è®¤è®¾ç½®ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä¸ç”¨åŠ  } é‡å¯docker sudo systemctl restart docker
å‚è€ƒ ä¸¤ç§æ–¹å¼è¿ç§»Docker</description>
      <content:encoded><![CDATA[<h2 id="æŸ¥è¯¢ç›®å‰å·²å®‰è£…çš„è·¯å¾„">æŸ¥è¯¢ç›®å‰å·²å®‰è£…çš„è·¯å¾„</h2>
<p><code>sudo docker info | grep &quot;Docker Root Dir&quot;</code></p>
<h2 id="å¤‡ä»½æ—§æ•°æ®åˆ°æ–°ç›®å½•">å¤‡ä»½æ—§æ•°æ®åˆ°æ–°ç›®å½•</h2>
<p><code>cp -a /var/lib/docker /path/to/docker</code></p>
<h2 id="ä¿®æ”¹é…ç½®æ–‡ä»¶">ä¿®æ”¹é…ç½®æ–‡ä»¶</h2>
<h3 id="docker-ç‰ˆæœ¬--1705">docker ç‰ˆæœ¬ &gt; 17.05</h3>
<p><code>vim /etc/docker/daemon.json</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;data-root&#34;</span>: <span style="color:#e6db74">&#34;/path/to/docker&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;storage-driver&#34;</span>: <span style="color:#e6db74">&#34;overlay2&#34;</span>   <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#960050;background-color:#1e0010">è¿™ä¸ªæ˜¯Dockerçš„é»˜è®¤è®¾ç½®ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ä¸ç”¨åŠ </span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="é‡å¯docker">é‡å¯docker</h2>
<p><code>sudo systemctl restart docker</code></p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<blockquote>
<p><a href="https://strikefreedom.top/archives/migrate-docker-installation-directory">ä¸¤ç§æ–¹å¼è¿ç§»Docker</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>ä¿æŠ¤æ‚¨çš„æœåŠ¡å™¨</title>
      <link>https://blog.zsan.cf/posts/set-up-and-secure/</link>
      <pubDate>Sun, 04 Jun 2023 16:59:21 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/set-up-and-secure/</guid>
      <description>æ–°ä¹°çš„æœåŠ¡å™¨é€šå¸¸éœ€è¦ä¸€ç³»åˆ—ä¿æŠ¤æªæ–½</description>
      <content:encoded><![CDATA[<h2 id="æ‰§è¡Œç³»ç»Ÿæ›´æ–°">æ‰§è¡Œç³»ç»Ÿæ›´æ–°</h2>
<p>ç»å¸¸æ›´æ–°æ‚¨çš„ç³»ç»Ÿæ˜¯æ‚¨å¯ä»¥å¯¹ä»»ä½•æ“ä½œç³»ç»Ÿé‡‡å–çš„æœ€å¤§çš„å®‰å…¨é¢„é˜²æªæ–½ã€‚è½¯ä»¶æ›´æ–°çš„èŒƒå›´ä»å…³é”®æ¼æ´è¡¥ä¸åˆ°å°é”™è¯¯ä¿®å¤ï¼Œè®¸å¤šè½¯ä»¶æ¼æ´åœ¨å…¬å¼€æ—¶å®é™…ä¸Šå·²ç»è¢«ä¿®è¡¥ã€‚æ›´æ–°è¿˜ä¸ºæ‚¨æä¾›äº†å¯ç”¨äºæ‚¨çš„åˆ†å‘çš„æœ€æ–°è½¯ä»¶ç‰ˆæœ¬ã€‚</p>
<h3 id="ubuntudebian-å’Œ-kali-linux">Ubuntuã€Debian å’Œ Kali Linux</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>apt update <span style="color:#f92672">&amp;&amp;</span> apt upgrade
</span></span></code></pre></div><h3 id="centosrhel-stream-å’Œ-fedora">CentOS/RHEL Stream å’Œ Fedora</h3>
<p>åŒ…æ‹¬ CentOS Stream 8ï¼ˆåŠæ›´é«˜ç‰ˆæœ¬ï¼‰ã€CentOS 8ã€å…¶ä»– RHEL è¡ç”Ÿäº§å“ï¼ˆåŒ…æ‹¬ AlmaLinux 8 å’Œ Rocky Linux 8ï¼‰å’Œ Fedora</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dnf upgrade
</span></span></code></pre></div><h2 id="è®¾ç½®æ—¶åŒº">è®¾ç½®æ—¶åŒº</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–°çš„è®¡ç®—å®ä¾‹éƒ½è®¾ç½®ä¸º UTC æ—¶é—´ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢ä½¿ç”¨æ‚¨å±…ä½çš„æ—¶åŒºï¼Œå› æ­¤æ—¥å¿—æ–‡ä»¶æ—¶é—´æˆ³æ˜¯ç›¸å¯¹äºæ‚¨å½“åœ°æ—¶é—´çš„ã€‚</p>
<h3 id="å¤§å¤šæ•°å‘è¡Œç‰ˆ">å¤§å¤šæ•°å‘è¡Œç‰ˆ</h3>
<p>åŒ…æ‹¬ CentOS Stream 8ï¼ˆåŠæ›´æ–°ç‰ˆæœ¬ï¼‰ã€CentOS 7ï¼ˆåŠæ›´æ–°ç‰ˆæœ¬ï¼‰ã€å…¶ä»– RHEL è¡ç”Ÿäº§å“ï¼ˆåŒ…æ‹¬ AlmaLinux 8 å’Œ Rocky Linux 8ï¼‰ã€Fedora å’Œ Archã€‚è¿™äº›è¯´æ˜ä¹Ÿé€‚ç”¨äºå¤§å¤šæ•° Ubuntuã€Debian å’Œ openSUSE å‘è¡Œç‰ˆï¼Œä½†åœ¨è¿™äº›æƒ…å†µä¸‹å¯èƒ½é¦–é€‰å…¶ä»–æ–¹æ³•ã€‚</p>
<ol>
<li>
<p>ä½¿ç”¨Â <code>timedatectl</code>Â è¾“å‡ºå¯ç”¨æ—¶åŒºåˆ—è¡¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>timedatectl list-timezones
</span></span></code></pre></div></li>
<li>
<p>ä½¿ç”¨ç®­å¤´é”®ã€Â <code>Page Up</code>Â å’ŒÂ <code>Page Down</code>Â æµè§ˆåˆ—è¡¨ã€‚å¤åˆ¶æˆ–è®°ä¸‹æ‚¨æƒ³è¦çš„æ—¶åŒºï¼Œç„¶åæŒ‰ q é€€å‡ºåˆ—è¡¨ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®æ—¶åŒºï¼Œå°† America/New_York æ›¿æ¢ä¸ºæ‚¨å–œæ¬¢çš„æ—¶åŒºã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>timedatectl set-timezone <span style="color:#e6db74">&#39;America/New_York&#39;</span>
</span></span></code></pre></div></li>
</ol>
<h3 id="ubuntu-debian-å’Œ-kali-linux">Ubuntu, Debian å’Œ Kali Linux</h3>
<p>Ubuntu å’Œ Debian éƒ½å¸¦æœ‰ä¸€ä¸ªæ›´å‹å¥½çš„å·¥å…·ï¼Œç§°ä¸ºÂ <code>tzdata</code></p>
<ol>
<li>
<p>æ‰“å¼€Â <code>tzdata</code>Â å·¥å…·</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>dpkg-reconfigure tzdata
</span></span></code></pre></div></li>
<li>
<p>ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©æ‚¨é€‰æ‹©çš„å¤§é™†ï¼Œç„¶åæŒ‰ Enter</p>
</li>
<li>
<p>ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©æ‚¨æ‰€åœ¨çš„åœ°åŒºï¼Œç„¶åæŒ‰ Enter</p>
</li>
</ol>
<h3 id="æ£€æŸ¥æ—¶é—´">æ£€æŸ¥æ—¶é—´</h3>
<p>ä½¿ç”¨Â <code>date</code>Â å‘½ä»¤æ ¹æ®æ‚¨çš„æœåŠ¡å™¨æŸ¥çœ‹å½“å‰æ—¥æœŸå’Œæ—¶é—´</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>root@localhost:~# date
</span></span><span style="display:flex;"><span>Thu Feb <span style="color:#ae81ff">16</span> 12:17:52 EST <span style="color:#ae81ff">2018</span>
</span></span></code></pre></div><h2 id="é…ç½®è‡ªå®šä¹‰ä¸»æœºå">é…ç½®è‡ªå®šä¹‰ä¸»æœºå</h2>
<p>ä¸»æœºåç”¨äºä½¿ç”¨æ˜“äºè®°å¿†çš„åç§°æ¥æ ‡è¯†æ‚¨çš„è®¡ç®—å®ä¾‹ã€‚å®ƒå¯ä»¥æ˜¯æè¿°æ€§çš„å’Œç»“æ„åŒ–çš„ï¼ˆè¯¦ç»†è¯´æ˜ç³»ç»Ÿçš„ç”¨é€”ï¼‰æˆ–é€šç”¨è¯æˆ–çŸ­è¯­ã€‚</p>
<p>ç®€å•ç‚¹å°±æ˜¯é»˜è®¤æœ‰Â <code>locahost</code>å˜ä¸ºä½ è®¾ç½®çš„æ–°çš„<code>web-app</code>åå­—ï¼Œè¿˜å¯ç”¨ä½œç³»ç»Ÿçš„ FQDNï¼ˆå®Œå…¨é™å®šåŸŸåï¼‰çš„ä¸€éƒ¨åˆ†ã€‚</p>
<h3 id="å¤§å¤šæ•°å‘è¡Œç‰ˆ-1">å¤§å¤šæ•°å‘è¡Œç‰ˆ</h3>
<p>å°†Â <code>example-hostname</code>Â æ›¿æ¢ä¸ºæ‚¨çš„é€‰æ‹©ä¹‹ä¸€</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>hostnamectl set-hostname example-hostname
</span></span></code></pre></div><h3 id="æ›´æ–°ç³»ç»Ÿçš„hostsæ–‡ä»¶">æ›´æ–°ç³»ç»Ÿçš„<code>hosts</code>æ–‡ä»¶</h3>
<p><code>hosts</code>Â æ–‡ä»¶åœ¨ IP åœ°å€å’Œä¸»æœºåæˆ–åŸŸä¹‹é—´åˆ›å»ºé™æ€å…³è”ï¼Œç³»ç»Ÿä¼˜å…ˆè€ƒè™‘åœ¨ DNS ä¹‹å‰è¿›è¡Œåç§°è§£æ</p>
<ol>
<li>
<p>åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ Nanoï¼‰ä¸­æ‰“å¼€Â <code>hosts</code>Â æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nano /etc/hosts
</span></span></code></pre></div></li>
<li>
<p>ä¸ºæ‚¨çš„è®¡ç®—å®ä¾‹çš„å…¬å…± IP åœ°å€æ·»åŠ ä¸€è¡Œã€‚æ‚¨å¯ä»¥å°†æ­¤åœ°å€ä¸å®ä¾‹çš„å®Œå…¨é™å®šåŸŸå (FQDN) ç›¸å…³è”ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¹¶ä¸æ‚¨åœ¨ä¸Šè¿°æ­¥éª¤ä¸­è®¾ç½®çš„æœ¬åœ°ä¸»æœºåç›¸å…³è”ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒÂ <code>203.0.113.10</code>Â æ˜¯å…¬å…± IP åœ°å€ï¼ŒÂ <code>example-hostname</code>Â æ˜¯æœ¬åœ°ä¸»æœºåï¼ŒÂ <code>example-hostname.example.com</code>Â æ˜¯ FQDN</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>127.0.0.1 localhost.localdomain localhost 
</span></span><span style="display:flex;"><span>203.0.113.10 example-hostname.example.com example-hostname
</span></span></code></pre></div></li>
<li>
<p>ä¸ºæ‚¨çš„è®¡ç®—å®ä¾‹çš„ IPv6 åœ°å€æ·»åŠ ä¸€è¡Œã€‚å¦‚æœæ²¡æœ‰æ­¤æ¡ç›®ï¼Œéœ€è¦ IPv6 çš„åº”ç”¨ç¨‹åºå°†æ— æ³•è¿è¡Œ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>127.0.0.1 localhost.localdomain localhost
</span></span><span style="display:flex;"><span>203.0.113.10 example-hostname.example.com example-hostname
</span></span><span style="display:flex;"><span>2600:3c01::a123:b456:c789:d012 example-hostname.example.com example-hostname
</span></span></code></pre></div></li>
</ol>
<p>ç”±äºè¿™é‡Œå¹¶æ²¡æœ‰é…ç½®<code>FQDN</code>æ‰€ä»¥åªä¿®æ”¹äº†<code>127.0.1.1</code></p>
<h2 id="æ·»åŠ å—é™ç”¨æˆ·è´¦æˆ·">æ·»åŠ å—é™ç”¨æˆ·è´¦æˆ·</h2>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»ä»¥Â <code>root</code>Â ç”¨æˆ·çš„èº«ä»½è®¿é—®äº†æ‚¨çš„è®¡ç®—å®ä¾‹ï¼Œè¯¥ç”¨æˆ·æ‹¥æœ‰æ— é™çš„æƒé™å¹¶ä¸”å¯ä»¥æ‰§è¡Œä»»ä½•å‘½ä»¤â€”â€”ç”šè‡³æ˜¯å¯èƒ½ä¼šæ„å¤–ä¸­æ–­æ‚¨çš„æœåŠ¡å™¨çš„å‘½ä»¤ã€‚æˆ‘ä»¬å»ºè®®åˆ›å»ºä¸€ä¸ªå—é™ç”¨æˆ·å¸æˆ·å¹¶å§‹ç»ˆä½¿ç”¨è¯¥å¸æˆ·ã€‚ç®¡ç†ä»»åŠ¡å°†ä½¿ç”¨Â <code>sudo</code>Â æ¥ä¸´æ—¶æå‡æ‚¨çš„å—é™ç”¨æˆ·çš„æƒé™ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥ç®¡ç†æ‚¨çš„æœåŠ¡å™¨ã€‚ç¨åï¼Œå½“æ‚¨æƒ³è¦é™åˆ¶ç”¨æˆ·çš„ sudo è®¿é—®æƒé™æ—¶ï¼Œè¯·å‚é˜… Linux ç”¨æˆ·å’Œç»„ã€‚</p>
<h3 id="ubuntu-å’Œ-debian">Ubuntu å’Œ Debian</h3>
<ol>
<li>
<p>åˆ›å»ºç”¨æˆ·ï¼Œç”¨ä½ æƒ³è¦çš„ç”¨æˆ·åæ›¿æ¢Â <code>example_user</code>Â ã€‚ç„¶åï¼Œç³»ç»Ÿä¼šè¦æ±‚æ‚¨ä¸ºç”¨æˆ·åˆ†é…ä¸€ä¸ªå¯†ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>adduser example_user
</span></span></code></pre></div></li>
<li>
<p>å°†ç”¨æˆ·æ·»åŠ åˆ°Â <code>sudo</code>Â ç»„ï¼Œä»¥ä¾¿æ‚¨æ‹¥æœ‰ç®¡ç†æƒé™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>adduser example_user sudo
</span></span></code></pre></div></li>
</ol>
<h3 id="centosrhel-stream-å’Œ-fedora-1">CentOS/RHEL Stream å’Œ Fedora</h3>
<ol>
<li>
<p>åˆ›å»ºç”¨æˆ·ï¼Œç”¨ä½ æƒ³è¦çš„ç”¨æˆ·åæ›¿æ¢Â <code>example_user</code>Â ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå¯†ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>useradd example_user <span style="color:#f92672">&amp;&amp;</span> passwd example_user
</span></span></code></pre></div></li>
<li>
<p>å°†ç”¨æˆ·æ·»åŠ åˆ°Â <code>wheel</code>Â ç»„ä»¥è·å¾— sudo æƒé™ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>usermod -aG wheel example_user
</span></span></code></pre></div></li>
</ol>
<h3 id="ä»¥æ–°ç”¨æˆ·èº«ä»½ç™»å½•">ä»¥æ–°ç”¨æˆ·èº«ä»½ç™»å½•</h3>
<ol>
<li>
<p>åˆ›å»ºå—é™ç”¨æˆ·åï¼Œæ–­å¼€ä¸è®¡ç®—å®ä¾‹çš„è¿æ¥ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>exit
</span></span></code></pre></div></li>
<li>
<p>ä»¥æ‚¨çš„æ–°ç”¨æˆ·èº«ä»½é‡æ–°ç™»å½•ã€‚å°†Â <code>example_user</code>Â æ›¿æ¢ä¸ºæ‚¨çš„ç”¨æˆ·åï¼Œå°†ç¤ºä¾‹ IP åœ°å€æ›¿æ¢ä¸ºæ‚¨å®ä¾‹çš„ IP åœ°å€ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh example_user@192.0.2.1
</span></span></code></pre></div></li>
</ol>
<p>ç°åœ¨æ‚¨å¯ä»¥ä»æ‚¨çš„æ–°ç”¨æˆ·å¸æˆ·è€Œä¸æ˜¯Â <code>root</code>Â ç®¡ç†æ‚¨çš„è®¡ç®—å®ä¾‹ã€‚å‡ ä¹æ‰€æœ‰è¶…çº§ç”¨æˆ·å‘½ä»¤éƒ½å¯ä»¥ä½¿ç”¨Â <code>sudo</code>Â ï¼ˆä¾‹å¦‚ï¼šÂ <code>sudo iptables -L -nv</code>Â ï¼‰æ‰§è¡Œï¼Œè¿™äº›å‘½ä»¤å°†è¢«è®°å½•åˆ°Â <code>/var/log/auth.log</code>Â </p>
<h2 id="å®‰å…¨è®¿é—®ssh">å®‰å…¨è®¿é—®ssh</h2>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯†ç èº«ä»½éªŒè¯ç”¨äºé€šè¿‡ SSH è¿æ¥åˆ°æ‚¨çš„è®¡ç®—å®ä¾‹ã€‚åŠ å¯†å¯†é’¥å¯¹æ›´å®‰å…¨ï¼Œå› ä¸ºç§é’¥å–ä»£äº†å¯†ç ï¼Œè€Œå¯†ç é€šå¸¸æ›´éš¾é€šè¿‡æš´åŠ›è§£å¯†ã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯†é’¥å¯¹å¹¶å°†æ‚¨çš„ç³»ç»Ÿé…ç½®ä¸ºä¸æ¥å— SSH ç™»å½•çš„å¯†ç ã€‚</p>
<h3 id="åˆ›å»ºèº«ä»½å¯†é’¥å¯¹ssh-key">åˆ›å»ºèº«ä»½å¯†é’¥å¯¹ssh-key</h3>
<ol>
<li>
<p>å‘½ä»¤åˆ›å»º</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh-keygen -b <span style="color:#ae81ff">4096</span>
</span></span></code></pre></div></li>
<li>
<p>å…¬é’¥ä¸Šä¼ åˆ°æ‚¨çš„æœåŠ¡å™¨</p>
<ul>
<li><strong>Linux</strong></li>
</ul>
<p>ä»æ‚¨çš„æœ¬åœ°è®¡ç®—æœºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ssh-copy-id example_user@192.0.2.1
</span></span></code></pre></div><ul>
<li><strong>macOS</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>scp ~/.ssh/id_rsa.pub example_user@203.0.113.10:~/.ssh/authorized_keys
</span></span></code></pre></div></li>
<li>
<p>æœ€åï¼Œæ‚¨éœ€è¦ä¸ºå…¬é’¥ç›®å½•å’Œå¯†é’¥æ–‡ä»¶æœ¬èº«è®¾ç½®æƒé™</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo chmod -R <span style="color:#ae81ff">700</span> ~/.ssh <span style="color:#f92672">&amp;&amp;</span> chmod <span style="color:#ae81ff">600</span> ~/.ssh/authorized_keys
</span></span></code></pre></div></li>
<li>
<p>ç°åœ¨é€€å‡ºå¹¶é‡æ–°ç™»å½•åˆ°æ‚¨çš„è®¡ç®—å®ä¾‹</p>
</li>
</ol>
<h3 id="sshå®ˆæŠ¤è¿›ç¨‹è®¾ç½®">sshå®ˆæŠ¤è¿›ç¨‹è®¾ç½®</h3>
<ol>
<li>
<p>ä½¿ç”¨ Linux æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ nano æˆ– vimï¼‰æ‰“å¼€è®¡ç®—å®ä¾‹ä¸Šçš„ SSH é…ç½®æ–‡ä»¶ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo nano /etc/ssh/sshd_config
</span></span></code></pre></div></li>
<li>
<p>ç¦æ­¢é€šè¿‡ SSH è¿›è¡Œ root ç™»å½•ã€‚è¿™è¦æ±‚æ‰€æœ‰ SSH è¿æ¥éƒ½ç”±é root ç”¨æˆ·è¿›è¡Œã€‚ä¸€æ—¦è¿æ¥äº†å—é™ç”¨æˆ·å¸æˆ·ï¼Œå°±å¯ä»¥é€šè¿‡ä½¿ç”¨Â <code>sudo</code>Â æˆ–ä½¿ç”¨Â <code>su -</code>Â æ›´æ”¹ä¸ºroot shell æ¥è®¿é—®ç®¡ç†æƒé™ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Authentication:</span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>PermitRootLogin no
</span></span></code></pre></div></li>
<li>
<p>ç¦ç”¨ SSH å¯†ç éªŒè¯ã€‚è¿™è¦æ±‚æ‰€æœ‰é€šè¿‡ SSH è¿æ¥çš„ç”¨æˆ·éƒ½ä½¿ç”¨å¯†é’¥èº«ä»½éªŒè¯ã€‚æ ¹æ® Linux å‘è¡Œç‰ˆï¼Œå¯èƒ½éœ€è¦æ·»åŠ è¡ŒÂ <code>PasswordAuthentication</code>Â ï¼Œæˆ–è€…é€šè¿‡åˆ é™¤å‰å¯¼Â <code>#</code>Â æ¥å–æ¶ˆæ³¨é‡Šã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Change to no to disable tunnelled clear text passwords</span>
</span></span><span style="display:flex;"><span>PasswordAuthentication no
</span></span></code></pre></div></li>
<li>
<p>åªç›‘å¬ä¸€ç§äº’è”ç½‘åè®®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒSSH å®ˆæŠ¤ç¨‹åºç›‘å¬é€šè¿‡ IPv4 å’Œ IPv6 çš„ä¼ å…¥è¿æ¥ã€‚é™¤éæ‚¨éœ€è¦ä½¿ç”¨è¿™ä¸¤ç§åè®®é€šè¿‡ SSH è¿æ¥åˆ°æ‚¨çš„è®¡ç®—å®ä¾‹ï¼Œå¦åˆ™è¯·ç¦ç”¨æ‚¨ä¸éœ€è¦çš„ä»»ä½•ä¸€ä¸ªã€‚è¿™ä¸ä¼šåœ¨ç³»ç»ŸèŒƒå›´å†…ç¦ç”¨è¯¥åè®®ï¼Œå®ƒä»…é€‚ç”¨äº SSH å®ˆæŠ¤è¿›ç¨‹ã€‚æ ¹æ® Linux å‘è¡Œç‰ˆï¼Œå¯èƒ½éœ€è¦æ·»åŠ è¡ŒÂ <code>AddressFamily</code>Â ï¼Œæˆ–è€…é€šè¿‡åˆ é™¤å‰å¯¼Â <code>#</code>Â å–æ¶ˆæ³¨é‡Š</p>
</li>
</ol>
<p>Â  Â Use the option:Â ä½¿ç”¨é€‰é¡¹ï¼š</p>
<p>Â Â Â Â Â Â <code>AddressFamily inet</code>Â ä»…åœ¨ IPv4 ä¸Šä¾¦å¬ã€‚</p>
<p>Â Â Â Â Â Â <code>AddressFamily inet6</code>Â ä»…åœ¨ IPv6 ä¸Šä¾¦å¬ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Port 22</span>
</span></span><span style="display:flex;"><span> AddressFamily inet
</span></span></code></pre></div><ol start="5">
<li>é‡æ–°å¯åŠ¨ SSH æœåŠ¡ä»¥åŠ è½½æ–°é…ç½®</li>
</ol>
<ul>
<li>
<p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ä½¿ç”¨ systemd çš„ Linux å‘è¡Œç‰ˆï¼ˆCentOS 7ã€Debian 8ã€Fedoraã€Ubuntu 15.10+ï¼‰</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl restart sshd
</span></span></code></pre></div></li>
<li>
<p>å¦‚æœæ‚¨çš„åˆå§‹åŒ–ç³»ç»Ÿæ˜¯ SystemV æˆ– Upstartï¼ˆCentOS 6ã€Debian 7ã€Ubuntu 14.04ï¼‰ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo service sshd restart
</span></span></code></pre></div></li>
</ul>
<h3 id="ä½¿ç”¨fail2banä¿æŠ¤sshç™»å½•">ä½¿ç”¨Fail2Banä¿æŠ¤sshç™»å½•</h3>
<p>Fail2Ban æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå®ƒå¯ä»¥åœ¨ç™»å½•å°è¯•å¤±è´¥æ¬¡æ•°è¿‡å¤šåç¦æ­¢ IP åœ°å€ç™»å½•æ‚¨çš„æœåŠ¡å™¨ã€‚ç”±äºåˆæ³•ç™»å½•é€šå¸¸ä¸ä¼šè¶…è¿‡ä¸‰æ¬¡å°è¯•æˆåŠŸï¼ˆå¹¶ä¸”ä½¿ç”¨ SSH å¯†é’¥ï¼Œæœ€å¤šä¸ä¼šè¶…è¿‡ä¸€æ¬¡ï¼‰ï¼Œå› æ­¤æœåŠ¡å™¨è¢«ä¸æˆåŠŸç™»å½•çš„åƒåœ¾é‚®ä»¶è¡¨æ˜è¯•å›¾è¿›è¡Œæ¶æ„è®¿é—®</p>
<p>Fail2Ban å¯ä»¥ç›‘æ§å¤šç§åè®®ï¼ŒåŒ…æ‹¬ SSHã€HTTP å’Œ SMTPã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒFail2Ban ä»…ç›‘æ§ SSHï¼Œå¹¶ä¸”å¯¹ä»»ä½•æœåŠ¡å™¨éƒ½æ˜¯ä¸€ç§æœ‰ç”¨çš„å®‰å…¨å¨æ…‘ï¼Œå› ä¸º SSH å®ˆæŠ¤ç¨‹åºé€šå¸¸é…ç½®ä¸ºæŒç»­è¿è¡Œå¹¶ä¾¦å¬æ¥è‡ªä»»ä½•è¿œç¨‹ IP åœ°å€çš„è¿æ¥</p>
<p>å…·ä½“å¯å‚è€ƒ<a href="https://www.linode.com/docs/guides/using-fail2ban-to-secure-your-server-a-tutorial/">è¿™ç¯‡</a></p>
<p>å‚è€ƒï¼š</p>
<blockquote>
<p>å¤§éƒ¨åˆ†æ˜¯æ‘˜æŠ„ä¸‹æ–‡å¹¶åšäº†æ±‰åŒ–ï¼Œå›½å†…è¿™äº›èµ„æ–™å¤ªå°‘äº†ğŸ˜¢</p>
<p><a href="https://www.linode.com/docs/products/compute/compute-instances/guides/set-up-and-secure/">Guides - Setting Up and Securing a Compute Instance</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>hugoæ›´æ¢404å…¬ç›Šé¡µé¢</title>
      <link>https://blog.zsan.cf/posts/404public-interest/</link>
      <pubDate>Sun, 28 May 2023 19:49:45 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/404public-interest/</guid>
      <description>layoutsæ–‡ä»¶å¤¹ï¼Œæ–°å»º404.html
&amp;lt;!DOCTYPE HTML&amp;gt; &amp;lt;html&amp;gt; &amp;lt;head&amp;gt; &amp;lt;meta charset=&amp;#34;UTF-8&amp;#34; /&amp;gt; &amp;lt;meta name=&amp;#34;description&amp;#34; content=&amp;#34;å…¬ç›Š404é¡µé¢æ˜¯ç”±è…¾è®¯å…¬å¸å‘˜å·¥å¿—æ„¿è€…è‡ªä¸»å‘èµ·çš„äº’è”ç½‘å…¬ç›Šæ´»åŠ¨ã€‚&amp;#34; /&amp;gt; &amp;lt;link rel=&amp;#34;icon&amp;#34; href=&amp;#34;data:image/gif;base64,R0lGODdhIAAgANUAAAAAAAgFBgYICAwMDBAPDxAQDxQTFBUYFxcaGRwcHCQkJCQoJykqKTQ0ND09PUJCQktMTFZWVltcXF1hYGNjY2doaGpqanNzc3d5eHp6eoODg4uLi5eXl5mamqOjo62tra+wr7S0tLe5uLu7u7/AwMPEw83NzdbX1tfa2dra2uTk5Ovr6+/w7/T09Pj39/f4+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAADEALAAAAAAgACAAAAb/QJhwOGyZOpIGQ6FgNCQcU4tIrcJaIwlgy+1uJaOplZqydBOSzGaTkSS6lNN4ONoOAJRQajV0rVAgFF0jcyEAbw9hc1cjD4cAIVZ1DAAXKotEKxkAlIREJ48bYphFGwAKAHJCLWaVo6RFF1sWYnUDDpewVSoOd4QtWgCeMCmXLaqfUyopdF9GWxRiKQAVKh3CRHUdKhQEzFeCAEdbH6uOh28A3ypbCQhbEGIfWx2CCd8wJhB2CpFDIQvuAIBgYkiKN0kASOAzRJYjBwyFrGgAwNGFTFqUAMjwYogpA1woMFwRDgDIDUQ2LQGAcoiGLRr2QRgp8yUADURMMWFJRYMH3BglJOQSwq0EDA84c56ilOGVLisqKUaISKVFihIjRJRI4XTIiggAGggygKxICAoguSDI0/UEyAnXAJTLJMtLlwxUYcwD0MEEtIgtBKGi0OHDh3qn8IwKvEVKuGHXGAwI8apFCAOUOvxzBqNOAVzgthi1UgKasl7YrtS9MMXI6DEjpKieNWoaSA1dF7V4+QafkNKoLOlSIQsVCUkmATgYwWIRCxEOAByANKc0AAEAJnzYI6bFihQfBAUQjSlF3S0GIqjZgCFC2i0XfM/BUtJuSEVPjdRTwsQJYdljBAEAOw==&amp;#34;&amp;gt; &amp;lt;title&amp;gt;404 æ‚¨è®¿é—®çš„é¡µé¢æä¸¢äº†&amp;lt;/title&amp;gt; &amp;lt;/head&amp;gt; &amp;lt;body&amp;gt; &amp;lt;script&amp;gt; let s = document.createElement(&amp;#34;script&amp;#34;); s.src=&amp;#34;//volunteer.cdn-go.cn/404/latest/404.js&amp;#34; s.crossorigin=&amp;#34;anonymous&amp;#34; document.getElementsByTagName(&amp;#34;head&amp;#34;)[0].appendChild(s); &amp;lt;/script&amp;gt; &amp;lt;/body&amp;gt; &amp;lt;/html&amp;gt; &amp;lt;!-- */ //--&amp;gt; </description>
      <content:encoded><![CDATA[<p>layoutsæ–‡ä»¶å¤¹ï¼Œæ–°å»º<code>404.html</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE HTML&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;UTF-8&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;description&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;å…¬ç›Š404é¡µé¢æ˜¯ç”±è…¾è®¯å…¬å¸å‘˜å·¥å¿—æ„¿è€…è‡ªä¸»å‘èµ·çš„äº’è”ç½‘å…¬ç›Šæ´»åŠ¨ã€‚&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">link</span> <span style="color:#a6e22e">rel</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;icon&#34;</span> <span style="color:#a6e22e">href</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;data:image/gif;base64,R0lGODdhIAAgANUAAAAAAAgFBgYICAwMDBAPDxAQDxQTFBUYFxcaGRwcHCQkJCQoJykqKTQ0ND09PUJCQktMTFZWVltcXF1hYGNjY2doaGpqanNzc3d5eHp6eoODg4uLi5eXl5mamqOjo62tra+wr7S0tLe5uLu7u7/AwMPEw83NzdbX1tfa2dra2uTk5Ovr6+/w7/T09Pj39/f4+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAADEALAAAAAAgACAAAAb/QJhwOGyZOpIGQ6FgNCQcU4tIrcJaIwlgy+1uJaOplZqydBOSzGaTkSS6lNN4ONoOAJRQajV0rVAgFF0jcyEAbw9hc1cjD4cAIVZ1DAAXKotEKxkAlIREJ48bYphFGwAKAHJCLWaVo6RFF1sWYnUDDpewVSoOd4QtWgCeMCmXLaqfUyopdF9GWxRiKQAVKh3CRHUdKhQEzFeCAEdbH6uOh28A3ypbCQhbEGIfWx2CCd8wJhB2CpFDIQvuAIBgYkiKN0kASOAzRJYjBwyFrGgAwNGFTFqUAMjwYogpA1woMFwRDgDIDUQ2LQGAcoiGLRr2QRgp8yUADURMMWFJRYMH3BglJOQSwq0EDA84c56ilOGVLisqKUaISKVFihIjRJRI4XTIiggAGggygKxICAoguSDI0/UEyAnXAJTLJMtLlwxUYcwD0MEEtIgtBKGi0OHDh3qn8IwKvEVKuGHXGAwI8apFCAOUOvxzBqNOAVzgthi1UgKasl7YrtS9MMXI6DEjpKieNWoaSA1dF7V4+QafkNKoLOlSIQsVCUkmATgYwWIRCxEOAByANKc0AAEAJnzYI6bFihQfBAUQjSlF3S0GIqjZgCFC2i0XfM/BUtJuSEVPjdRTwsQJYdljBAEAOw==&#34;</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">title</span>&gt;404 æ‚¨è®¿é—®çš„é¡µé¢æä¸¢äº†&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">createElement</span>(<span style="color:#e6db74">&#34;script&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;//volunteer.cdn-go.cn/404/latest/404.js&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">crossorigin</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;anonymous&#34;</span>
</span></span><span style="display:flex;"><span>document.<span style="color:#a6e22e">getElementsByTagName</span>(<span style="color:#e6db74">&#34;head&#34;</span>)[<span style="color:#ae81ff">0</span>].<span style="color:#a6e22e">appendChild</span>(<span style="color:#a6e22e">s</span>);
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- */ //--&gt;</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>ä¸ªäººç†è´¢å·¥å…·-Firefly Iiiå®‰è£…</title>
      <link>https://blog.zsan.cf/posts/firefly-iii-install/</link>
      <pubDate>Sun, 28 May 2023 18:09:34 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/firefly-iii-install/</guid>
      <description>âš ï¸ï¼šä½ å¿…é¡»å‡†å¤‡
åŸŸåï¼šå›½å†…å¯èƒ½éœ€è¦å¤‡æ¡ˆ
æœåŠ¡å™¨ï¼šLinux
â€¼ï¸â€¼ï¸â€¼ï¸æ–°ä¹°çš„æœåŠ¡å™¨ä¸€å®šè¦åšä¸€äº›å®‰å…¨çš„é˜²æŠ¤å…·ä½“å¯å‚è€ƒ ä¿æŠ¤æ‚¨çš„æœåŠ¡å™¨ æ—¥æœŸ: 2023-06-04 &amp;nbsp; æ ‡ç­¾: #å®‰å…¨&amp;nbsp; #æœåŠ¡å™¨&amp;nbsp; æ‰§è¡Œç³»ç»Ÿæ›´æ–° ç»å¸¸æ›´æ–°æ‚¨çš„ç³»ç»Ÿæ˜¯æ‚¨å¯ä»¥å¯¹ä»»ä½•æ“ä½œç³»ç»Ÿé‡‡å–çš„æœ€å¤§çš„å®‰å…¨é¢„é˜²æªæ–½ã€‚è½¯ä»¶æ›´æ–°çš„èŒƒå›´ä»å…³é”®æ¼æ´è¡¥ä¸åˆ°å°é”™è¯¯ä¿®å¤ï¼Œè®¸å¤šè½¯ä»¶æ¼æ´åœ¨å…¬å¼€æ—¶å®é™…ä¸Šå·²ç»è¢«ä¿®è¡¥ã€‚æ›´æ–°è¿˜ä¸ºæ‚¨æä¾›äº†å¯ç”¨äºæ‚¨çš„åˆ†å‘çš„æœ€æ–°è½¯ä»¶ç‰ˆæœ¬ã€‚ Ubuntuã€Debian å’Œ Kali Linux apt update &amp;amp;amp;&amp;amp;amp; apt upgrade CentOS/RHEL Stream å’Œ Fedora åŒ…æ‹¬ CentOS Stream 8ï¼ˆåŠæ›´é«˜ç‰ˆæœ¬ï¼‰ã€CentOS 8ã€å…¶ä»– RHEL è¡ç”Ÿäº§å“ï¼ˆåŒ…æ‹¬ AlmaLinux 8 å’Œ Rocky Linux 8ï¼‰å’Œ Fedora dnf upgrade è®¾ç½®æ—¶åŒº é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–°çš„è®¡ç®—å®ä¾‹éƒ½è®¾ç½®ä¸º UTC æ—¶é—´ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢ä½¿ç”¨æ‚¨å±…ä½çš„æ—¶åŒºï¼Œå› æ­¤æ—¥å¿—æ–‡ä»¶æ—¶é—´æˆ³æ˜¯ç›¸å¯¹äºæ‚¨å½“åœ°æ—¶é—´çš„ã€‚ å¤§å¤šæ•°å‘è¡Œç‰ˆ åŒ…æ‹¬ CentOS Stream 8ï¼ˆåŠæ›´æ–°ç‰ˆæœ¬ï¼‰ã€CentOS 7ï¼ˆåŠæ›´æ–°ç‰ˆæœ¬ï¼‰ã€å…¶ä»– RHEL è¡ç”Ÿäº§å“ï¼ˆåŒ…æ‹¬ AlmaLinux 8 å’Œ Rocky Linux 8ï¼‰ã€Fedora å’Œ Archã€‚è¿™äº›è¯´æ˜ä¹Ÿé€‚ç”¨äºå¤§å¤šæ•° Ubuntuã€Debian å’Œ openSUSE å‘è¡Œç‰ˆï¼Œä½†åœ¨è¿™äº›æƒ…å†µä¸‹å¯èƒ½é¦–é€‰å…¶ä»–æ–¹æ³•ã€‚ ä½¿ç”¨Â timedatectlÂ è¾“å‡ºå¯ç”¨æ—¶åŒºåˆ—è¡¨ timedatectl list-timezones ä½¿ç”¨ç®­å¤´é”®ã€Â Page UpÂ å’ŒÂ Page DownÂ æµè§ˆåˆ—è¡¨ã€‚å¤åˆ¶æˆ–è®°ä¸‹æ‚¨æƒ³è¦çš„æ—¶åŒºï¼Œç„¶åæŒ‰ q é€€å‡ºåˆ—è¡¨ã€‚ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®æ—¶åŒºï¼Œå°† America/New_York æ›¿æ¢ä¸ºæ‚¨å–œæ¬¢çš„æ—¶åŒºã€‚ timedatectl set-timezone &amp;amp;#39;America/New_York&amp;amp;#39; Ubuntu, Debian å’Œ Kali Linux Ubuntu å’Œ Debian éƒ½å¸¦æœ‰ä¸€ä¸ªæ›´å‹å¥½çš„å·¥å…·ï¼Œç§°ä¸ºÂ tzdata æ‰“å¼€Â tzdataÂ å·¥å…· dpkg-reconfigure tzdata ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©æ‚¨é€‰æ‹©çš„å¤§é™†ï¼Œç„¶åæŒ‰ Enter ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©æ‚¨æ‰€åœ¨çš„åœ°åŒºï¼Œç„¶åæŒ‰ Enter æ£€æŸ¥æ—¶é—´ ä½¿ç”¨Â dateÂ å‘½ä»¤æ ¹æ®æ‚¨çš„æœåŠ¡å™¨æŸ¥çœ‹å½“å‰æ—¥æœŸå’Œæ—¶é—´ root@localhost:~# date Thu Feb 16 12:17:52 EST 2018 é…ç½®è‡ªå®šä¹‰ä¸»æœºå ä¸»æœºåç”¨äºä½¿ç”¨æ˜“äºè®°å¿†çš„åç§°æ¥æ ‡è¯†æ‚¨çš„è®¡ç®—å®ä¾‹ã€‚å®ƒå¯ä»¥æ˜¯æè¿°æ€§çš„å’Œç»“æ„åŒ–çš„ï¼ˆè¯¦ç»†è¯´æ˜ç³»ç»Ÿçš„ç”¨é€”ï¼‰æˆ–é€šç”¨è¯æˆ–çŸ­è¯­ã€‚ ç®€å•ç‚¹å°±æ˜¯é»˜è®¤æœ‰Â locahostå˜ä¸ºä½ è®¾ç½®çš„æ–°çš„web-appåå­—ï¼Œè¿˜å¯ç”¨ä½œç³»ç»Ÿçš„ FQDNï¼ˆå®Œå…¨é™å®šåŸŸåï¼‰çš„ä¸€éƒ¨åˆ†ã€‚ å¤§å¤šæ•°å‘è¡Œç‰ˆ å°†Â example-hostnameÂ æ›¿æ¢ä¸ºæ‚¨çš„é€‰æ‹©ä¹‹ä¸€ hostnamectl set-hostname example-hostname æ›´æ–°ç³»ç»Ÿçš„hostsæ–‡ä»¶ hostsÂ æ–‡ä»¶åœ¨ IP åœ°å€å’Œä¸»æœºåæˆ–åŸŸä¹‹é—´åˆ›å»ºé™æ€å…³è”ï¼Œç³»ç»Ÿä¼˜å…ˆè€ƒè™‘åœ¨ DNS ä¹‹å‰è¿›è¡Œåç§°è§£æ åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ Nanoï¼‰ä¸­æ‰“å¼€Â hostsÂ æ–‡ä»¶ nano /etc/hosts ä¸ºæ‚¨çš„è®¡ç®—å®ä¾‹çš„å…¬å…± IP åœ°å€æ·»åŠ ä¸€è¡Œã€‚æ‚¨å¯ä»¥å°†æ­¤åœ°å€ä¸å®ä¾‹çš„å®Œå…¨é™å®šåŸŸå (FQDN) ç›¸å…³è”ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¹¶ä¸æ‚¨åœ¨ä¸Šè¿°æ­¥éª¤ä¸­è®¾ç½®çš„æœ¬åœ°ä¸»æœºåç›¸å…³è”ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒÂ 203.0.113.10Â æ˜¯å…¬å…± IP åœ°å€ï¼ŒÂ example-hostnameÂ æ˜¯æœ¬åœ°ä¸»æœºåï¼ŒÂ example-hostname.</description>
      <content:encoded><![CDATA[<blockquote>
<p>âš ï¸ï¼šä½ å¿…é¡»å‡†å¤‡</p>
<p>åŸŸåï¼šå›½å†…å¯èƒ½éœ€è¦å¤‡æ¡ˆ</p>
<p>æœåŠ¡å™¨ï¼šLinux</p>
<p>â€¼ï¸â€¼ï¸â€¼ï¸æ–°ä¹°çš„æœåŠ¡å™¨ä¸€å®šè¦åšä¸€äº›å®‰å…¨çš„é˜²æŠ¤å…·ä½“å¯å‚è€ƒ<div style="height: 200px;margin: 1em auto;position: relative;
        box-shadow: 0 2px 4px rgb(0 0 0 / 25%), 0 0 2px rgb(0 0 0 / 25%);
        border-radius: 15px;padding: 23px;max-width: 780px;background: var(--entry);">
    
    
    <div style="font-size: 22px; font-weight: 600">
        <a target="_blank" href="https://blog.zsan.cf/posts/set-up-and-secure/" style="box-shadow: none">ä¿æŠ¤æ‚¨çš„æœåŠ¡å™¨</a>
    </div>
    <span style="font-size: 14px; color: #999">
        æ—¥æœŸ: 2023-06-04
        &nbsp;
        æ ‡ç­¾:
        
            #å®‰å…¨&nbsp;
        
            #æœåŠ¡å™¨&nbsp;
        
    </span>
    <div style="font-size: 14px; line-height: 1.825;max-height: 75px; overflow: hidden;margin-top: 5px;">
        æ‰§è¡Œç³»ç»Ÿæ›´æ–° ç»å¸¸æ›´æ–°æ‚¨çš„ç³»ç»Ÿæ˜¯æ‚¨å¯ä»¥å¯¹ä»»ä½•æ“ä½œç³»ç»Ÿé‡‡å–çš„æœ€å¤§çš„å®‰å…¨é¢„é˜²æªæ–½ã€‚è½¯ä»¶æ›´æ–°çš„èŒƒå›´ä»å…³é”®æ¼æ´è¡¥ä¸åˆ°å°é”™è¯¯ä¿®å¤ï¼Œè®¸å¤šè½¯ä»¶æ¼æ´åœ¨å…¬å¼€æ—¶å®é™…ä¸Šå·²ç»è¢«ä¿®è¡¥ã€‚æ›´æ–°è¿˜ä¸ºæ‚¨æä¾›äº†å¯ç”¨äºæ‚¨çš„åˆ†å‘çš„æœ€æ–°è½¯ä»¶ç‰ˆæœ¬ã€‚
Ubuntuã€Debian å’Œ Kali Linux apt update &amp;amp;&amp;amp; apt upgrade CentOS/RHEL Stream å’Œ Fedora åŒ…æ‹¬ CentOS Stream 8ï¼ˆåŠæ›´é«˜ç‰ˆæœ¬ï¼‰ã€CentOS 8ã€å…¶ä»– RHEL è¡ç”Ÿäº§å“ï¼ˆåŒ…æ‹¬ AlmaLinux 8 å’Œ Rocky Linux 8ï¼‰å’Œ Fedora
dnf upgrade è®¾ç½®æ—¶åŒº é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–°çš„è®¡ç®—å®ä¾‹éƒ½è®¾ç½®ä¸º UTC æ—¶é—´ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯èƒ½æ›´å–œæ¬¢ä½¿ç”¨æ‚¨å±…ä½çš„æ—¶åŒºï¼Œå› æ­¤æ—¥å¿—æ–‡ä»¶æ—¶é—´æˆ³æ˜¯ç›¸å¯¹äºæ‚¨å½“åœ°æ—¶é—´çš„ã€‚
å¤§å¤šæ•°å‘è¡Œç‰ˆ åŒ…æ‹¬ CentOS Stream 8ï¼ˆåŠæ›´æ–°ç‰ˆæœ¬ï¼‰ã€CentOS 7ï¼ˆåŠæ›´æ–°ç‰ˆæœ¬ï¼‰ã€å…¶ä»– RHEL è¡ç”Ÿäº§å“ï¼ˆåŒ…æ‹¬ AlmaLinux 8 å’Œ Rocky Linux 8ï¼‰ã€Fedora å’Œ Archã€‚è¿™äº›è¯´æ˜ä¹Ÿé€‚ç”¨äºå¤§å¤šæ•° Ubuntuã€Debian å’Œ openSUSE å‘è¡Œç‰ˆï¼Œä½†åœ¨è¿™äº›æƒ…å†µä¸‹å¯èƒ½é¦–é€‰å…¶ä»–æ–¹æ³•ã€‚
ä½¿ç”¨Â timedatectlÂ è¾“å‡ºå¯ç”¨æ—¶åŒºåˆ—è¡¨
timedatectl list-timezones ä½¿ç”¨ç®­å¤´é”®ã€Â Page UpÂ å’ŒÂ Page DownÂ æµè§ˆåˆ—è¡¨ã€‚å¤åˆ¶æˆ–è®°ä¸‹æ‚¨æƒ³è¦çš„æ—¶åŒºï¼Œç„¶åæŒ‰ q é€€å‡ºåˆ—è¡¨ã€‚
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®æ—¶åŒºï¼Œå°† America/New_York æ›¿æ¢ä¸ºæ‚¨å–œæ¬¢çš„æ—¶åŒºã€‚
timedatectl set-timezone &amp;#39;America/New_York&amp;#39; Ubuntu, Debian å’Œ Kali Linux Ubuntu å’Œ Debian éƒ½å¸¦æœ‰ä¸€ä¸ªæ›´å‹å¥½çš„å·¥å…·ï¼Œç§°ä¸ºÂ tzdata
æ‰“å¼€Â tzdataÂ å·¥å…·
dpkg-reconfigure tzdata ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©æ‚¨é€‰æ‹©çš„å¤§é™†ï¼Œç„¶åæŒ‰ Enter
ä½¿ç”¨ç®­å¤´é”®é€‰æ‹©æ‚¨æ‰€åœ¨çš„åœ°åŒºï¼Œç„¶åæŒ‰ Enter
æ£€æŸ¥æ—¶é—´ ä½¿ç”¨Â dateÂ å‘½ä»¤æ ¹æ®æ‚¨çš„æœåŠ¡å™¨æŸ¥çœ‹å½“å‰æ—¥æœŸå’Œæ—¶é—´
root@localhost:~# date Thu Feb 16 12:17:52 EST 2018 é…ç½®è‡ªå®šä¹‰ä¸»æœºå ä¸»æœºåç”¨äºä½¿ç”¨æ˜“äºè®°å¿†çš„åç§°æ¥æ ‡è¯†æ‚¨çš„è®¡ç®—å®ä¾‹ã€‚å®ƒå¯ä»¥æ˜¯æè¿°æ€§çš„å’Œç»“æ„åŒ–çš„ï¼ˆè¯¦ç»†è¯´æ˜ç³»ç»Ÿçš„ç”¨é€”ï¼‰æˆ–é€šç”¨è¯æˆ–çŸ­è¯­ã€‚
ç®€å•ç‚¹å°±æ˜¯é»˜è®¤æœ‰Â locahostå˜ä¸ºä½ è®¾ç½®çš„æ–°çš„web-appåå­—ï¼Œè¿˜å¯ç”¨ä½œç³»ç»Ÿçš„ FQDNï¼ˆå®Œå…¨é™å®šåŸŸåï¼‰çš„ä¸€éƒ¨åˆ†ã€‚
å¤§å¤šæ•°å‘è¡Œç‰ˆ å°†Â example-hostnameÂ æ›¿æ¢ä¸ºæ‚¨çš„é€‰æ‹©ä¹‹ä¸€
hostnamectl set-hostname example-hostname æ›´æ–°ç³»ç»Ÿçš„hostsæ–‡ä»¶ hostsÂ æ–‡ä»¶åœ¨ IP åœ°å€å’Œä¸»æœºåæˆ–åŸŸä¹‹é—´åˆ›å»ºé™æ€å…³è”ï¼Œç³»ç»Ÿä¼˜å…ˆè€ƒè™‘åœ¨ DNS ä¹‹å‰è¿›è¡Œåç§°è§£æ
åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ Nanoï¼‰ä¸­æ‰“å¼€Â hostsÂ æ–‡ä»¶
nano /etc/hosts ä¸ºæ‚¨çš„è®¡ç®—å®ä¾‹çš„å…¬å…± IP åœ°å€æ·»åŠ ä¸€è¡Œã€‚æ‚¨å¯ä»¥å°†æ­¤åœ°å€ä¸å®ä¾‹çš„å®Œå…¨é™å®šåŸŸå (FQDN) ç›¸å…³è”ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå¹¶ä¸æ‚¨åœ¨ä¸Šè¿°æ­¥éª¤ä¸­è®¾ç½®çš„æœ¬åœ°ä¸»æœºåç›¸å…³è”ã€‚åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼ŒÂ 203.0.113.10Â æ˜¯å…¬å…± IP åœ°å€ï¼ŒÂ example-hostnameÂ æ˜¯æœ¬åœ°ä¸»æœºåï¼ŒÂ example-hostname.example.comÂ æ˜¯ FQDN
127.0.0.1 localhost.localdomain localhost 203.0.113.10 example-hostname.example.com example-hostname ä¸ºæ‚¨çš„è®¡ç®—å®ä¾‹çš„ IPv6 åœ°å€æ·»åŠ ä¸€è¡Œã€‚å¦‚æœæ²¡æœ‰æ­¤æ¡ç›®ï¼Œéœ€è¦ IPv6 çš„åº”ç”¨ç¨‹åºå°†æ— æ³•è¿è¡Œ ......
    </div>
    
    
</div></p>
</blockquote>
<h2 id="çœæµç‰ˆ">çœæµç‰ˆ</h2>
<h3 id="dockerä¸€æŠŠè¿‡">dockerä¸€æŠŠè¿‡</h3>
<p>1ã€é¦–å…ˆæ–°å»ºæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚<code>fireflyiii</code></p>
<p><code>cd fireflyiii</code>ï¼Œåˆ›å»º<code>docker-compose.yml</code></p>
<p>æ‹·è´ä¸‹é¢,æŠŠ<code>{{}}</code>å†…çš„æ”¹ä¸ºè‡ªå·±çš„ï¼Œä¸è¦<code>{{}}</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.3&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nginx-proxy</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">nginxproxy/nginx-proxy</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">nginx-proxy</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;80:80&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;443:443&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/var/run/docker.sock:/tmp/docker.sock:ro</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./certs:/etc/nginx/certs:ro</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./vhost:/etc/nginx/vhost.d</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./html:/usr/share/nginx/html</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nginx-proxy-acme</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">nginxproxy/acme-companion</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">nginx-proxy-acme</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/var/run/docker.sock:/var/run/docker.sock:ro</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./acme:/etc/acme.sh</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./certs:/etc/nginx/certs</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./vhost:/etc/nginx/vhost.d</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./html:/usr/share/nginx/html</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è­¦å‘Šæ¥æ”¶emailåœ°å€</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">DEFAULT_EMAIL={{acme@fireflyiii.com}}</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">NGINX_PROXY_CONTAINER=nginx-proxy</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">nginx-proxy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">app</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">fireflyiii/core:latest</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">firefly_app</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./firefly_iii_upload:/var/www/html/storage/upload</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">env_file</span>: <span style="color:#ae81ff">.env</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">db</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">expose</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;8080&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿™é‡Œè¦æ”¹ä¸ºè‡ªå·±çš„åŸŸå</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">VIRTUAL_HOST={{fireflyiii.com}}</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">VIRTUAL_PORT=8080</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">LETSENCRYPT_HOST={{fireflyiii.com}}</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">LETSENCRYPT_EMAIL={{acme@fireflyiii.com}}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">db</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># docker 20.10.10 ä»¥ä¸Šä½¿ç”¨æœ€æ–°</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">mariadb:latest </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># image: mariadb:10.7.8-focal</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">firefly_db</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">hostname</span>: <span style="color:#ae81ff">fireflyiiidb</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å’Œä¸‹é¢.env é…ç½®æ–‡ä»¶å†…ä¸€è‡´</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MYSQL_RANDOM_ROOT_PASSWORD=yes</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MYSQL_USER=firefly</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MYSQL_PASSWORD={{.envå†…çš„}}</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">MYSQL_DATABASE=firefly</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./firefly_iii_db:/var/lib/mysql</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">cron</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">alpine</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">firefly_cron</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ä½¿ç”¨ç™»å½•ä¹‹åçš„é€‰é¡¹--å‘½ä»¤è¡Œä»¤ç‰Œçš„</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>: <span style="color:#ae81ff">sh -c &#34;echo \&#34;0 3 * * * wget -qO- http://app:8080/api/v1/cron/{{ç™»å½•ä¹‹åçš„é€‰é¡¹--å‘½ä»¤è¡Œä»¤ç‰Œè·å–}}\&#34; | crontab - &amp;&amp; crond -f -L /dev/stdout&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">redis</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">redis:6.0.9</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">redis</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>: 
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./redis/data:/data</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./redis/logs:/var/log/redis</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./redis/conf/redis.conf:/etc/redis/redis.conf</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/etc/localtime:/etc/localtime:ro</span> <span style="color:#75715e"># è®¾ç½®å®¹å™¨æ—¶åŒºä¸å®¿ä¸»æœºä¿æŒä¸€è‡´</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">TZ=Asia/Shanghai</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">LANG=en_US.UTF-8</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">redis-server /etc/redis/redis.conf</span> <span style="color:#75715e"># å¯åŠ¨rediså‘½ä»¤</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">firefly_iii_upload</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">firefly_iii_db</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">certs</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">vhost</span>:
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">html</span>:
</span></span></code></pre></div><p>2ã€ä¿®æ”¹é…ç½®æ–‡ä»¶</p>
<h4 id="fireflyiiié…ç½®æ–‡ä»¶">fireflyiiié…ç½®æ–‡ä»¶</h4>
<p>ä¸‹è½½<code>wget https://raw.githubusercontent.com/firefly-iii/firefly-iii/v6.0.11/.env.example</code></p>
<p><code>cp .env.example .env</code></p>
<p>æ ¹æ®è‡ªå·±éœ€è¦è‡ªè¡Œä¿®æ”¹å³å¯ï¼Œç®€å•è¯´ä¸‹é…ç½®redis</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span># If you&#39;re looking for performance improvements, you could install memcached or redis
</span></span><span style="display:flex;"><span>CACHE_DRIVER=redis
</span></span><span style="display:flex;"><span>SESSION_DRIVER=redis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># If you set either of the options above to &#39;redis&#39;, you might want to update these settings too
</span></span><span style="display:flex;"><span># If you use Docker or similar, you can set REDIS_HOST_FILE, REDIS_PASSWORD_FILE or
</span></span><span style="display:flex;"><span># REDIS_PORT_FILE to set the value from a file instead of from an environment variable
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># can be tcp, unix or http
</span></span><span style="display:flex;"><span>REDIS_SCHEME=tcp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># use only when using &#39;unix&#39; for REDIS_SCHEME. Leave empty otherwise.
</span></span><span style="display:flex;"><span>REDIS_PATH=
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># use only when using &#39;tcp&#39; or &#39;http&#39; for REDIS_SCHEME. Leave empty otherwise.
</span></span><span style="display:flex;"><span>REDIS_HOST=redis
</span></span><span style="display:flex;"><span>REDIS_PORT=6379
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># Use only with Redis 6+ with proper ACL set. Leave empty otherwise.
</span></span><span style="display:flex;"><span>REDIS_USERNAME=
</span></span><span style="display:flex;"><span>REDIS_PASSWORD=
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># always use quotes and make sure redis db &#34;0&#34; and &#34;1&#34; exists. Otherwise change accordingly.
</span></span><span style="display:flex;"><span>REDIS_DB=&#34;0&#34;
</span></span><span style="display:flex;"><span>REDIS_CACHE_DB=&#34;1&#34;
</span></span></code></pre></div><h4 id="redis-é…ç½®æ–‡ä»¶">redis é…ç½®æ–‡ä»¶</h4>
<p>ä¸‹è½½<code>wget https://raw.githubusercontent.com/redis/redis/unstable/redis.conf</code></p>
<p>æ ¹æ®è‡ªå·±éœ€è¦è‡ªè¡Œä¿®æ”¹å³å¯</p>
<p>æœ€å<code>docker-compose up -d</code>å¯åŠ¨</p>
<p><code>docker-compose logs -f --tail=500</code> æŸ¥çœ‹æ—¥å¿—</p>
<p>ç°åœ¨fireflyiiiå·²æˆåŠŸå¯åŠ¨äº†ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°å¾ˆå¤šé”™è¯¯ï¼Œå…»æˆçœ‹æ—¥å¿—çš„ä¹ æƒ¯ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä½¿ç”¨äº†ï¼Œä¸éš¾ğŸ˜
<div style="height: 200px;margin: 1em auto;position: relative;
        box-shadow: 0 2px 4px rgb(0 0 0 / 25%), 0 0 2px rgb(0 0 0 / 25%);
        border-radius: 15px;padding: 23px;max-width: 780px;background: var(--entry);">
    
    
    <div style="font-size: 22px; font-weight: 600">
        <a target="_blank" href="https://blog.zsan.cf/posts/personalfinance/" style="box-shadow: none">Firefly Iiiä½¿ç”¨</a>
    </div>
    <span style="font-size: 14px; color: #999">
        æ—¥æœŸ: 2023-05-28
        &nbsp;
        æ ‡ç­¾:
        
            #ç†è´¢&nbsp;
        
            #é¢„ç®—&nbsp;
        
            #å­˜é’±&nbsp;
        
            #ä¹°è½¦&nbsp;
        
            #ç”Ÿæ´»&nbsp;
        
    </span>
    <div style="font-size: 14px; line-height: 1.825;max-height: 75px; overflow: hidden;margin-top: 5px;">
        ä¸ºä½•è¦ç”¨Firefly Iii ç®€ä»‹åŠç‰¹ç‚¹
Login to Firefly III Demo
å®‰å…¨
è´¦æœ¬çš„å®‰å…¨ï¼Œä¸è¨€è€Œå–»äº†ï¼Œå®ƒæ˜¯è‡ªæ‰˜ç®¡å’Œéš”ç¦»çš„ï¼Œæ„å‘³ç€æ•°æ®å®Œå…¨æŒæ¡åœ¨è‡ªå·±æ‰‹é‡Œ
å¤å¼è®°è´¦
é¢„ç®—ã€å­˜é’±
è‡ªåŠ¨åŒ–ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–è®¾ç½®ä¸€äº›æ“ä½œ
å„ç«¯ä½“éªŒ PCç«¯ï¼šwebé¡µé¢è®¿é—®ï¼Œé€‚åˆPCæµè§ˆå™¨ä¸ŠæŸ¥çœ‹ï¼Œç‰¹åˆ«æ˜¯æŠ¥è¡¨ï¼Œå¾ˆé€‚åˆå¤§å±è§‚çœ‹
ç§»åŠ¨ç«¯ï¼šæ²¡æœ‰å•ç‹¬çš„Appï¼Œä½†æ˜¯æ”¯æŒPWAï¼Œæ¨èç”¨chromeæ‰“å¼€ï¼Œç„¶åæ·»åŠ åˆ°æ¡Œé¢å°±è¡Œäº†ï¼Œå’ŒAppæ— å¼‚
è¯´ç‚¹é¢˜å¤–çš„ï¼Œå½“å¹´PWAå‡ºæ¥çš„æ—¶å€™Safariæ˜¯æ”¯æŒçš„ï¼Œåæ¥æ”¯æŒçš„åŠŸèƒ½å°±å°‘äº†ï¼Œæ˜¯å› ä¸ºè‡ªå·±çš„App Storeå‡ºæ¥äº†ã€‚ä½†æ˜¯æœ€è¿‘è²Œä¼¼å¯¹PWAçš„æ”¯æŒå‹å¥½äº†ğŸ˜‚
ä¸æ‰¯å¤ªè¿œäº†ï¼Œæ€»ä¹‹åªè¦æ”¯æŒPWAï¼ŒåŸºæœ¬ä¸Šå’ŒAppæ— å¼‚ï¼Œå¯¹Appæœ‰æ‰§å¿µçš„ï¼Œå¯ä»¥åšä¸ªå®¢æˆ·ç«¯ï¼Œå®˜æ–¹APIéƒ½æ˜¯å¼€æ”¾çš„
ç™»å½• åœ¨fireflyé…ç½®æ–‡ä»¶envå†…æœç´¢SITE_OWNER
è¿™ä¸ªå€¼å°±æ˜¯é…ç½®çš„ç®¡ç†å‘˜é‚®ç®±
å»ºè®®ä½¿ç”¨å’ŒåŸŸåç›¸åŒçš„é‚®ç®±ç™»å½•ï¼Œå¦‚æœæ— é…ç½®é‚®ç®±æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œçš„é‚®ç®±æ¨é€æœåŠ¡ï¼Œç›®å‰æœ‰å…è´¹é¢åº¦å¯ä»¥ç”¨
å®‰å…¨è®¾ç½® ä¸¤æ­¥éªŒè¯ æ‰“å¼€fireflyç‚¹å‡»é€‰é¡¹ ä¸ªäººæ¡£æ¡ˆ ä¸¤æ­¥éªŒè¯ç‚¹å‡»å¯ç”¨
æ‰‹æœºä¸‹è½½Google Authenticatorï¼Œåˆ‡è®°ä¸è¦ç™»å½•Googleè´¦å·ï¼Œä¼šä¸Šä¼ åˆ°äº‘ä¸Šå»
å¯ç”¨ä¹‹åï¼Œé‡æ–°ç™»å½•
é€‰é¡¹è®¾ç½® è´§å¸ é»˜è®¤æ˜¯æ¬§å…ƒï¼Œå¯åˆ‡æ¢åˆ°äººæ°‘å¸Chinese yuan (RMB) (Â¥)ï¼Œå¦‚æœæœ‰å…¶ä»–è´§å¸ä¹Ÿå¯è‡ªè¡Œåˆ‡æ¢
ç®¡ç† åŒ…æ‹¬æ£€æŸ¥æ›´æ–°ï¼Œé‚®ç®±æµ‹è¯•ç­‰
åˆå§‹åŒ–è®¾ç½® è´¦æˆ· åˆ†ç±» æ ‡ç­¾ é«˜çº§è®¾ç½® é¢„ç®—ğŸ‘ åˆ¶å®šé¢„ç®—å°†å¸®åŠ©æ‚¨æ›´æœ‰æ•ˆåœ°åˆ†é…èµ„é‡‘å¹¶æ›´è½»æ¾åœ°å®ç°è´¢åŠ¡ç›®æ ‡
é¢„ç®—è¿™ä¸ªåŠŸèƒ½è¶…çº§å¥½ç”¨
é¦–å…ˆï¼Œç‚¹å‡»å·¦ä¾§é¢„ç®—ï¼Œåˆ›å»ºæ–°é¢„ç®—
å³ä¾§é€‰å¡«å­—æ®µå†…
è‡ªåŠ¨é¢„ç®— é€‰æ‹©æœ€åä¸€ä¸ªAdjusted (&amp;quot;... and correct for overspending&amp;quot;)
ä¸¾ğŸŒ°
æ¯ä¸ªæœˆé¢„ç®—éƒ½æ˜¯5000
1æœˆé¢„ç®—5000ï¼Œåˆ°æœˆåº•èŠ±äº†8000ï¼Œè¶…é¢„ç®—3000
2æœˆé¢„ç®—å°±å˜ä¸º2000ï¼Œåˆ°æœˆåº•èŠ±äº†1000
3æœˆé¢„ç®—å°±å˜ä¸º6000
è¿™ä¸ªåŠŸèƒ½ä¸€ç›´åœ¨æ‰¾ï¼Œæ˜¯å› ä¸ºæŸè´¢ç»å¤§ä½¬æ›¾è¯´è¿‡
ç„¶åï¼Œå½“ä½ ç‚¹å¼€â€œæœ¬æœˆæ”¯å‡ºå»ºè®®â€è¡¨æ ¼æ—¶ï¼Œ
â€œæ ¹æ®æ‚¨è¿‡å»åäºŒä¸ªæœˆçš„æ”¯å‡ºä»¥åŠç†è´¢ç›®æ ‡ã€æ”¶å…¥æƒ…å†µç»¼åˆåˆ†æï¼Œå»ºè®®æ‚¨æœ¬æœˆé£Ÿç‰©æ”¯å‡ºä¸è¦è¶…è¿‡å…ƒï¼Œä¼‘é—²å¨±ä¹æ”¯å‡ºä¸è¦è¶…è¿‡å…ƒâ€¦â€¦ç¥æ‚¨æ—©æ—¥è¾¾æˆç†è´¢ç›®æ ‡ã€‚â€
ä¸‹ä¸ªæœˆï¼š
â€œæ‚¨ä¸Šä¸ªæœˆéå¸¸èŠ‚ä¿­ï¼Œæ¯”é¢„è®¡å¤šå‰©ä½™äº†2000å…ƒã€‚ä¸å¦¨æ‹¿å‡º500å…ƒä¹°ç‚¹å–œæ¬¢çš„ä¸œè¥¿å¥–åŠ±è‡ªå·±ï¼â€
å½“ç„¶è‡ªå·±å¼€å‘ä¸€ä¸ªè¿™ä¸ªè½¯ä»¶è€—æ—¶è€—åŠ›ï¼Œæ‰€ä»¥å½“æ—¶å°±åœ¨æ‰¾ç±»ä¼¼å¼€æºè½¯ä»¶ï¼Œæ‰¯çš„æœ‰ç‚¹è¿œäº†ğŸ˜‚ğŸ˜‚ğŸ˜„
é¢„ç®—å¦‚ä½•åˆ†é…ï¼Ÿ 50/30/20 é¢„ç®—æ³•åˆ™
50/30/20 é¢„ç®—æ³•åˆ™æ˜¯ä¸€ç§ç®€å•çš„é¢„ç®—ç­–ç•¥ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ä¼˜å…ˆè€ƒè™‘è´¢åŠ¡ç›®æ ‡ï¼š
50% ç”¨äºå¿…éœ€å“ï¼šå°†æ”¶å…¥çš„ 50% ç”¨äºæ”¯ä»˜åŸºæœ¬ç”Ÿæ´»è´¹ç”¨ï¼Œå¦‚ä½æˆ¿ã€æ°´ç”µè´¹ã€æ—¥å¸¸é£Ÿå“è´­ä¹°å’Œäº¤é€šè´¹ã€‚
30% ç”¨äºæ„¿æœ›ï¼šå°†æ”¶å…¥çš„ 30% ç”¨äºè‡ªç”±æ”¯é…èŠ±è´¹å’Œéå¿…éœ€å¼€é”€ï¼Œå¦‚å¤–å‡ºå°±é¤ã€å¨±ä¹ã€çˆ±å¥½å’Œè´­ç‰©ã€‚
20% ç”¨äºå‚¨è“„å’Œå€ºåŠ¡å¿è¿˜ï¼šå°†æ”¶å…¥çš„ 20% ç”¨äºå‚¨è“„ã€æŠ•èµ„å’Œå¿è¿˜å€ºåŠ¡ã€‚
è¿™ä¸ªä½“ç³»çš„ç›®çš„æ˜¯ç¡®ä¿æ‚¨çš„åŸºæœ¬éœ€æ±‚å¾—åˆ°æ»¡è¶³ï¼Œæœ‰ä¸€å®šçš„è‡ªç”±æ”¯é…è´¹ç”¨ç©ºé—´ï¼Œå¹¶ä¼˜å…ˆä¸ºæœªæ¥å‚¨è“„å’Œç®¡ç†å€ºåŠ¡ã€‚
è¿™äº›ç™¾åˆ†æ¯”å¹¶éä¸€æˆä¸å˜ã€‚å¦‚æœèµ„é‡‘ç´§å¼ ï¼Œæ‚¨å¯èƒ½éœ€è¦å°†æ”¶å…¥çš„æ›´é«˜æ¯”ä¾‹ç”¨äºæ”¯ä»˜å¿…éœ€å“ã€‚å¦‚æœæ‚¨çš„å€ºåŠ¡å¾ˆå¤§ï¼Œæ‚¨å¯ä»¥é€‰æ‹©åˆ†é…è¶…è¿‡ 20% çš„æ”¶å…¥ç”¨äºå€ºåŠ¡å¿è¿˜ï¼Œä»¥åŠ å¿«è¿›åº¦ã€‚åŒæ ·ï¼Œå¦‚æœæ‚¨çš„å‚¨è“„ç›®æ ‡é›„å¿ƒå‹ƒå‹ƒï¼Œå¯ä»¥å°†æ›´é«˜çš„æ¯”ä¾‹åˆ†é…ç»™å‚¨è“„ã€‚
è´­ä¹°æ±½è½¦çš„é¢„ç®— ä¸€æ¡ç»éªŒæ³•åˆ™æ˜¯ï¼Œæ‚¨è½¦è¾†çš„æ€»ä»·å€¼ä¸åº”è¶…è¿‡æ‚¨å¹´æ”¶å…¥çš„50%
å¦ä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ 20/4/10 è§„åˆ™ï¼š
è‡³å°‘æ”¯ä»˜ 20% çš„é¦–ä»˜æ¬¾ã€‚
æ°¸è¿œä¸è¦è·å¾—è¶…è¿‡ 4 å¹´çš„è´·æ¬¾ã€‚
æ‚¨æ€»æ”¶å…¥çš„ 10% æˆ–æ›´å°‘ç”¨äºæ‰€æœ‰è½¦è¾†æ”¯å‡ºï¼ŒåŒ…æ‹¬è´·æ¬¾æ”¯ä»˜ã€ä¿é™©ã€æ±½æ²¹ã€ç™»è®°è´¹ã€ç»´æŠ¤å’Œä¿®ç†ã€‚
å¦å¤–ä¸€ä¸ªæ³•åˆ™ï¼š
å¹´æ”¶å…¥ä¹°è½¦
æœˆæ”¶å…¥ä¹°è¡¨
å¦‚æœæ‚¨çš„é¢„ç®—ç¬¦åˆä»¥ä¸‹ä»»ä¸€æƒ…å†µï¼Œæ‚¨åº”è¯¥è€ƒè™‘æ”¹å˜æ‚¨çš„ç”Ÿæ´»æ–¹å¼ï¼š
æ‚¨æ¯æœˆçš„æŠµæŠ¼è´·æ¬¾/ç§Ÿé‡‘è¶…è¿‡æ‚¨å®å¾—å·¥èµ„çš„ 30%ã€‚ä½ å¯èƒ½æƒ³è€ƒè™‘æ‰¾ä¸ªå®¤å‹ï¼Œæˆ–è€…æ¬åˆ°æ›´ä¾¿å®œçš„åœ°æ–¹ã€‚
æ‚¨æ¯æœˆåœ¨è½¦è¾†ä¸Šçš„æ€»æ”¯å‡ºè¶…è¿‡æ‚¨å®å¾—å·¥èµ„çš„ 15%ã€‚æ‚¨å¯èƒ½éœ€è¦è€ƒè™‘æ‹¼è½¦ä¸Šç­ã€å‡å°‘å‡ºè¡Œæ¬¡æ•°ï¼Œæˆ–è€…ä¹˜åå…¬å…±æ±½è½¦æˆ–è‡ªè¡Œè½¦ã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œæ‚¨å¯èƒ½è¿˜æƒ³è€ƒè™‘æ¬åˆ°æ›´è¿‘çš„åœ°æ–¹æˆ–å–æ‰æ‚¨çš„æ±½è½¦ã€‚æ¯æœˆé¢„ç®—çš„ 10% æ˜¯ä¸€ä¸ªæ›´å¥åº·çš„æ±½è½¦æ”¯å‡ºæ•°å­—ã€‚
æœ¬æ°æ˜Â·å¯Œå…°å…‹æ—æ›¾è¯´ï¼šâ€œçœä¸‹ä¸€åˆ†é’±å°±ç­‰äºèµšäº†ä¸€åˆ†é’±ã€‚â€å¦‚æœè¿™å¥è¯æ˜¯çœŸçš„ï¼Œé‚£ä¹ˆå‰Šå‡é¢„ç®—å°±ç›¸å½“äºæé«˜äº†ä½ çš„æ”¶å…¥ã€‚
å¸¸è¢«æåŠçš„å‡å°‘å¼€æ”¯çš„æ–¹æ³•æœ‰ï¼šå‰Šå‡æœ‰çº¿ç”µè§†ã€å°†æ‰‹æœºå¥—é¤è°ƒæ•´åˆ°å®é™…ä½¿ç”¨çš„é€šè¯/æ•°æ®é‡ã€åœ¨å®¶çƒ¹é¥ª/å¸¦é£Ÿç‰©å»å·¥ä½œã€é‡æ–°è¯„ä¼°è´·æ¬¾ã€æ‰”æ‰ä¼˜æƒ åˆ¸ã€ä¸‹å•å‰å…ˆæ‰¾æ‰¾ä¼˜æƒ åˆ¸ã€å–æ¶ˆåœ¨çº¿è´­ç‰©ç½‘ç«™çš„ä¿¡ç”¨å¡å…³è”ã€å‡å°‘ä¿¡ç”¨å¡ä½¿ç”¨å¹¶æ”¹ç”¨ç°é‡‘ã€ä¸ç”¨æ—¶å…³é—­ç¯å…‰ã€ä¸åœ¨å®¶æˆ–ç¡è§‰æ—¶é™ä½æš–æ°”/ç©ºè°ƒç­‰ã€‚
è´¦å• å­˜é’±ç½ğŸ‘ è¿™ä¸ªåŠŸèƒ½æœ‰åŠ©äºå¸®åŠ©æ‚¨å®ç°æ‚¨çš„è´¢åŠ¡ç›®æ ‡
åº”æ€¥èµ„é‡‘ï¼ˆfuck moneyï¼‰ å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œ3 åˆ° 6 ä¸ªæœˆçš„å¼€æ”¯å°±è¶³å¤Ÿäº†ã€‚å¦‚æœæ‚¨çš„æ”¶å…¥ä¸ç¨³å®šæˆ–ä¸ç¡®å®šï¼Œå¯èƒ½éœ€è¦æ›´å¤§çš„åº”æ€¥åŸºé‡‘ï¼ˆä¾‹å¦‚ 9 åˆ° 12 ä¸ªæœˆï¼‰
ä¸€èˆ¬æ”¾é“¶è¡Œå­˜æ¬¾æˆ–è´§å¸åŸºé‡‘å†…r1r2å³å¯
è¶…é•¿æœŸå…»è€ ä»¥åå…»è€è¦é è‡ªå·±äº†ï¼Œæ¯æœˆæ‹¿å‡ºæ”¶å…¥çš„10%æˆ–20%æ”¾åˆ°é•¿æœŸè´¦æˆ·å†…ï¼Œä¸ºä»¥åé€€ä¼‘åšå‡†å¤‡
è‡ªåŠ¨åŒ– å‚è€ƒ Managing your finances - Firefly III documentation
budgeting
commontopics
commontopics
emergencyfunds
early_career
organizing ......
    </div>
    
    
</div>
æµè§ˆå™¨è¾“å…¥åŸŸåè®¿é—®å³å¯ï¼Œè‹±æ–‡ä¸å¥½ï¼Œç‚¹å‡»<code>é€‰é¡¹-åå¥½è®¾å®š</code>ä¿®æ”¹è¯­è¨€ä¸ºä¸­æ–‡</p>
<h2 id="è¯¦ç»†ç‰ˆ">è¯¦ç»†ç‰ˆ</h2>
<p>ç©ºäº†å†å†™å§ï¼ğŸ¤£</p>
<h2 id="å¤‡ä»½">å¤‡ä»½</h2>
<p>è´¢åŠ¡æ•°æ®ç‰¹åˆ«é‡è¦ï¼Œæ‰€ä»¥ä¸€å®šè¦å¤‡ä»½</p>
<h3 id="ä¸‹è½½sh">ä¸‹è½½sh</h3>
<p><a href="https://gist.github.com/dawid-czarnecki/8fa3420531f88b2b2631250854e23381#file-firefly-iii-backuper-sh">Script to backup Firefly III database, uploads and config files installed with docker-compose Â· GitHub</a></p>
<!-- <!DOCTYPE HTML>
<html lang="en">

<head>
    <style type="text/css">
        .github {
            border: 1px solid var(--color-contrast-low);
            border-radius: 3px;
            margin: 0 auto;
            margin-bottom: 1em;
            padding: 1em;
        }

        .github .github-icon {
            width: 1.2em;
            height: 1.2em;
            margin-right: 0.5em;
            margin-bottom: 0.2em;
            fill: var(--color-contrast-high);
            transition: all 0.5s;
        }

        .github .name {
            font-weight: bold;
            color: var(--color-primary);
            text-decoration: none;
        }

        .github .description {
            margin-top: 0.5em;
            margin-bottom: 1em;
            color: var(--color-contrast-high);
            text-align: justify;
            font-size: 90%;
            transition: all 0.5s;
        }

        .github .language-color {
            position: relative;
            top: 1px;
            display: inline-block;
            width: 0.75em;
            height: 0.75em;
            border-radius: 50%;
        }

        .github .language-name {
            color: var(--color-contrast-high);
            font-size: 90%;
            margin-left: 0.5em;
            transition: all 0.5s;
        }
    </style>
    <title></title>
</head>

<body>
    <div class="github">
        <div class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M2 2.5C2 1.83696 2.26339 1.20107 2.73223 0.732233C3.20108 0.263392 3.83696 0 4.5 0L13.25 0C13.4489 0 13.6397 0.0790176 13.7803 0.21967C13.921 0.360322 14 0.551088 14 0.75V13.25C14 13.4489 13.921 13.6397 13.7803 13.7803C13.6397 13.921 13.4489 14 13.25 14H10.75C10.5511 14 10.3603 13.921 10.2197 13.7803C10.079 13.6397 10 13.4489 10 13.25C10 13.0511 10.079 12.8603 10.2197 12.7197C10.3603 12.579 10.5511 12.5 10.75 12.5H12.5V10.5H4.5C4.30308 10.5 4.11056 10.5582 3.94657 10.6672C3.78257 10.7762 3.65442 10.9312 3.57816 11.1128C3.50191 11.2943 3.48096 11.4943 3.51793 11.6878C3.5549 11.8812 3.64816 12.0594 3.786 12.2C3.92524 12.3422 4.0023 12.5338 4.00024 12.7328C3.99818 12.9318 3.91716 13.1218 3.775 13.261C3.63285 13.4002 3.4412 13.4773 3.24222 13.4752C3.04325 13.4732 2.85324 13.3922 2.714 13.25C2.25571 12.7829 1.99929 12.1544 2 11.5V2.5ZM12.5 1.5V9H4.5C4.144 9 3.806 9.074 3.5 9.208V2.5C3.5 2.23478 3.60536 1.98043 3.79289 1.79289C3.98043 1.60536 4.23478 1.5 4.5 1.5H12.5ZM5 12.25V15.5C5 15.5464 5.01293 15.5919 5.03734 15.6314C5.06175 15.6709 5.09667 15.7028 5.1382 15.7236C5.17972 15.7444 5.22621 15.7532 5.27245 15.749C5.31869 15.7448 5.36286 15.7279 5.4 15.7L6.85 14.613C6.89328 14.5805 6.94591 14.563 7 14.563C7.05409 14.563 7.10673 14.5805 7.15 14.613L8.6 15.7C8.63714 15.7279 8.68131 15.7448 8.72755 15.749C8.77379 15.7532 8.82028 15.7444 8.8618 15.7236C8.90333 15.7028 8.93826 15.6709 8.96266 15.6314C8.98707 15.5919 9 15.5464 9 15.5V12.25C9 12.1837 8.97366 12.1201 8.92678 12.0732C8.87989 12.0263 8.81631 12 8.75 12H5.25C5.1837 12 5.12011 12.0263 5.07322 12.0732C5.02634 12.1201 5 12.1837 5 12.25Z"/></svg>

            
            <a class="name" href=https://gist.github.com/dawid-czarnecki/8fa3420531f88b2b2631250854e23381#file-firefly-iii-backuper-sh target="_blank">file-firefly-iii-backuper-sh</a>
        </div>
        <div class="description">Script to backup Firefly III database, uploads and config files installed with docker-compose Â· GitHub</div> 
        <div class="language">
            <span class="language-color" style="background-color: #e16737"></span>
            <span class="language-name">Shell</span>
        </div>
    </div>

    
    
    
</body>

</html>
 -->
<p>è¿™ä¸ªshell æ ¹æ®å‘½ä»¤æ‰§è¡Œå³å¯å¤‡ä»½</p>
<h3 id="æ·»åŠ ä¸ºå®šæ—¶ä»»åŠ¡">æ·»åŠ ä¸ºå®šæ—¶ä»»åŠ¡</h3>
<p>æ–°å»ºbackup.sh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æœ¬åœ°å¤‡ä»½</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;å¼€å§‹å¤‡ä»½&#34;</span>
</span></span><span style="display:flex;"><span>bash /path/to/fireflyiii/firefly-iii-backuper.sh backup /path/to/fireflyiii/backup/firefly-<span style="color:#66d9ef">$(</span>date <span style="color:#e6db74">&#39;+%F&#39;</span><span style="color:#66d9ef">)</span>.tar
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;å¤‡ä»½å®Œæˆ&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å¤‡ä»½åˆ°tgç¾¤é‡Œ,ä¸è¦åˆ æ‰å³å¯</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Define variables</span>
</span></span><span style="display:flex;"><span>token<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>chat_id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>message_thread_id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>file_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/path/to/fireflyiii/backup/firefly-</span><span style="color:#66d9ef">$(</span>date <span style="color:#e6db74">&#39;+%F&#39;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">.tar&#34;</span>
</span></span><span style="display:flex;"><span>text<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;å¤‡ä»½æˆåŠŸ&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Send file to telegram</span>
</span></span><span style="display:flex;"><span>curl -F chat_id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$chat_id<span style="color:#e6db74">&#34;</span> -F message_thread_id<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span>$message_thread_id<span style="color:#e6db74">&#34;</span> -F document<span style="color:#f92672">=</span>@<span style="color:#e6db74">&#34;</span>$file_path<span style="color:#e6db74">&#34;</span> https://api.telegram.org/bot$token/sendDocument
</span></span></code></pre></div><p>æ·»åŠ åˆ°cronå†…</p>
<p><code>3 1 * * * bash /path/to/fireflyiii/backup.sh</code></p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<blockquote>
<p><a href="https://docs.firefly-iii.org/firefly-iii/installation/docker/?mtm_campaign=docu-internal&amp;mtm_kwd=docker">Docker - Firefly III documentation</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>Firefly Iiiä½¿ç”¨</title>
      <link>https://blog.zsan.cf/posts/personalfinance/</link>
      <pubDate>Sun, 28 May 2023 17:55:20 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/personalfinance/</guid>
      <description>ä¸ªäººç†è´¢ï¼Œå¥½å¥½ç”Ÿæ´»</description>
      <content:encoded><![CDATA[<h2 id="ä¸ºä½•è¦ç”¨firefly-iii">ä¸ºä½•è¦ç”¨Firefly Iii</h2>
<p><a href="https://docs.firefly-iii.org/firefly-iii/about-firefly-iii/introduction/">ç®€ä»‹åŠç‰¹ç‚¹</a></p>
<p><a href="https://demo.firefly-iii.org/login">Login to Firefly III Demo</a></p>
<ul>
<li>
<p>å®‰å…¨</p>
<p>è´¦æœ¬çš„å®‰å…¨ï¼Œä¸è¨€è€Œå–»äº†ï¼Œå®ƒæ˜¯è‡ªæ‰˜ç®¡å’Œéš”ç¦»çš„ï¼Œæ„å‘³ç€æ•°æ®å®Œå…¨æŒæ¡åœ¨è‡ªå·±æ‰‹é‡Œ</p>
</li>
<li>
<p>å¤å¼è®°è´¦</p>
</li>
<li>
<p>é¢„ç®—ã€å­˜é’±</p>
</li>
<li>
<p>è‡ªåŠ¨åŒ–ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–è®¾ç½®ä¸€äº›æ“ä½œ</p>
</li>
</ul>
<h2 id="å„ç«¯ä½“éªŒ">å„ç«¯ä½“éªŒ</h2>
<p>PCç«¯ï¼šwebé¡µé¢è®¿é—®ï¼Œé€‚åˆPCæµè§ˆå™¨ä¸ŠæŸ¥çœ‹ï¼Œç‰¹åˆ«æ˜¯æŠ¥è¡¨ï¼Œå¾ˆé€‚åˆå¤§å±è§‚çœ‹</p>
<p>ç§»åŠ¨ç«¯ï¼šæ²¡æœ‰å•ç‹¬çš„Appï¼Œä½†æ˜¯æ”¯æŒPWAï¼Œæ¨èç”¨chromeæ‰“å¼€ï¼Œç„¶åæ·»åŠ åˆ°æ¡Œé¢å°±è¡Œäº†ï¼Œå’ŒAppæ— å¼‚</p>
<blockquote>
<p>è¯´ç‚¹é¢˜å¤–çš„ï¼Œå½“å¹´PWAå‡ºæ¥çš„æ—¶å€™Safariæ˜¯æ”¯æŒçš„ï¼Œåæ¥æ”¯æŒçš„åŠŸèƒ½å°±å°‘äº†ï¼Œæ˜¯å› ä¸ºè‡ªå·±çš„App Storeå‡ºæ¥äº†ã€‚ä½†æ˜¯æœ€è¿‘è²Œä¼¼å¯¹PWAçš„æ”¯æŒå‹å¥½äº†ğŸ˜‚</p>
<p>ä¸æ‰¯å¤ªè¿œäº†ï¼Œæ€»ä¹‹åªè¦æ”¯æŒPWAï¼ŒåŸºæœ¬ä¸Šå’ŒAppæ— å¼‚ï¼Œå¯¹Appæœ‰æ‰§å¿µçš„ï¼Œå¯ä»¥åšä¸ªå®¢æˆ·ç«¯ï¼Œå®˜æ–¹APIéƒ½æ˜¯å¼€æ”¾çš„</p>
</blockquote>
<h2 id="ç™»å½•">ç™»å½•</h2>
<p>åœ¨<code>firefly</code>é…ç½®æ–‡ä»¶<code>env</code>å†…æœç´¢<code>SITE_OWNER</code></p>
<p>è¿™ä¸ªå€¼å°±æ˜¯é…ç½®çš„ç®¡ç†å‘˜é‚®ç®±</p>
<p>å»ºè®®ä½¿ç”¨å’ŒåŸŸåç›¸åŒçš„é‚®ç®±ç™»å½•ï¼Œå¦‚æœæ— é…ç½®é‚®ç®±æœåŠ¡ï¼Œå¯ä»¥ä½¿ç”¨é˜¿é‡Œçš„é‚®ç®±æ¨é€æœåŠ¡ï¼Œç›®å‰æœ‰å…è´¹é¢åº¦å¯ä»¥ç”¨</p>
<h2 id="å®‰å…¨è®¾ç½®">å®‰å…¨è®¾ç½®</h2>
<h3 id="ä¸¤æ­¥éªŒè¯">ä¸¤æ­¥éªŒè¯</h3>
<p>æ‰“å¼€<code>firefly</code>ç‚¹å‡»<code>é€‰é¡¹</code> <code>ä¸ªäººæ¡£æ¡ˆ</code> <code>ä¸¤æ­¥éªŒè¯</code>ç‚¹å‡»<code>å¯ç”¨</code></p>
<p>æ‰‹æœºä¸‹è½½<code>Google Authenticator</code>ï¼Œåˆ‡è®°ä¸è¦ç™»å½•Googleè´¦å·ï¼Œä¼šä¸Šä¼ åˆ°äº‘ä¸Šå»</p>
<p>å¯ç”¨ä¹‹åï¼Œé‡æ–°ç™»å½•</p>
<h2 id="é€‰é¡¹è®¾ç½®">é€‰é¡¹è®¾ç½®</h2>
<h3 id="è´§å¸">è´§å¸</h3>
<p>é»˜è®¤æ˜¯æ¬§å…ƒï¼Œå¯åˆ‡æ¢åˆ°äººæ°‘å¸<code>Chinese yuan (RMB) (Â¥)</code>ï¼Œå¦‚æœæœ‰å…¶ä»–è´§å¸ä¹Ÿå¯è‡ªè¡Œåˆ‡æ¢</p>
<h3 id="ç®¡ç†">ç®¡ç†</h3>
<p>åŒ…æ‹¬æ£€æŸ¥æ›´æ–°ï¼Œé‚®ç®±æµ‹è¯•ç­‰</p>
<h2 id="åˆå§‹åŒ–è®¾ç½®">åˆå§‹åŒ–è®¾ç½®</h2>
<h3 id="è´¦æˆ·">è´¦æˆ·</h3>
<h3 id="åˆ†ç±»">åˆ†ç±»</h3>
<h3 id="æ ‡ç­¾">æ ‡ç­¾</h3>
<h2 id="é«˜çº§è®¾ç½®">é«˜çº§è®¾ç½®</h2>
<h3 id="é¢„ç®—">é¢„ç®—ğŸ‘</h3>
<p>åˆ¶å®šé¢„ç®—å°†å¸®åŠ©æ‚¨æ›´æœ‰æ•ˆåœ°åˆ†é…èµ„é‡‘å¹¶æ›´è½»æ¾åœ°å®ç°è´¢åŠ¡ç›®æ ‡</p>
<p>é¢„ç®—è¿™ä¸ªåŠŸèƒ½è¶…çº§å¥½ç”¨</p>
<p>é¦–å…ˆï¼Œç‚¹å‡»å·¦ä¾§<code>é¢„ç®—</code>ï¼Œåˆ›å»ºæ–°é¢„ç®—</p>
<p>å³ä¾§<code>é€‰å¡«å­—æ®µ</code>å†…</p>
<p><code>è‡ªåŠ¨é¢„ç®—</code> é€‰æ‹©æœ€åä¸€ä¸ª<code>Adjusted (&quot;... and correct for overspending&quot;)</code></p>
<p>ä¸¾ğŸŒ°</p>
<p>æ¯ä¸ªæœˆé¢„ç®—éƒ½æ˜¯5000</p>
<ul>
<li>
<p>1æœˆé¢„ç®—5000ï¼Œåˆ°æœˆåº•èŠ±äº†8000ï¼Œè¶…é¢„ç®—3000</p>
</li>
<li>
<p>2æœˆé¢„ç®—å°±å˜ä¸º2000ï¼Œåˆ°æœˆåº•èŠ±äº†1000</p>
</li>
<li>
<p>3æœˆé¢„ç®—å°±å˜ä¸º6000</p>
</li>
</ul>
<p>è¿™ä¸ªåŠŸèƒ½ä¸€ç›´åœ¨æ‰¾ï¼Œæ˜¯å› ä¸ºæŸè´¢ç»å¤§ä½¬æ›¾è¯´è¿‡</p>
<blockquote>
<p>ç„¶åï¼Œå½“ä½ ç‚¹å¼€â€œæœ¬æœˆæ”¯å‡ºå»ºè®®â€è¡¨æ ¼æ—¶ï¼Œ</p>
<p>â€œæ ¹æ®æ‚¨è¿‡å»åäºŒä¸ªæœˆçš„æ”¯å‡ºä»¥åŠç†è´¢ç›®æ ‡ã€æ”¶å…¥æƒ…å†µç»¼åˆåˆ†æï¼Œå»ºè®®æ‚¨æœ¬æœˆé£Ÿç‰©æ”¯å‡ºä¸è¦è¶…è¿‡<strong><strong>å…ƒï¼Œä¼‘é—²å¨±ä¹æ”¯å‡ºä¸è¦è¶…è¿‡</strong></strong>å…ƒâ€¦â€¦ç¥æ‚¨æ—©æ—¥è¾¾æˆç†è´¢ç›®æ ‡ã€‚â€</p>
<p>ä¸‹ä¸ªæœˆï¼š</p>
<p>â€œæ‚¨ä¸Šä¸ªæœˆéå¸¸èŠ‚ä¿­ï¼Œæ¯”é¢„è®¡å¤šå‰©ä½™äº†2000å…ƒã€‚ä¸å¦¨æ‹¿å‡º500å…ƒä¹°ç‚¹å–œæ¬¢çš„ä¸œè¥¿å¥–åŠ±è‡ªå·±ï¼â€</p>
</blockquote>
<p>å½“ç„¶è‡ªå·±å¼€å‘ä¸€ä¸ªè¿™ä¸ªè½¯ä»¶è€—æ—¶è€—åŠ›ï¼Œæ‰€ä»¥å½“æ—¶å°±åœ¨æ‰¾ç±»ä¼¼å¼€æºè½¯ä»¶ï¼Œæ‰¯çš„æœ‰ç‚¹è¿œäº†ğŸ˜‚ğŸ˜‚ğŸ˜„</p>
<h4 id="é¢„ç®—å¦‚ä½•åˆ†é…">é¢„ç®—å¦‚ä½•åˆ†é…ï¼Ÿ</h4>
<p><strong>50/30/20 é¢„ç®—æ³•åˆ™</strong></p>
<p>50/30/20 é¢„ç®—æ³•åˆ™æ˜¯ä¸€ç§ç®€å•çš„é¢„ç®—ç­–ç•¥ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ä¼˜å…ˆè€ƒè™‘è´¢åŠ¡ç›®æ ‡ï¼š</p>
<blockquote>
<ul>
<li>
<p>50% ç”¨äºå¿…éœ€å“ï¼šå°†æ”¶å…¥çš„ 50% ç”¨äºæ”¯ä»˜åŸºæœ¬ç”Ÿæ´»è´¹ç”¨ï¼Œå¦‚ä½æˆ¿ã€æ°´ç”µè´¹ã€æ—¥å¸¸é£Ÿå“è´­ä¹°å’Œäº¤é€šè´¹ã€‚</p>
</li>
<li>
<p>30% ç”¨äºæ„¿æœ›ï¼šå°†æ”¶å…¥çš„ 30% ç”¨äºè‡ªç”±æ”¯é…èŠ±è´¹å’Œéå¿…éœ€å¼€é”€ï¼Œå¦‚å¤–å‡ºå°±é¤ã€å¨±ä¹ã€çˆ±å¥½å’Œè´­ç‰©ã€‚</p>
</li>
<li>
<p>20% ç”¨äºå‚¨è“„å’Œå€ºåŠ¡å¿è¿˜ï¼šå°†æ”¶å…¥çš„ 20% ç”¨äºå‚¨è“„ã€æŠ•èµ„å’Œå¿è¿˜å€ºåŠ¡ã€‚</p>
</li>
</ul>
</blockquote>
<p>è¿™ä¸ªä½“ç³»çš„ç›®çš„æ˜¯ç¡®ä¿æ‚¨çš„åŸºæœ¬éœ€æ±‚å¾—åˆ°æ»¡è¶³ï¼Œæœ‰ä¸€å®šçš„è‡ªç”±æ”¯é…è´¹ç”¨ç©ºé—´ï¼Œå¹¶ä¼˜å…ˆä¸ºæœªæ¥å‚¨è“„å’Œç®¡ç†å€ºåŠ¡ã€‚</p>
<p>è¿™äº›ç™¾åˆ†æ¯”å¹¶éä¸€æˆä¸å˜ã€‚å¦‚æœèµ„é‡‘ç´§å¼ ï¼Œæ‚¨å¯èƒ½éœ€è¦å°†æ”¶å…¥çš„æ›´é«˜æ¯”ä¾‹ç”¨äºæ”¯ä»˜å¿…éœ€å“ã€‚å¦‚æœæ‚¨çš„å€ºåŠ¡å¾ˆå¤§ï¼Œæ‚¨å¯ä»¥é€‰æ‹©åˆ†é…è¶…è¿‡ 20% çš„æ”¶å…¥ç”¨äºå€ºåŠ¡å¿è¿˜ï¼Œä»¥åŠ å¿«è¿›åº¦ã€‚åŒæ ·ï¼Œå¦‚æœæ‚¨çš„å‚¨è“„ç›®æ ‡é›„å¿ƒå‹ƒå‹ƒï¼Œå¯ä»¥å°†æ›´é«˜çš„æ¯”ä¾‹åˆ†é…ç»™å‚¨è“„ã€‚</p>
<h5 id="è´­ä¹°æ±½è½¦çš„é¢„ç®—">è´­ä¹°æ±½è½¦çš„é¢„ç®—</h5>
<p>ä¸€æ¡ç»éªŒæ³•åˆ™æ˜¯ï¼Œæ‚¨è½¦è¾†çš„æ€»ä»·å€¼ä¸åº”è¶…è¿‡æ‚¨å¹´æ”¶å…¥çš„<code>50%</code></p>
<p>å¦ä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯ 20/4/10 è§„åˆ™ï¼š</p>
<blockquote>
<ul>
<li>
<p>è‡³å°‘æ”¯ä»˜ 20% çš„é¦–ä»˜æ¬¾ã€‚</p>
</li>
<li>
<p>æ°¸è¿œä¸è¦è·å¾—è¶…è¿‡ 4 å¹´çš„è´·æ¬¾ã€‚</p>
</li>
<li>
<p>æ‚¨æ€»æ”¶å…¥çš„ 10% æˆ–æ›´å°‘ç”¨äºæ‰€æœ‰è½¦è¾†æ”¯å‡ºï¼ŒåŒ…æ‹¬è´·æ¬¾æ”¯ä»˜ã€ä¿é™©ã€æ±½æ²¹ã€ç™»è®°è´¹ã€ç»´æŠ¤å’Œä¿®ç†ã€‚</p>
</li>
</ul>
</blockquote>
<p>å¦å¤–ä¸€ä¸ªæ³•åˆ™ï¼š</p>
<blockquote>
<p>å¹´æ”¶å…¥ä¹°è½¦</p>
<p>æœˆæ”¶å…¥ä¹°è¡¨</p>
</blockquote>
<p>å¦‚æœæ‚¨çš„é¢„ç®—ç¬¦åˆä»¥ä¸‹ä»»ä¸€æƒ…å†µï¼Œæ‚¨åº”è¯¥è€ƒè™‘æ”¹å˜æ‚¨çš„ç”Ÿæ´»æ–¹å¼ï¼š</p>
<blockquote>
<ul>
<li>
<p>æ‚¨æ¯æœˆçš„æŠµæŠ¼è´·æ¬¾/ç§Ÿé‡‘è¶…è¿‡æ‚¨å®å¾—å·¥èµ„çš„ 30%ã€‚ä½ å¯èƒ½æƒ³è€ƒè™‘æ‰¾ä¸ªå®¤å‹ï¼Œæˆ–è€…æ¬åˆ°æ›´ä¾¿å®œçš„åœ°æ–¹ã€‚</p>
</li>
<li>
<p>æ‚¨æ¯æœˆåœ¨è½¦è¾†ä¸Šçš„æ€»æ”¯å‡ºè¶…è¿‡æ‚¨å®å¾—å·¥èµ„çš„ 15%ã€‚æ‚¨å¯èƒ½éœ€è¦è€ƒè™‘æ‹¼è½¦ä¸Šç­ã€å‡å°‘å‡ºè¡Œæ¬¡æ•°ï¼Œæˆ–è€…ä¹˜åå…¬å…±æ±½è½¦æˆ–è‡ªè¡Œè½¦ã€‚å¦‚æœå¯ä»¥çš„è¯ï¼Œæ‚¨å¯èƒ½è¿˜æƒ³è€ƒè™‘æ¬åˆ°æ›´è¿‘çš„åœ°æ–¹æˆ–å–æ‰æ‚¨çš„æ±½è½¦ã€‚æ¯æœˆé¢„ç®—çš„ 10% æ˜¯ä¸€ä¸ªæ›´å¥åº·çš„æ±½è½¦æ”¯å‡ºæ•°å­—ã€‚</p>
</li>
</ul>
</blockquote>
<p>æœ¬æ°æ˜Â·å¯Œå…°å…‹æ—æ›¾è¯´ï¼šâ€œçœä¸‹ä¸€åˆ†é’±å°±ç­‰äºèµšäº†ä¸€åˆ†é’±ã€‚â€å¦‚æœè¿™å¥è¯æ˜¯çœŸçš„ï¼Œé‚£ä¹ˆå‰Šå‡é¢„ç®—å°±ç›¸å½“äºæé«˜äº†ä½ çš„æ”¶å…¥ã€‚</p>
<blockquote>
<p>å¸¸è¢«æåŠçš„å‡å°‘å¼€æ”¯çš„æ–¹æ³•æœ‰ï¼šå‰Šå‡æœ‰çº¿ç”µè§†ã€å°†æ‰‹æœºå¥—é¤è°ƒæ•´åˆ°å®é™…ä½¿ç”¨çš„é€šè¯/æ•°æ®é‡ã€åœ¨å®¶çƒ¹é¥ª/å¸¦é£Ÿç‰©å»å·¥ä½œã€é‡æ–°è¯„ä¼°è´·æ¬¾ã€æ‰”æ‰ä¼˜æƒ åˆ¸ã€ä¸‹å•å‰å…ˆæ‰¾æ‰¾ä¼˜æƒ åˆ¸ã€å–æ¶ˆåœ¨çº¿è´­ç‰©ç½‘ç«™çš„ä¿¡ç”¨å¡å…³è”ã€å‡å°‘ä¿¡ç”¨å¡ä½¿ç”¨å¹¶æ”¹ç”¨ç°é‡‘ã€ä¸ç”¨æ—¶å…³é—­ç¯å…‰ã€ä¸åœ¨å®¶æˆ–ç¡è§‰æ—¶é™ä½æš–æ°”/ç©ºè°ƒç­‰ã€‚</p>
</blockquote>
<h3 id="è´¦å•">è´¦å•</h3>
<h3 id="å­˜é’±ç½">å­˜é’±ç½ğŸ‘</h3>
<p>è¿™ä¸ªåŠŸèƒ½æœ‰åŠ©äºå¸®åŠ©æ‚¨å®ç°æ‚¨çš„è´¢åŠ¡ç›®æ ‡</p>
<h4 id="åº”æ€¥èµ„é‡‘fuck-money">åº”æ€¥èµ„é‡‘ï¼ˆfuck moneyï¼‰</h4>
<p>å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œ3 åˆ° 6 ä¸ªæœˆçš„å¼€æ”¯å°±è¶³å¤Ÿäº†ã€‚å¦‚æœæ‚¨çš„æ”¶å…¥ä¸ç¨³å®šæˆ–ä¸ç¡®å®šï¼Œå¯èƒ½éœ€è¦æ›´å¤§çš„åº”æ€¥åŸºé‡‘ï¼ˆä¾‹å¦‚ 9 åˆ° 12 ä¸ªæœˆï¼‰</p>
<blockquote>
<p>ä¸€èˆ¬æ”¾é“¶è¡Œå­˜æ¬¾æˆ–è´§å¸åŸºé‡‘å†…r1r2å³å¯</p>
</blockquote>
<h4 id="è¶…é•¿æœŸå…»è€">è¶…é•¿æœŸå…»è€</h4>
<p>ä»¥åå…»è€è¦é è‡ªå·±äº†ï¼Œæ¯æœˆæ‹¿å‡ºæ”¶å…¥çš„10%æˆ–20%æ”¾åˆ°é•¿æœŸè´¦æˆ·å†…ï¼Œä¸ºä»¥åé€€ä¼‘åšå‡†å¤‡</p>
<h3 id="è‡ªåŠ¨åŒ–">è‡ªåŠ¨åŒ–</h3>
<p>Â </p>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<blockquote>
<p><a href="https://docs.firefly-iii.org/firefly-iii/faq/financials/">Managing your finances - Firefly III documentation</a></p>
<p><a href="https://www.reddit.com/r/personalfinance/wiki/budgeting/">budgeting</a></p>
<p><a href="https://www.reddit.com/r/personalfinance/wiki/vehicles/">commontopics</a></p>
<p><a href="https://www.reddit.com/r/personalfinance/wiki/commontopics/">commontopics</a></p>
<p><a href="https://www.reddit.com/r/personalfinance/wiki/emergencyfunds/">emergencyfunds</a></p>
<p><a href="https://www.reddit.com/r/personalfinance/wiki/early_career/">early_career</a></p>
<p><a href="https://docs.firefly-iii.org/firefly-iii/financial-concepts/organizing/">organizing</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>PaperModæ–‡ç« æ·»åŠ è¿‡æ—¶æé†’</title>
      <link>https://blog.zsan.cf/posts/add-outdated-info-warning/</link>
      <pubDate>Sun, 26 Mar 2023 11:40:12 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/add-outdated-info-warning/</guid>
      <description>æŠ€æœ¯å¿«é€Ÿè¿­ä»£å¹¶ä¸”æ–¹æ³•ä¸æ–­æ”¹å˜ï¼Œè¯¥åšå®¢é€šè¿‡é­”æ”¹å®ç°äº†é’ˆå¯¹è¯¥ä¸»é¢˜çš„å†…å®¹æé†’åŠŸèƒ½</description>
      <content:encoded><![CDATA[<p>æŠ€æœ¯æ€§æ–‡ç« æ²¡æœ‰å†…å®¹æé†’æ€ä¹ˆè¡Œçš„ï¼ŒæŠ€æœ¯å¿«é€Ÿè¿­ä»£ï¼Œä»Šå¤©å¯ä»¥çš„æ–¹æ³•æ˜å¤©å¯èƒ½å°±ä¸è¡Œäº†</p>
<p>ç½‘ä¸Šæœäº†ä¸€åœˆï¼Œå¯¹åº”ä¸»é¢˜çš„æ²¡æ‰¾åˆ°ç°æˆçš„ï¼Œåªèƒ½é­”æ”¹äº†</p>
<p>åªé’ˆå¯¹PaperModä¸»é¢˜çš„ï¼Œå…¶ä»–è‡ªå·±é­”æ”¹ï¼Œå¤§åŒå°å¼‚</p>
<h2 id="1æ·»åŠ è‡ªå®šä¹‰æ¨¡ç‰ˆ">1ã€æ·»åŠ è‡ªå®šä¹‰æ¨¡ç‰ˆ</h2>
<p>Hugoæ ¹ç›®å½•åˆ›å»º<code>layouts\partials\outdated_warning.html</code></p>
<p>å¤åˆ¶ä¸‹é¢ä»£ç åˆ° <code>outdated_warning.html</code>å†…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{- if or .Params.enableOutdatedInfoWarning (and .Site.Params.outdatedInfoWarning.enable (ne .Params.enableOutdatedInfoWarning false)) }}
</span></span><span style="display:flex;"><span>{{- $daysAgo := div (sub now.Unix $.Page.Params.Lastmod.Unix) 86400 }}
</span></span><span style="display:flex;"><span>{{- $hintThreshold := .Site.Params.outdatedInfoWarning.hint | default 30 }}
</span></span><span style="display:flex;"><span>{{- $warnThreshold := .Site.Params.outdatedInfoWarning.warn | default 180 }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- $updateTime := $.Page.Params.Lastmod }}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{- if gt $daysAgo $hintThreshold }}
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-outdated&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  {{- if gt $daysAgo $warnThreshold }}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;warn&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  {{- else }}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;hint&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  {{- end }}
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">p</span>&gt;{{ i18n &#34;outdatedInfoWarningBefore&#34; .}}
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;timeago&#34;</span> <span style="color:#a6e22e">datetime</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ dateFormat &#34;</span><span style="color:#a6e22e">2006-01-02T15:04:05</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">updateTime</span> <span style="color:#960050;background-color:#1e0010">}}&#34;</span> <span style="color:#a6e22e">title</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ dateFormat &#34;</span><span style="color:#a6e22e">January</span> <span style="color:#a6e22e">2</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">2006</span><span style="color:#960050;background-color:#1e0010">&#34;</span> <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#a6e22e">updateTime</span> <span style="color:#960050;background-color:#1e0010">}}&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      {{- dateFormat &#34;January 2, 2006&#34; $updateTime -}}
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">span</span>&gt;{{ i18n &#34;outdatedInfoWarningAfter&#34; .}}
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span><span style="display:flex;"><span>{{- end -}}
</span></span></code></pre></div><h2 id="2æ·»åŠ åˆ°æ–‡ç« æ¨¡ç‰ˆå†…">2ã€æ·»åŠ åˆ°æ–‡ç« æ¨¡ç‰ˆå†…</h2>
<p>Hugoæ ¹ç›®å½•åˆ›å»º<code>layouts/_default/single.html</code></p>
<p>åœ¨ç›®å½•ä¸‹æ–¹æˆ–è€…æ–‡ç« ä¸Šæ–¹æ·»åŠ </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>{{ partial &#34;outdated_warning.html&#34; . }}
</span></span><span style="display:flex;"><span>{{- if .Content }}
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-content&#34;</span>&gt;
</span></span><span style="display:flex;"><span>    {{- if not (.Param &#34;disableAnchoredHeadings&#34;) }}
</span></span><span style="display:flex;"><span>    {{- partial &#34;anchored_headings.html&#34; .Content -}}
</span></span><span style="display:flex;"><span>    {{- else }}{{ .Content }}{{ end }}
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  {{- end }}
</span></span></code></pre></div><h2 id="3æ·»åŠ å†…å®¹æé†’css">3ã€æ·»åŠ å†…å®¹æé†’css</h2>
<p>Hugoæ ¹ç›®å½•åˆ›å»º<code>assets/css/extended/blank.css</code></p>
<p>æ·»åŠ ä¸‹åˆ—ä»£ç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">post-outdated</span> .<span style="color:#a6e22e">hint</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">rem</span> <span style="color:#ae81ff">1.5</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background-color</span>:rgb(<span style="color:#ae81ff">239</span>, <span style="color:#ae81ff">245</span>, <span style="color:#ae81ff">255</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-left</span>: <span style="color:#ae81ff">0.5</span><span style="color:#66d9ef">rem</span> <span style="color:#66d9ef">solid</span> rgb(<span style="color:#ae81ff">66</span>, <span style="color:#ae81ff">172</span>, <span style="color:#ae81ff">243</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#6b5900</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">align-self</span>: <span style="color:#66d9ef">stretch</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">post-outdated</span> <span style="color:#f92672">p</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin</span>: <span style="color:#66d9ef">initial</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">post-outdated</span> .<span style="color:#a6e22e">warn</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">rem</span> <span style="color:#ae81ff">1.5</span><span style="color:#66d9ef">rem</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#fff7d0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">border-left</span>: <span style="color:#ae81ff">0.5</span><span style="color:#66d9ef">rem</span> <span style="color:#66d9ef">solid</span> <span style="color:#ae81ff">#e7c000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#6b5900</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">align-self</span>: <span style="color:#66d9ef">stretch</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">margin-bottom</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">em</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="4æ·»åŠ é…ç½®å‚æ•°">4ã€æ·»åŠ é…ç½®å‚æ•°</h2>
<p><code>config.yml</code>å†…æ·»åŠ ä¸‹åˆ—å‚æ•°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">params</span>:
</span></span><span style="display:flex;"><span><span style="color:#f92672">Â Â Â Â outdatedInfoWarning</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Â Â Â Â enable</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Â Â Â Â hint</span>: <span style="color:#ae81ff">30</span>                <span style="color:#75715e"># å¦‚æœæ–‡ç« æœ€åæ›´æ–°äºè¿™å¤©æ•°ä¹‹å‰ï¼Œæ˜¾ç¤ºæé†’</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">Â Â Â Â warn</span>: <span style="color:#ae81ff">180</span>    <span style="color:#75715e"># å¦‚æœæ–‡ç« æœ€åæ›´æ–°äºè¿™å¤©æ•°ä¹‹å‰ï¼Œæ˜¾ç¤ºè­¦å‘Š</span>
</span></span></code></pre></div><h2 id="5æ–‡ç« å•ç‹¬é…ç½®å¼€å…³">5ã€æ–‡ç« å•ç‹¬é…ç½®å¼€å…³</h2>
<p>æ–‡ç« å¼€å¤´å¢åŠ <code>enableOutdatedInfoWarning: true #å†…å®¹è¿‡æ—¶æé†’</code></p>
<p>ä¹Ÿå¯æŠŠä¸Šè¿°ä»£ç æ·»åŠ åˆ°<code>archetypes/default.md</code></p>
<h2 id="6æ·»åŠ æç¤ºæ–‡å­—">6ã€æ·»åŠ æç¤ºæ–‡å­—</h2>
<p>Hugoæ ¹ç›®å½•åˆ›å»º<code>i18n</code> å†…å¤åˆ¶ä¸»é¢˜ä¸‹å¤åˆ¶<code>zh.yaml</code>è¿›æ¥ï¼Œæ·»åŠ ä¸‹åˆ—ä»£ç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">outdatedInfoWarningBefore</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">translation</span>: <span style="color:#e6db74">&#34;ã€æ³¨æ„ã€‘æœ€åæ›´æ–°äº &#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">outdatedInfoWarningAfter</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">translation</span>: <span style="color:#e6db74">&#34;ï¼Œæ–‡ä¸­å†…å®¹å¯èƒ½å·²è¿‡æ—¶ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚&#34;</span>
</span></span></code></pre></div><blockquote>
<p>ps:å€ŸåŠ©ChatGPTçš„å¼ºå¤§åŠŸèƒ½åšäº†ä»£ç çš„ç¼–è¾‘æ“ä½œï¼Œæœªæ¥å·²æ¥ğŸ‰</p>
</blockquote>
<hr>
<p>å‚è€ƒï¼š</p>
<blockquote>
<p><a href="https://guanqr.com/tech/website/add-expired-tip-in-meme/">åœ¨ MemE ä¸»é¢˜æ–‡ç« å¼€å¤´æ·»åŠ è¿‡æ—¶æé†’ | è·æˆŸç‹¬å½·å¾¨</a></p>
<p><a href="https://github.com/olOwOlo/hugo-theme-even/blob/master/layouts/partials/post/outdated-info-warning.html">hugo-theme</a></p>
<p><a href="https://chat.openai.com/">ChatGPT</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ­å»º MinIO é«˜æ€§èƒ½å¯¹è±¡å­˜å‚¨</title>
      <link>https://blog.zsan.cf/posts/minio-service-deployment/</link>
      <pubDate>Tue, 14 Mar 2023 21:25:47 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/minio-service-deployment/</guid>
      <description>MinIO æ˜¯ä¸€ä¸ªåŸºäº Apache License v2.0 å¼€æºåè®®çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚å®ƒå…¼å®¹äºšé©¬é€Š S3 äº‘å­˜å‚¨æœåŠ¡æ¥å£ï¼Œéå¸¸é€‚åˆäºå­˜å‚¨å¤§å®¹é‡éç»“æ„åŒ–çš„æ•°æ®ï¼Œä¾‹å¦‚å›¾ç‰‡ã€è§†é¢‘ã€æ—¥å¿—æ–‡ä»¶ã€å¤‡ä»½æ•°æ®å’Œå®¹å™¨/è™šæ‹Ÿæœºé•œåƒç­‰ï¼Œè€Œä¸€ä¸ªå¯¹è±¡æ–‡ä»¶å¯ä»¥æ˜¯ä»»æ„å¤§å°ï¼Œä»å‡  kb åˆ°æœ€å¤§ 5T ä¸ç­‰ã€‚
å‰æ®µæ—¶é—´æ­å»ºæ’­å®¢çš„æ—¶å€™æƒ³æ‰¾ä¸ªå­˜å‚¨æ–‡ä»¶çš„æœåŠ¡ï¼Œæ— å¥ˆå›½å†…æ²¡å…è´¹çš„ï¼Œå›½å¤–å»¶è¿Ÿåˆé«˜ï¼Œå°±æƒ³èµ·äº†è‡ªå·±æ­å»ºä¸€ä¸ªå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œç„¶åå°±äº†è§£äº†MinIOï¼Œæ­å»ºå¾ˆç®€å•ï¼Œç›´æ¥dockeréƒ¨ç½²
æ”¾ä¸€ä¸ªä¸­æ–‡çš„æ•™ç¨‹Minio - Docker â€” ä»å…¥é—¨åˆ°å®è·µï¼Œæ–¹ä¾¿åé¢æ¥ç¿»é˜…
MinIO Object Storage for Container â€” MinIO Object Storage for Container</description>
      <content:encoded><![CDATA[<blockquote>
<p><strong>MinIO</strong> æ˜¯ä¸€ä¸ªåŸºäº Apache License v2.0 å¼€æºåè®®çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚å®ƒå…¼å®¹äºšé©¬é€Š S3 äº‘å­˜å‚¨æœåŠ¡æ¥å£ï¼Œéå¸¸é€‚åˆäºå­˜å‚¨å¤§å®¹é‡éç»“æ„åŒ–çš„æ•°æ®ï¼Œä¾‹å¦‚å›¾ç‰‡ã€è§†é¢‘ã€æ—¥å¿—æ–‡ä»¶ã€å¤‡ä»½æ•°æ®å’Œå®¹å™¨/è™šæ‹Ÿæœºé•œåƒç­‰ï¼Œè€Œä¸€ä¸ªå¯¹è±¡æ–‡ä»¶å¯ä»¥æ˜¯ä»»æ„å¤§å°ï¼Œä»å‡  kb åˆ°æœ€å¤§ 5T ä¸ç­‰ã€‚</p>
</blockquote>
<p>å‰æ®µæ—¶é—´æ­å»ºæ’­å®¢çš„æ—¶å€™æƒ³æ‰¾ä¸ªå­˜å‚¨æ–‡ä»¶çš„æœåŠ¡ï¼Œæ— å¥ˆå›½å†…æ²¡å…è´¹çš„ï¼Œå›½å¤–å»¶è¿Ÿåˆé«˜ï¼Œå°±æƒ³èµ·äº†è‡ªå·±æ­å»ºä¸€ä¸ªå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œç„¶åå°±äº†è§£äº†<strong>MinIO</strong>ï¼Œæ­å»ºå¾ˆç®€å•ï¼Œç›´æ¥dockeréƒ¨ç½²</p>
<p>æ”¾ä¸€ä¸ªä¸­æ–‡çš„æ•™ç¨‹<a href="https://yeasy.gitbook.io/docker_practice/appendix/repo/minio">Minio - Docker â€” ä»å…¥é—¨åˆ°å®è·µ</a>ï¼Œæ–¹ä¾¿åé¢æ¥ç¿»é˜…</p>
<p><a href="https://min.io/docs/minio/container/index.html">MinIO Object Storage for Container â€” MinIO Object Storage for Container</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ­å»ºæœåŠ¡å™¨ç›‘æ§æœåŠ¡-å“ªå’æ¢é’ˆ</title>
      <link>https://blog.zsan.cf/posts/setting-up-server-monitoring-service-nezha-probe/</link>
      <pubDate>Tue, 14 Mar 2023 21:20:29 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/setting-up-server-monitoring-service-nezha-probe/</guid>
      <description>æœ¬æ¥æƒ³å†™ä¸‹å½“æ—¶éƒ¨ç½²æ—¶çš„å‘çš„ï¼Œåˆšæ‰é‡æ–°éƒ¨ç½²ï¼Œå‘ç°æ–‡æ¡£ç‰¹åˆ«å®Œå–„ï¼Œä¸åƒæˆ‘å½“æ—¶ï¼ˆ2å¹´å‰ï¼‰éƒ¨ç½²æ—¶çš„äº†ï¼Œå°±ç®€å•è®°å½•ä¸‹å§ï¼Œè¯¦ç»†å¯ä»¥çœ‹å‡†å¤‡å·¥ä½œ | å“ªå’ç›‘æ§
æœåŠ¡å™¨å®‰è£…ç®¡ç†é¢æ¿ curl -L https://cdn.jsdelivr.net/gh/naiba/nezha@master/script/install.sh -o nezha.sh &amp;amp;&amp;amp; chmod +x nezha.sh &amp;amp;&amp;amp; sudo CN=true ./nezha.sh` å®¢æˆ·ç«¯å®‰è£…Agent ç»¿è‰²çš„ Linux/Windows å›¾æ ‡æŒ‰é’®ï¼Œå¤åˆ¶ä¸€é”®å®‰è£…å‘½ä»¤
PSï¼šå®˜ç½‘å†™çš„å¤ªè¯¦ç»†äº†ï¼Œæˆ‘è¿™ç¯‡ä¹Ÿæ²¡å¿…è¦å†™äº†ï¼Œå ä¸ªå‘ï¼Œç®—æ˜¯çŸ¥é“ç›¸å…³æœåŠ¡</description>
      <content:encoded><![CDATA[<blockquote>
<p>æœ¬æ¥æƒ³å†™ä¸‹å½“æ—¶éƒ¨ç½²æ—¶çš„å‘çš„ï¼Œåˆšæ‰é‡æ–°éƒ¨ç½²ï¼Œå‘ç°æ–‡æ¡£ç‰¹åˆ«å®Œå–„ï¼Œä¸åƒæˆ‘å½“æ—¶ï¼ˆ2å¹´å‰ï¼‰éƒ¨ç½²æ—¶çš„äº†ï¼Œå°±ç®€å•è®°å½•ä¸‹å§ï¼Œè¯¦ç»†å¯ä»¥çœ‹<a href="https://nezha.wiki/guide/dashboard.html">å‡†å¤‡å·¥ä½œ | å“ªå’ç›‘æ§</a></p>
</blockquote>
<h2 id="æœåŠ¡å™¨å®‰è£…ç®¡ç†é¢æ¿">æœåŠ¡å™¨å®‰è£…ç®¡ç†é¢æ¿</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -L https://cdn.jsdelivr.net/gh/naiba/nezha@master/script/install.sh -o nezha.sh <span style="color:#f92672">&amp;&amp;</span> chmod +x nezha.sh <span style="color:#f92672">&amp;&amp;</span> sudo CN<span style="color:#f92672">=</span>true ./nezha.sh<span style="color:#e6db74">`</span>
</span></span></code></pre></div><h2 id="å®¢æˆ·ç«¯å®‰è£…agent">å®¢æˆ·ç«¯å®‰è£…Agent</h2>
<p>ç»¿è‰²çš„ Linux/Windows å›¾æ ‡æŒ‰é’®ï¼Œå¤åˆ¶ä¸€é”®å®‰è£…å‘½ä»¤</p>
<blockquote>
<p>PSï¼šå®˜ç½‘å†™çš„å¤ªè¯¦ç»†äº†ï¼Œæˆ‘è¿™ç¯‡ä¹Ÿæ²¡å¿…è¦å†™äº†ï¼Œå ä¸ªå‘ï¼Œç®—æ˜¯çŸ¥é“ç›¸å…³æœåŠ¡</p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ­å»º frp å†…ç½‘ç©¿é€æœåŠ¡</title>
      <link>https://blog.zsan.cf/posts/building-frp-intranet-penetration-service/</link>
      <pubDate>Tue, 14 Mar 2023 21:12:45 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/building-frp-intranet-penetration-service/</guid>
      <description>ç®€å•æ­å»ºfrps å†…ç½‘ç©¿é€æœåŠ¡</description>
      <content:encoded><![CDATA[<blockquote>
<p>å¿…éœ€ï¼šæœ‰å…¬ç½‘IPçš„æœåŠ¡å™¨ä¸€å°</p>
</blockquote>
<h2 id="æœåŠ¡ç«¯éƒ¨ç½²">æœåŠ¡ç«¯éƒ¨ç½²</h2>
<p>åœ¨å…·æœ‰å…¬ç½‘ IP çš„æœºå™¨ä¸Šéƒ¨ç½²</p>
<p>é‡‡ç”¨<a href="https://github.com/MvsCode/frps-onekey">ä¸€é”®éƒ¨ç½²è„šæœ¬å®‰è£…</a></p>
<blockquote>
<p>ä½œè€…çš„githubè¢«å°äº†ï¼Œæ¥è¡¥ä¸€ä¸ªgiteeçš„</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget https://gitee.com/mvscode/frps-onekey/raw/master/install-frps.sh -O ./install-frps.sh
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ./install-frps.sh
</span></span><span style="display:flex;"><span>./install-frps.sh install
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget https://raw.githubusercontent.com/MvsCode/frps-onekey/master/install-frps.sh -O ./install-frps.sh
</span></span><span style="display:flex;"><span>chmod <span style="color:#ae81ff">700</span> ./install-frps.sh
</span></span><span style="display:flex;"><span>./install-frps.sh install
</span></span></code></pre></div><p>ç®€å•ç”¨æ³•</p>
<p><code> Usage: /etc/init.d/frps {start|stop|restart|status|config|version}</code></p>
<h2 id="å®¢æˆ·ç«¯éƒ¨ç½²">å®¢æˆ·ç«¯éƒ¨ç½²</h2>
<p>ä¸‹è½½<a href="https://github.com/fatedier/frp/releases">Releases Â· fatedier/frp Â· GitHub</a></p>
<p>è§£å‹ç¼©ä¸‹è½½çš„å‹ç¼©åŒ…ï¼Œå°†å…¶ä¸­çš„ frpc æ‹·è´åˆ°å†…ç½‘æœåŠ¡æ‰€åœ¨çš„æœºå™¨ä¸Š</p>
<h2 id="é…ç½®">é…ç½®</h2>
<p>è¿™é‡Œå¯ä»¥ä¸‹è½½é…ç½®æ–‡ä»¶<a href="https://github.com/fatedier/frp/tree/dev/conf">frp/conf at dev Â· fatedier/frp Â· GitHub</a></p>
<h3 id="æœåŠ¡ç«¯é…ç½®">æœåŠ¡ç«¯é…ç½®</h3>
<p>ä¸‹é¢æ˜¯æœåŠ¡ç«¯çš„æœ€å…¨é…ç½®ï¼Œä¸€äº›é…ç½®éƒ½æ˜¯å¯ä»¥ä¸ç”¨é…ç½®çš„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#75715e"># [common] is integral section</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[common]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># A literal address or host name for IPv6 must be enclosed</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># in square brackets, as in &#34;[::1]:80&#34;, &#34;[ipv6-host]:http&#34; or &#34;[ipv6-host%zone]:80&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># For single &#34;bind_addr&#34; field, no need square brackets, like &#34;bind_addr = ::&#34;.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">bind_addr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">0.0.0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">bind_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">7000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># udp port to help make udp hole to penetrate nat</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">bind_udp_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">7001</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># udp port used for kcp protocol, it can be same with &#39;bind_port&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># if not set, kcp is disabled in frps.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">kcp_bind_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">7000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># udp port used for quic protocol.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># if not set, quic is disabled in frps.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># quic_bind_port = 7002</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># quic protocol options</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># quic_keepalive_period = 10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># quic_max_idle_timeout = 30</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># quic_max_incoming_streams = 100000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># specify which address proxy will listen for, default value is same with bind_addr</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># proxy_bind_addr = 127.0.0.1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># if you want to support virtual host, you must set the http port for listening (optional)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Note: http port and https port can be same with bind_port</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">vhost_http_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">80</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">vhost_https_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">443</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># response header timeout(seconds) for vhost http server, default is 60s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># vhost_http_timeout = 60</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcpmux_httpconnect_port specifies the port that the server listens for TCP</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># HTTP CONNECT requests. If the value is 0, the server will not multiplex TCP</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># requests on one single port. If it&#39;s not - it will listen on this value for</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># HTTP CONNECT requests. By default, this value is 0.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcpmux_httpconnect_port = 1337</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># If tcpmux_passthrough is true, frps won&#39;t do any update on traffic.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcpmux_passthrough = false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># set dashboard_addr and dashboard_port to view dashboard of frps</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard_addr&#39;s default value is same with bind_addr</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard is available only if dashboard_port is set</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç®¡ç†é¢æ¿</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dashboard_addr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">0.0.0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dashboard_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">7500</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard user and passwd for basic auth protect</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dashboard_user</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">admin</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dashboard_pwd</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">admin</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard TLS mode</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">dashboard_tls_mode</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard_tls_cert_file = server.crt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard_tls_key_file = server.key</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># enable_prometheus will export prometheus metrics on {dashboard_addr}:{dashboard_port} in /metrics api.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">enable_prometheus</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># dashboard assets directory(only for debug mode)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># assets_dir = ./static</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># console or real logFile path like ./frps.log</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log_file</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">./frps.log</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># trace, debug, info, warn, error</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log_level</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">info</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log_max_days</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># disable log colors when log_file is console, default is false</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">disable_log_color</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># DetailedErrorsToClient defines whether to send the specific error (with debug info) to frpc. By default, this value is true.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">detailed_errors_to_client</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># authentication_method specifies what authentication method to use authenticate frpc with frps.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># If &#34;token&#34; is specified - token will be read into login message.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># If &#34;oidc&#34; is specified - OIDC (Open ID Connect) token will be issued using OIDC settings. By default, this value is &#34;token&#34;.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authentication_method</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">token</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># authenticate_heartbeats specifies whether to include authentication token in heartbeats sent to frps. By default, this value is false.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authenticate_heartbeats</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># AuthenticateNewWorkConns specifies whether to include authentication token in new work connections sent to frps. By default, this value is false.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authenticate_new_work_conns</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># auth token</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">12345678</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># oidc_issuer specifies the issuer to verify OIDC tokens with.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># By default, this value is &#34;&#34;.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">oidc_issuer</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># oidc_audience specifies the audience OIDC tokens should contain when validated.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># By default, this value is &#34;&#34;.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">oidc_audience</span> <span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># oidc_skip_expiry_check specifies whether to skip checking if the OIDC token is expired.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># By default, this value is false.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">oidc_skip_expiry_check</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># oidc_skip_issuer_check specifies whether to skip checking if the OIDC token&#39;s issuer claim matches the issuer specified in OidcIssuer.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># By default, this value is false.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">oidc_skip_issuer_check</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># heartbeat configure, it&#39;s not recommended to modify the default value</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># the default value of heartbeat_timeout is 90. Set negative value to disable it.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># heartbeat_timeout = 90</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># user_conn_timeout configure, it&#39;s not recommended to modify the default value</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># the default value of user_conn_timeout is 10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># user_conn_timeout = 10</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># only allow frpc to bind ports you list, if you set nothing, there won&#39;t be any limit</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">allow_ports</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">2000-3000,3001,3003,4000-50000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># pool_count in each proxy will change to max_pool_count if they exceed the maximum value</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">max_pool_count</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># max ports can be used for each client, default value is 0 means no limit</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">max_ports_per_client</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tls_only specifies whether to only accept TLS-encrypted connections. By default, the value is false.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">tls_only</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tls_cert_file = server.crt</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tls_key_file = server.key</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tls_trusted_ca_file = ca.crt</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># if subdomain_host is not empty, you can set subdomain when type is http or https in frpc&#39;s configure file</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># when subdomain is test, the host used by routing is test.frps.com</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">subdomain_host</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">frps.com</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># if tcp stream multiplexing is used, default is true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcp_mux = true</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># specify keep alive interval for tcp mux.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># only valid if tcp_mux is true.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcp_mux_keepalive_interval = 60</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcp_keepalive specifies the interval between keep-alive probes for an active network connection between frpc and frps.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># If negative, keep-alive probes are disabled.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># tcp_keepalive = 7200</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># custom 404 page for HTTP requests</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># custom_404_page = /path/to/404.html</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># specify udp packet size, unit is byte. If not set, the default value is 1500.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This parameter should be same between client and server.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># It affects the udp and sudp proxy.</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">udp_packet_size</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">1500</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Enable golang pprof handlers in dashboard listener.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Dashboard port must be set first</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pprof_enable</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[plugin.user-manager]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">addr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">127.0.0.1:9000</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/handler</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ops</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">Login</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[plugin.port-manager]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">addr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">127.0.0.1:9001</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">path</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">/handler</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">ops</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">NewProxy</span>
</span></span></code></pre></div><p>é…ç½®å®Œæˆä¹‹å</p>
<p><code>/etc/init.d/frps start</code></p>
<p><code>å…¬ç½‘IP:dashboard_port</code>è®¿é—®ç®¡ç†é¢æ¿</p>
<h3 id="å®¢æˆ·ç«¯é…ç½®">å®¢æˆ·ç«¯é…ç½®</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ini" data-lang="ini"><span style="display:flex;"><span><span style="color:#66d9ef">[common]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">server_addr</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">æœåŠ¡ç«¯å…¬ç½‘IP #æœåŠ¡ç«¯bind_addr</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">server_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">7000 #æœåŠ¡ç«¯bind_port</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">token</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">æœåŠ¡ç«¯auth_token</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[æœåŠ¡åå­—]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿œç¨‹è®¿é—®ç«¯å£</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">remote_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">8888</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">tcp</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">local_ip</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">192.168.1.9</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">local_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">8888</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[æœåŠ¡åå­—]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¿œç¨‹è®¿é—®ç«¯å£</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">remote_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">8889</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">type</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">tcp</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">local_ip</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">192.168.1.77</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">local_port</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">8889</span>
</span></span></code></pre></div><p>å¯åŠ¨</p>
<p><code>./frpc -c ./frpc.ini</code></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>NFC å¤åˆ¶æ¨¡æ‹Ÿé—¨ç¦å¡</title>
      <link>https://blog.zsan.cf/posts/nfc-card-simulation-access-control/</link>
      <pubDate>Mon, 13 Mar 2023 13:35:25 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/nfc-card-simulation-access-control/</guid>
      <description>iOSæ‰‹æœºç”¨å¡è´´æ”¯æŒæ¨¡æ‹Ÿé—¨ç¦</description>
      <content:encoded><![CDATA[<blockquote>
<p>å¿…å¤‡ï¼šNFCå¡è´´</p>
<p>androidæ‰‹æœºæ”¯æŒNFC</p>
</blockquote>
<h1 id="1ä¹°å¡è´´">1ã€ä¹°å¡è´´</h1>
<p>æ‹¼å¤•å¤•ä¹°CUIDå¡å°±è¡Œäº†ï¼Œå¤§å¤šæ•°å¯ä»¥ç”¨</p>
<h1 id="2å…‹éš†">2ã€å…‹éš†</h1>
<p>Android ä¸‹è½½Â <a href="https://github.com/ikarus23/MifareClassicTool">Mifare Classic Tool</a></p>
<p>å…³é”®æ“ä½œæ­¥éª¤ï¼š</p>
<p>1ã€è¯»æ ‡ç­¾</p>
<p>é€‰æ‹©<code>è¯»æ ‡ç­¾</code>ï¼Œç„¶åæŠŠé—¨å¡è´´åœ¨æ‰‹æœºnfcä½ç½®ï¼Œä¹‹åç‚¹<code>å¼€å§‹æ˜ å°„å¹¶è¯»å–æ ‡ç­¾</code>ï¼Œå°±å¯ä»¥è¯»å–åˆ°äº†ï¼Œè‡³äºkeyï¼Œå¯ä»¥å…¨é€‰æˆ–è€…é€‰æ‹©ä¸€ä¸ªè¯•è¯•å°±è¡Œäº†ã€‚</p>
<p>ç„¶åç‚¹å‡»å³ä¸Šè§’èœå•ï¼Œé€‰æ‹©<code>å†™è½¬å‚¨</code>å°±å¯ä»¥åˆ°å†™å…¥ç•Œé¢äº†ã€‚</p>
<p>2ã€å†™æ ‡ç­¾</p>
<p>åœ¨ä¸Šä¸€æ­¥ä¸­è½¬åˆ°<code>å†™è½¬å‚¨</code>ç•Œé¢ï¼Œç›´æ¥ç‚¹å‡»<code>å†™è½¬å‚¨</code>ï¼Œç„¶åé»˜è®¤å…¨é€‰æ‰‡åŒºå°±å¯ä»¥äº†ï¼Œè´´ä¸Šä¹°çš„nfcå¡è´´åï¼Œç‚¹å‡»okå°±å¯ä»¥äº†ï¼Œä¸å‡ºæ„å¤–çš„è¯å°±å¯ä»¥å†™æˆåŠŸäº†ã€‚</p>
<p>3ã€å…‹éš†uidï¼ˆéå¿…é€‰ï¼‰</p>
<p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œå…‹éš†çš„å¡å¯ä»¥è¿›å…¥å°åŒºå¤§é—¨ï¼Œä½†æ˜¯å¯¹äºæ¥¼æ ‹çš„ç”µæ¢¯é—¨ï¼Œæ˜¯æ²¡åŠæ³•åˆ·çš„ï¼Œå¯¹æ¯”äº†é—¨ç¦å¡å’Œå¡è´´ï¼Œå‘ç°å¡è´´çš„idå’Œé—¨ç¦å¡ä¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬å†åšä¸€ä¸ªå…‹éš†uidæ“ä½œã€‚</p>
<p>åœ¨é¦–é¡µ<code>å†™æ ‡ç­¾</code>è¿›å…¥åï¼Œé€‰æ‹©<code>å…‹éš†uid</code>ï¼Œç„¶åè´´ä¸Šæˆ‘ä»¬çš„é—¨ç¦å¡ï¼Œæ­¤æ—¶å‘ç°å…‹éš†çš„UIDçš„idå‘ç”Ÿå˜åŒ–äº†ï¼Œç„¶åé€‰æ‹©<code>è®¡ç®—0å¹¶å…‹éš†UID</code>ï¼Œç„¶åè´´ä¸Šå¡è´´ï¼Œä¹‹åå°±å¯ä»¥å•¦ã€‚</p>
<p>å¯ä»¥æ‹¿ç€å»é—¨å£è¯•è¯•äº†</p>
<blockquote>
<p>å‚è€ƒï¼š</p>
<p><a href="https://yanke.info/?id=171">nfcå¡è´´æ¨¡æ‹Ÿé—¨ç¦å¡</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>SillyGril&amp;QQbotä¸€é”®éƒ¨ç½²</title>
      <link>https://blog.zsan.cf/posts/sillygril-qqbot-deploy/</link>
      <pubDate>Wed, 31 Aug 2022 14:03:46 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/sillygril-qqbot-deploy/</guid>
      <description>ä¸€ã€docker-compose ç¼–æ’æ–‡ä»¶ åˆ›å»ºdocker-compose.yamlæ–‡ä»¶å¹¶æ‹·è´ä¸‹é¢å†…å®¹
version: &amp;#34;3&amp;#34; services: go-cqhttp: image: mzzsfy/go-cqhttp:latest container_name: go-cqhttp volumes: - ./data:/data restart: always environment: # - token=$Yourtoken #æ›¿æ¢ä¸ºè‡ªå·±ç”Ÿæˆçš„token - ws_url=&amp;#39;ws://sillygirl:8080/qq/receive&amp;#39; - TZ=Asia/Shanghai networks: - sillygirl depends_on: - sillygirl sillygirl: image: mzzsfy/sillygirl:latest container_name: sillygirl volumes: - ./sillyGirl:/etc/sillyGirl restart: always environment: # - set__qq__token=$Yourtoken #æ›¿æ¢ä¸ºè‡ªå·±ç”Ÿæˆçš„token - TZ=Asia/Shanghai networks: - sillygirl networks: sillygirl: docker-compsoe up -d å¯åŠ¨
docker-compose logs -f æŸ¥çœ‹æ—¥å¿—
äºŒã€FAQ 1ã€go-cqhttp æ‰«ç å¤±è´¥ é—®é¢˜è§£å†³ äº‘æœåŠ¡å™¨å¯¼è‡´ å¯ä»¥åœ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆä¸æ‰‹æœºqqæ‰«ç åœ¨åŒä¸€å±€åŸŸç½‘å†…ï¼‰å¯åŠ¨æœåŠ¡ï¼Œç”Ÿæˆsession.token å¤åˆ¶åˆ°äº‘æœåŠ¡å™¨ç›¸åŒç›®å½•ä¸‹
çœ‹è¿™é‡Œè§£å†³
2ã€go-cqhttp å»ºè®®ä¿®æ”¹ä¸ºæ‰‹è¡¨ç™»å½• é¦–å…ˆè¿è¡Œä¸€ä¸‹ï¼Œä¼šç”Ÿæˆdevice.json
æ‰¾åˆ°protocolå­—æ®µä¿®æ”¹ä¸º2
ä½ å¯èƒ½ä¼šç”¨åˆ°çš„ä¸€äº›èµ„æ–™
https://hub.docker.com/r/mzzsfy/sillygirl
https://hub.docker.com/r/mzzsfy/go-cqhttp
go-cqhttpé…ç½®</description>
      <content:encoded><![CDATA[<h3 id="ä¸€docker-compose-ç¼–æ’æ–‡ä»¶">ä¸€ã€docker-compose ç¼–æ’æ–‡ä»¶</h3>
<p>åˆ›å»º<code>docker-compose.yaml</code>æ–‡ä»¶å¹¶æ‹·è´ä¸‹é¢å†…å®¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">go-cqhttp</span>:
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">image</span>: <span style="color:#ae81ff">mzzsfy/go-cqhttp:latest</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">go-cqhttp</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">./data:/data</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#    - token=$Yourtoken #æ›¿æ¢ä¸ºè‡ªå·±ç”Ÿæˆçš„token</span>
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">ws_url=&#39;ws://sillygirl:8080/qq/receive&#39;</span>
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">TZ=Asia/Shanghai</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">sillygirl</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">depends_on</span>:
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">sillygirl</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">sillygirl</span>:
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">image</span>: <span style="color:#ae81ff">mzzsfy/sillygirl:latest</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">sillygirl   </span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">./sillyGirl:/etc/sillyGirl</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#    - set__qq__token=$Yourtoken #æ›¿æ¢ä¸ºè‡ªå·±ç”Ÿæˆçš„token</span>
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">TZ=Asia/Shanghai</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">sillygirl</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">sillygirl</span>:
</span></span></code></pre></div><p><code>docker-compsoe up -d</code> å¯åŠ¨</p>
<p><code>docker-compose logs -f</code> æŸ¥çœ‹æ—¥å¿—</p>
<h3 id="äºŒfaq">äºŒã€FAQ</h3>
<h4 id="1go-cqhttp-æ‰«ç å¤±è´¥-é—®é¢˜è§£å†³-äº‘æœåŠ¡å™¨å¯¼è‡´">1ã€go-cqhttp æ‰«ç å¤±è´¥ é—®é¢˜è§£å†³ äº‘æœåŠ¡å™¨å¯¼è‡´</h4>
<p>å¯ä»¥åœ¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆä¸æ‰‹æœºqqæ‰«ç åœ¨åŒä¸€å±€åŸŸç½‘å†…ï¼‰å¯åŠ¨æœåŠ¡ï¼Œç”Ÿæˆsession.token å¤åˆ¶åˆ°äº‘æœåŠ¡å™¨ç›¸åŒç›®å½•ä¸‹</p>
<p><a href="https://github.com/Mrs4s/go-cqhttp/issues/1469">çœ‹è¿™é‡Œè§£å†³</a></p>
<h4 id="2go-cqhttp-å»ºè®®ä¿®æ”¹ä¸ºæ‰‹è¡¨ç™»å½•">2ã€go-cqhttp å»ºè®®ä¿®æ”¹ä¸ºæ‰‹è¡¨ç™»å½•</h4>
<p>é¦–å…ˆè¿è¡Œä¸€ä¸‹ï¼Œä¼šç”Ÿæˆ<code>device.json</code></p>
<p>æ‰¾åˆ°<code>protocol</code>å­—æ®µä¿®æ”¹ä¸º2</p>
<hr>
<blockquote>
<p>ä½ å¯èƒ½ä¼šç”¨åˆ°çš„ä¸€äº›èµ„æ–™</p>
<p><a href="https://hub.docker.com/r/mzzsfy/sillygirl">https://hub.docker.com/r/mzzsfy/sillygirl</a></p>
<p><a href="https://hub.docker.com/r/mzzsfy/go-cqhttp">https://hub.docker.com/r/mzzsfy/go-cqhttp</a></p>
<p><a href="https://docs.go-cqhttp.org/guide/config.html#%E8%AE%BE%E5%A4%87%E4%BF%A1%E6%81%AF">go-cqhttpé…ç½®</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>ç”¨PWA æ”¹é€ WEB ä¸ºåŸç”ŸApp</title>
      <link>https://blog.zsan.cf/posts/pwa-retrofitting/</link>
      <pubDate>Sun, 07 Aug 2022 16:28:27 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/pwa-retrofitting/</guid>
      <description>PWAä½¿WEBç½‘ç«™æ›´ä¸æ»‘</description>
      <content:encoded><![CDATA[<blockquote>
<p>æœ€è¿‘é—²æ¥æ— äº‹ï¼ŒæŠŠç½‘ç«™å‡çº§äº†ï¼Œæ›´åŠ åƒåŸç”ŸAPP</p>
<p>è®°å½•ä¸‹å‡çº§è¿‡ç¨‹ï¼Œå…å¾—ä»¥åå¿˜äº†</p>
<p>PWAæ˜¯ä»€ä¹ˆï¼Ÿå¯ä»¥å»ç½‘ä¸Šæœä¸€ä¸‹ï¼Œbutä¸­æ–‡æ–‡ç« å°‘ä¸€ç‚¹</p>
<p>ç”¨Google å°è£…çš„ å¥½çš„ workbox æ¥å‡çº§</p>
</blockquote>
<h2 id="æ³¨å†Œservice-worker">æ³¨å†ŒService Worker</h2>
<p>åœ¨htmlé¡µé¢æ³¨å†Œ SW</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (<span style="color:#e6db74">&#39;serviceWorker&#39;</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">navigator</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">navigator</span>.<span style="color:#a6e22e">serviceWorker</span>.<span style="color:#a6e22e">getRegistrations</span>()
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">regs</span> =&gt; {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">reg</span> <span style="color:#66d9ef">of</span> <span style="color:#a6e22e">regs</span>) {
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">// æ³¨é”€æ‰ä¸æ˜¯å½“å‰ä½œç”¨åŸŸçš„æ‰€æœ‰çš„ Service Worker
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                     <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">reg</span>.<span style="color:#a6e22e">scope</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;http://localhost:8000/&#39;</span>) {
</span></span><span style="display:flex;"><span>                        <span style="color:#a6e22e">reg</span>.<span style="color:#a6e22e">unregister</span>()
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// æ³¨é”€æ‰æ±¡æŸ“ Service Worker ä¹‹åå†é‡æ–°æ³¨å†Œè‡ªå·±ä½œç”¨åŸŸçš„ Service Worker
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;load&#39;</span>, () =&gt; {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">navigator</span>.<span style="color:#a6e22e">serviceWorker</span>.<span style="color:#a6e22e">register</span>(<span style="color:#e6db74">&#39;./sw.js&#39;</span>).<span style="color:#a6e22e">then</span>(<span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">e</span>) { <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;æ”¯æŒsw:&#34;</span>, <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">scope</span>) })
</span></span><span style="display:flex;"><span>                })
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</span></span></code></pre></div><h2 id="ç”Ÿæˆswjsæ–‡ä»¶">ç”ŸæˆSW.jsæ–‡ä»¶</h2>
<h3 id="google-cdn">google cdn</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">importScripts</span>(<span style="color:#e6db74">&#34;  &#39;https://storage.googleapis.com/workbox-cdn/releases/6.1.1/workbox-sw.js&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;</span>);
</span></span></code></pre></div><p>å›½å†…å»ºè®®ä¸ä½¿ç”¨Google</p>
<h3 id="jsdelivr-cdn">jsdelivr cdn</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">importScripts</span>(<span style="color:#e6db74">&#34;https://fastly.jsdelivr.net/npm/workbox-sw@6.5.4/build/workbox-sw.min.js&#34;</span>);
</span></span></code></pre></div><h2 id="swjs-ç¼–å†™">SW.js ç¼–å†™</h2>
<h3 id="é…ç½®ç›¸å…³">é…ç½®ç›¸å…³</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">setConfig</span>(
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// æ˜¯å¦å¼€å¯debug
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">debug</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">cacheSuffixVersion</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;-220806&#39;</span>; <span style="color:#75715e">// ç¼“å­˜ç‰ˆæœ¬å·
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">maxEntries</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>; <span style="color:#75715e">// æœ€å¤§æ¡ç›®æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">core</span>.<span style="color:#a6e22e">setCacheNameDetails</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">prefix</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zsan&#39;</span>, <span style="color:#75715e">// å‰ç¼€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">suffix</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">cacheSuffixVersion</span>, <span style="color:#75715e">// åç¼€
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//æ£€æµ‹æ˜¯å¦å®‰è£…æˆåŠŸ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">workbox</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Yay! Workbox is loaded ğŸ‰&#34;</span>)
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Boo! Workbox didn&#39;t load ğŸ˜¬&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="é¢„ç¼“å­˜æ–‡ä»¶">é¢„ç¼“å­˜æ–‡ä»¶</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">cacheFiles</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;/index.html&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">revision</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">cacheSuffixVersion</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">precaching</span>.<span style="color:#a6e22e">precacheAndRoute</span>(<span style="color:#a6e22e">cacheFiles</span>);
</span></span></code></pre></div><h2 id="workboxç­–ç•¥">workboxç­–ç•¥</h2>
<h3 id="cdnç­–ç•¥">cdnç­–ç•¥</h3>
<p>å¯¹äºä¸€äº›cdnçš„ä½¿ç”¨ï¼Œä½¿ç”¨CacheFirst ç¼“å­˜ä¼˜å…ˆç­–ç•¥ï¼Œæ­¤ç­–ç•¥å°†é¦–å…ˆæ£€æŸ¥ç¼“å­˜ä¸­æ˜¯å¦æœ‰å“åº”ï¼Œå¦‚æœæœ‰å“åº”ï¼Œåˆ™ä½¿ç”¨è¯¥ç­–ç•¥ã€‚å¦‚æœè¯·æ±‚ä¸åœ¨ç¼“å­˜ä¸­ï¼Œåˆ™å°†ä½¿ç”¨ç½‘ç»œï¼Œå¹¶å°†ä»»ä½•æœ‰æ•ˆå“åº”æ·»åŠ åˆ°ç¼“å­˜ä¸­ï¼Œç„¶åå†ä¼ é€’ç»™æµè§ˆå™¨ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">routing</span>.<span style="color:#a6e22e">registerRoute</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#39;^https://fastly\\.jsdelivr\\.net&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">strategies</span>.<span style="color:#a6e22e">CacheFirst</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">cacheName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;static-immutable&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">cacheSuffixVersion</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fetchOptions</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;cors&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">credentials</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;omit&#39;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">expiration</span>.<span style="color:#a6e22e">ExpirationPlugin</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">maxAgeSeconds</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">24</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">purgeOnQuotaError</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>            }),
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><h3 id="å­—ä½“æ–‡ä»¶">å­—ä½“æ–‡ä»¶</h3>
<p>å¯¹äºå­—ä½“æ–‡ä»¶ï¼ŒåŸºæœ¬ä¸Šç¡®å®šå¥½å°±ä¸ä¼šæ”¹åŠ¨äº†ï¼Œè¿™é‡Œä½¿ç”¨StaleWhileRevalidateï¼Œæ­¤ç­–ç•¥å°†å¯¹ç½‘ç»œè¯·æ±‚ä½¿ç”¨ç¼“å­˜æ¥å“åº”ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œå¹¶åœ¨åå°æ›´æ–°ç¼“å­˜ã€‚å¦‚æœæœªç¼“å­˜ï¼Œå®ƒå°†ç­‰å¾…ç½‘ç»œå“åº”å¹¶ä½¿ç”¨å®ƒã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">routing</span>.<span style="color:#a6e22e">registerRoute</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// åŒ¹é… woff å­—ä½“
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#39;.*.woff&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">strategies</span>.<span style="color:#a6e22e">StaleWhileRevalidate</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// cache storage åç§°å’Œç‰ˆæœ¬å·
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">cacheName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;font-cache&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">cacheSuffixVersion</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">plugins</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// ä½¿ç”¨ expiration æ’ä»¶å®ç°ç¼“å­˜æ¡ç›®æ•°ç›®å’Œæ—¶é—´æ§åˆ¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">expiration</span>.<span style="color:#a6e22e">ExpirationPlugin</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// æœ€å¤§ä¿å­˜é¡¹ç›®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">maxEntries</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// ç¼“å­˜ 30 å¤©
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">maxAgeSeconds</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">24</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span>,
</span></span><span style="display:flex;"><span>            }),
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// ä½¿ç”¨ cacheableResponse æ’ä»¶ç¼“å­˜çŠ¶æ€ç ä¸º 0 çš„è¯·æ±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">cacheableResponse</span>.<span style="color:#a6e22e">CacheableResponsePlugin</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">statuses</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">200</span>],
</span></span><span style="display:flex;"><span>            }),
</span></span><span style="display:flex;"><span>        ],
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><h3 id="apièµ„æº">APIèµ„æº</h3>
<p>APIæ•°æ®çš„è¯·æ±‚ä½¿ç”¨NetworkFirst ç­–ç•¥ï¼Œæ­¤ç­–ç•¥å°†å°è¯•é¦–å…ˆä»ç½‘ç»œè·å¾—å“åº”ã€‚å¦‚æœæ”¶åˆ°å“åº”ï¼Œå®ƒå°†æŠŠå®ƒä¼ é€’ç»™æµè§ˆå™¨ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ°ç¼“å­˜ä¸­ã€‚å¦‚æœç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œå°†ä½¿ç”¨æœ€åä¸€ä¸ªç¼“å­˜çš„å“åº”ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">routing</span>.<span style="color:#a6e22e">registerRoute</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// åŒ¹é… leancloudapi.xsbb.ml
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#39;^https://(?:blog\\.zsan\\.ml)&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">strategies</span>.<span style="color:#a6e22e">NetworkFirst</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// cache storage åç§°å’Œç‰ˆæœ¬å·
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">cacheName</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;blog-api-cache&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">cacheSuffixVersion</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">fetchOptions</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">mode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;cors&#39;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">credentials</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;omit&#39;</span>,
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">networkTimeoutSeconds</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><h3 id="google-analytics">Google-Analytics</h3>
<p>å®˜æ–¹æœ‰<a href="https://developers.google.com/web/tools/workbox/guides/enable-offline-analytics">Google Analytics ç¦»çº¿ç»Ÿè®¡æ’ä»¶</a>,ä½†æ˜¯è‹±æ–‡çš„ï¼Œç›¸å…³èµ„æ–™ä¹Ÿå°‘ï¼ŒæŠ˜è…¾äº†å¥½ä¸€é˜µå­</p>
<p>1ã€ç®€å•ç‚¹ï¼Œä¸€å¥ä»£ç å°±è¡Œ,æ³¨æ„ç”¨è¿™ä¸ªæ—¶å€™ï¼Œheadé‡Œçš„ä»£ç éœ€è¦æ˜¯å®˜æ–¹è·å–çš„æœ€æ–°çš„</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">googleAnalytics</span>.<span style="color:#a6e22e">initialize</span>()
</span></span></code></pre></div><p>2ã€å¸¦ç¦»çº¿ç»Ÿè®¡</p>
<p>éœ€è¦å»Google analytics æ·»åŠ è‡ªå®šä¹‰æŒ‡æ ‡å’Œè‡ªå®šä¹‰ç»´åº¦</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">googleAnalytics</span>.<span style="color:#a6e22e">initialize</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">parameterOverrides</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">cd1</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;offline&#39;</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">hitFilter</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">params</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">queueTimeInSeconds</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">round</span>(<span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;qt&#39;</span>) <span style="color:#f92672">/</span> <span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">params</span>.<span style="color:#a6e22e">set</span>(<span style="color:#e6db74">&#39;cm1&#39;</span>, <span style="color:#a6e22e">queueTimeInSeconds</span>);
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h3 id="å…¶ä»–åç¼€åŒ¹é…">å…¶ä»–åç¼€åŒ¹é…</h3>
<p>ä¿è¯ä½“éªŒè‰¯å¥½</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">routing</span>.<span style="color:#a6e22e">registerRoute</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#39;.*.(?:png|jpg|jpeg|svg|gif|webp|ico)&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">strategies</span>.<span style="color:#a6e22e">StaleWhileRevalidate</span>()
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">routing</span>.<span style="color:#a6e22e">registerRoute</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> RegExp(<span style="color:#e6db74">&#39;.*.(css|js)&#39;</span>),
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">strategies</span>.<span style="color:#a6e22e">StaleWhileRevalidate</span>()
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// é»˜è®¤
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">routing</span>.<span style="color:#a6e22e">setDefaultHandler</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">workbox</span>.<span style="color:#a6e22e">strategies</span>.<span style="color:#a6e22e">NetworkFirst</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">networkTimeoutSeconds</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>,
</span></span><span style="display:flex;"><span>    })
</span></span><span style="display:flex;"><span>);
</span></span></code></pre></div><p>æ”¹é€ å®Œæˆï¼Œå°½æƒ…äº«ç”¨ğŸ‰</p>
<h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h2>
<blockquote>
<p><a href="https://blog.baoshuo.ren/post/workbox-service-worker/">åˆè¯† Service Worker â€”â€” ä½¿ç”¨ Workbox å¿«é€Ÿå¼€å‘ Service Worker - å®ç¡•åšå®¢</a></p>
<p><a href="https://pwa.alienzhou.com/">PWAæ¥äº†ï¼Œä½ å‡†å¤‡å¥½äº†ä¹ˆï¼Ÿ - PWAå­¦ä¹ æ‰‹å†Œ</a></p>
<p><a href="https://lavas-project.github.io/pwa-book/">HOME Â· PWA åº”ç”¨å®æˆ˜</a></p>
<p><a href="https://developer.chrome.com/docs/workbox/service-worker-overview/">Service worker overview - Chrome Developers</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>åœ¨Cloudflare è®¾ç½®åŸŸå 301 é‡å®šå‘</title>
      <link>https://blog.zsan.cf/posts/cloudflare-301-set/</link>
      <pubDate>Sun, 31 Jul 2022 19:54:01 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/cloudflare-301-set/</guid>
      <description>åœ¨Cloudflare è®¾ç½®åŸŸå 301 é‡å®šå‘ æœ‰ç‚¹å°å‘</description>
      <content:encoded><![CDATA[<blockquote>
<p>å¾ˆä¹…ä»¥å‰é‡åˆ°çš„é—®é¢˜äº†ï¼Œç”¨cloudflare è®¾ç½®æœ‰å¤§å‘ï¼Œä»Šå¤©æ¥è®°å½•ä¸‹</p>
<p>ä¹‹å‰ç½‘ç«™çš„åŸŸåéœ€è¦æ›´æ¢ï¼Œblogç­‰åŸŸåä¹Ÿéœ€è¦ä»æ—§åŸŸååˆ°æ–°åŸŸå</p>
</blockquote>
<p>æ—§åŸŸåï¼šolddona.com</p>
<p>æ–°åŸŸåï¼šnewdona.com</p>
<p>ç°åœ¨éœ€è¦è®¿é—® olddona.com æ—¶è·³è½¬åˆ° newdona.com</p>
<p>1ã€clourflare ä¸Š dns è§£æ olddona.com</p>
<p>ç™»å½•clourflareã€ç‚¹å‡» dnsã€ç‚¹å‡»æ·»åŠ ä¸€æ¡aè®°å½•</p>
<blockquote>
<p>ç±»å‹ï¼šA</p>
<p>åç§°ï¼šolddona.com</p>
<p>ipv4åœ°å€ï¼š8.8.8.8</p>
</blockquote>
<p>psï¼šipv4 åœ°å€ä¸€å®šè¦å¡«ä¸€ä¸ªå¯ç”¨çš„ï¼Œè¿™æ˜¯ä¸ªå‘</p>
<p>2ã€cloudflare æ·»åŠ é‡å®šå‘</p>
<ol>
<li>
<p>ç‚¹å‡»è§„åˆ™</p>
</li>
<li>
<p>ç‚¹å‡»åˆ›å»ºé¡µé¢è§„åˆ™</p>
</li>
<li>
<blockquote>
<p>url: olddona.com/*</p>
<p>é€‰å–è®¾ç½®ï¼šè½¬å‘URLã€301æ°¸ä¹…</p>
<p>è¾“å…¥ç›®æ ‡URLï¼šhttps://newdona.com/$1</p>
</blockquote>
</li>
</ol>
<p>ä¿å­˜ä¹‹åï¼Œå»è®¿é—®olddona.com å¯ä»¥è·³åˆ° newdona.com æˆåŠŸğŸ‰</p>
<p>ä¹Ÿå¯ä»¥è¯•ä¸‹olddona.com/* æ˜¯å¦æˆåŠŸè·³è½¬å³å¯</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Mac Brew Tab å‘½ä»¤è‡ªåŠ¨è¡¥å…¨</title>
      <link>https://blog.zsan.cf/posts/mac-brew-tab/</link>
      <pubDate>Tue, 26 Jul 2022 22:17:56 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/mac-brew-tab/</guid>
      <description>Macç³»ç»Ÿä¸‹brew æŒ‰tabå‘½ä»¤ è‡ªåŠ¨è¡¥å…¨</description>
      <content:encoded><![CDATA[<blockquote>
<p>mac armç‰ˆ 2021ç‰ˆçš„brew ä¸€é”®å®‰è£…å å‘½ä»¤ æŒ‰tab ä¸èƒ½è¡¥å…¨ï¼Œä»Šå¤©æœ‰ç‚¹é—²ï¼Œå°±æœäº†ä¸€ä¸‹ï¼Œç»™è§£å†³äº†</p>
<p>ç”¨çš„ Oh My Zshï¼Œå®˜æ–¹æ–‡æ¡£é‡Œå†™çš„å¾ˆè¯¦ç»†ï¼Œä¸è¿‡æ˜¯è‹±æ–‡çš„ï¼Œè¿™é‡Œç»™ç¿»è¯‘è®°å½•ä¸‹</p>
</blockquote>
<p>1ã€åœ¨ ~/.zshrc é‡Œæ·»åŠ ä¸‹é¢code</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> type brew &amp;&gt;/dev/null
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  FPATH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --prefix<span style="color:#66d9ef">)</span><span style="color:#e6db74">/share/zsh/site-functions:</span><span style="color:#e6db74">${</span>FPATH<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  autoload -Uz compinit
</span></span><span style="display:flex;"><span>  compinit
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>2ã€åœ¨ ~/.zprofile é‡Œæ·»åŠ ä¸‹é¢code</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>FPATH<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --prefix<span style="color:#66d9ef">)</span><span style="color:#e6db74">/share/zsh/site-functions:</span><span style="color:#e6db74">${</span>FPATH<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><p>3ã€å¼ºåˆ¶é‡å»º<code>zcompdump</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm -f ~/.zcompdump; compinit
</span></span></code></pre></div><p>4ã€å¦‚æœå‡ºç° zsh compinit: insecure directory è­¦å‘Š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>chmod -R go-w <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>brew --prefix<span style="color:#66d9ef">)</span><span style="color:#e6db74">/share&#34;</span>
</span></span></code></pre></div><p>å‚è€ƒï¼š</p>
<blockquote>
<p><a href="https://docs.brew.sh/Shell-Completion">Homebrew Shell Completion â€” Homebrew Documentation</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>ä½æˆæœ¬æ­å»ºé«˜è´¨é‡æ’­å®¢å‘å¸ƒæœåŠ¡</title>
      <link>https://blog.zsan.cf/posts/how-to-make-podcast/</link>
      <pubDate>Tue, 12 Jul 2022 22:04:47 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/how-to-make-podcast/</guid>
      <description>ç”¨æ’­å®¢åœ¨iPhoneä¸Šå¬é‚£äº›è‡ªå·±å–œæ¬¢çš„æ­Œæ›²</description>
      <content:encoded><![CDATA[<blockquote>
<p>å¼•è¨€ï¼šæœ€è¿‘ç”¨äº†iPhoneæ‰‹æœºï¼Œå¬Apple musicçš„æ—¶å€™ï¼Œæœ‰äº›å–œæ¬¢çš„æ­Œæ›²å¹¶æ²¡æœ‰ï¼Œæƒ³ä¸‹è½½åˆ°æœ¬åœ°ä½†ç”±äºiOSçš„ç”Ÿæ€å°é—­ï¼Œæ“ä½œå¤ªéº»çƒ¦ï¼›</p>
<p>åœ¨å¯»æ‰¾è§£å†³æ–¹æ¡ˆæ—¶å‘ç°ç”¨è‡ªå»ºæ’­å®¢æ¥å®ç°ä¸‹è½½éŸ³ä¹æ–¹æ¡ˆå¯è¡Œï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢çš„æ•™ç¨‹</p>
</blockquote>
<h2 id="what">What</h2>
<p>æ’­å®¢ï¼ˆpodcastï¼‰åˆ›ä½œè€…å°†éŸ³é¢‘æˆ–è§†é¢‘ä¸Šä¼ è‡³<a href="https://zh.wikipedia.org/wiki/RSS" title="RSS">RSS</a>æˆ–åœ¨çº¿æ’­å®¢å¹³å°ï¼Œå¬ä¼—æˆ–è§‚ä¼—åˆ™é€šè¿‡<a href="https://zh.wikipedia.org/wiki/%E8%BB%9F%E4%BB%B6" title="è½¯ä»¶">è½¯ä»¶</a>è·å–èŠ‚ç›®æ›´æ–°ã€‚</p>
<h2 id="how">How</h2>
<p>åˆ¶ä½œè¿‡ç¨‹ä¸è¯´äº†ï¼Œæ¥è°ˆè°ˆå‘å¸ƒè¿‡ç¨‹ï¼Œå¾ˆç®€å•ï¼Œä¸€ä¸ªæ”¯æŒRSSçš„ç½‘ç«™å‘å¸ƒéŸ³é¢‘ä¿¡æ¯ä¾›ç”¨æˆ·æ‹‰å–ï¼Œä¸€ä¸ªéŸ³é¢‘æ‰˜ç®¡å¹³å°å­˜æ”¾éŸ³é¢‘</p>
<ul>
<li>ç½‘ç«™ç›´æ¥Hugoæ­å»ºï¼Œç”¨zenä¸»é¢˜æ”¯æŒpodcastï¼Œæ”¾åœ¨GitHub pageä¸Šï¼ŒåŸŸåå¯ä»¥åœ¨freedomä¸Šæ³¨å†Œï¼Œç”¨cloudflare DNSè§£æå’ŒåŠ é€Ÿ</li>
</ul>
<p>hugo æ­å»ºæ’­å®¢</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#æ–°å»ºç½‘ç«™</span>
</span></span><span style="display:flex;"><span>hugo new site podcast
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å®‰è£… zenä¸»é¢˜</span>
</span></span><span style="display:flex;"><span>git clone https://github.com/frjo/hugo-theme-zen.git themes/zen
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#åœ¨contentå†…æ–°å»ºpodcastæ–‡ä»¶å¤¹ï¼Œæ­¤é¡µé¢å†…æ–°å¢éŸ³é¢‘</span>
</span></span><span style="display:flex;"><span>cd content
</span></span><span style="display:flex;"><span>mkdir podcast
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#podcastçš„ä¸€äº›è®¾ç½®</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è®¾ç½®çš„å›¾ç‰‡ï¼Œéœ€è¦ç°åœ¨æ ¹ç›®å½•æ–°å»º assets/images ç›®å½•ï¼Œå–ç›¸å¯¹è·¯å¾„å³å¯</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#podcast éŸ³é¢‘ä¸‹é¢æ˜¾ç¤ºé“¾æ¥ï¼Œå¦‚ä½•å–æ¶ˆ</span>
</span></span><span style="display:flex;"><span>vim layouts/partials/podcast.html
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ³¨é‡Šæ‰ä¸‹é¢è¡Œ</span>
</span></span><span style="display:flex;"><span>&lt;figcaption&gt;&lt;a href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;{{ </span>$src<span style="color:#e6db74"> }}&#34;</span>&gt;<span style="color:#f92672">{{</span> .Title <span style="color:#f92672">}}</span>&lt;/a&gt;&lt;/figcaption&gt;
</span></span></code></pre></div><p>podcast é…ç½®</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#75715e">#æ–‡ç« é¡¶éƒ¨æ–°å¢å‚æ•°</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">podcast</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">mp3</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">duration</span>:
</span></span></code></pre></div><ul>
<li>éŸ³é¢‘æ‰˜ç®¡å¹³å°è‡ªå»ºmininæœåŠ¡å­˜å‚¨éŸ³é¢‘</li>
</ul>
<p>minioæœåŠ¡å¾ˆå¼ºå¤§ï¼Œæ„Ÿå…´è¶£å¯ä»¥äº†è§£ä¸€ä¸‹</p>
<p>docker éƒ¨ç½²</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.3&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">minio</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">quay.io/minio/minio</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">minio1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">9090</span>:<span style="color:#ae81ff">9090</span>   <span style="color:#75715e">#æ§åˆ¶å°ç«¯å£</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">9000</span>:<span style="color:#ae81ff">9000</span>   <span style="color:#75715e">#APIç«¯å£</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#e6db74">&#39;./data:/data&#39;</span>
</span></span><span style="display:flex;"><span>        - <span style="color:#e6db74">&#39;./config:/root/.minio&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MINIO_ROOT_USER</span>: <span style="color:#ae81ff">admin    </span> <span style="color:#75715e">#ç®¡ç†ç”¨æˆ·å</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">MINIO_ROOT_PASSWORD</span>: <span style="color:#ae81ff">admin  </span> <span style="color:#75715e">#ç®¡ç†å¯†ç </span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">command</span>: <span style="color:#ae81ff">server /data --console-address &#39;:9090&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span></code></pre></div><p>éƒ¨ç½²æˆåŠŸï¼Œip:9090è®¿é—®ç™»å½•</p>
<p>æ§åˆ¶å°æ“ä½œ</p>
<p>1ã€åˆ›å»ºå­˜å‚¨æ¡¶</p>
<p>create bucket</p>
<p>2ã€ç‚¹å‡»manageï¼ŒAccess Rules</p>
<p>add rule</p>
<div>
prefixï¼š*.* </br>
access:readonly
</div>
<p>3ã€ä¸Šä¼ éŸ³é¢‘</p>
<p>4ã€åˆ†äº«æ–‡ä»¶ï¼Œé“¾æ¥åœ°å€ å¤åˆ¶å‡ºæ¥ï¼Œå‰é¢ipæ¢æˆå¤–éƒ¨ipå³å¯</p>
<p>æŠŠåœ°å€è´´åœ¨ä¸Šé¢podcast å‚æ•° mp3 çš„åœ°æ–¹</p>
<h2 id="enjoy">enjoy</h2>
<p>è¿™æ ·ç®—ä¸‹æ¥ï¼Œé™¤äº†ç”¨äº†ä¸€å°æœåŠ¡å™¨å¤–ï¼Œå…¶ä»–å…¨éƒ¨è´¹ç”¨ä¸ºé›¶ï¼Œæ€»è´¹ç”¨ç™¾å…ƒä¸åˆ°</p>
<p>éƒ¨ç½²å…¨éƒ¨å®Œæˆï¼Œç‚¹å‡»RSSé“¾æ¥æ”¾åˆ°è®¢é˜…çš„åœ°æ–¹ï¼Œå°½æƒ…äº«ç”¨å§ï¼ğŸ‰</p>
<blockquote>
<p>å‚è€ƒï¼š</p>
<p><a href="https://themes.gohugo.io/themes/hugo-theme-zen/">Zen | Hugo Themes</a></p>
<p><a href="https://github.com/frjo/hugo-theme-zen">GitHub - frjo/hugo-theme-zen: A fast and clean Hugo base theme with css-grid and Hugo pipes support.</a></p>
<p><a href="https://liujiacai.net/blog/2022/01/08/how-to-make-podcast/#headline-7">å¦‚ä½•é›¶æˆæœ¬å¼€å§‹ä¸€æ¡£æ–°æ’­å®¢ - Keep Coding</a></p>
<p><a href="https://help.apple.com/itc/podcasts_connect/#/">è‹¹æœåšå®¢æŒ‡å—</a></p>
<p><a href="https://github.com/minio/minio">GitHub - minio/minio: Multi-Cloud Object Storage</a></p>
<p><a href="https://docs.min.io/docs/minio-quickstart-guide.html">MinIO | The MinIO Quickstart Guide</a></p>
<p><a href="https://blog.foundme.top/archives/154">è‡ªå»ºå¯¹è±¡å­˜å‚¨Minio - åšå®¢å°ç«™</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>Autojs ç¬”è®°</title>
      <link>https://blog.zsan.cf/posts/autojs-notes/</link>
      <pubDate>Sun, 26 Jun 2022 15:08:44 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/autojs-notes/</guid>
      <description>ç”¨autojsåœ¨Androidä¸Šå†™äº›å°è„šæœ¬å§ï¼</description>
      <content:encoded><![CDATA[<blockquote>
<p>æœ€è¿‘è–…ğŸ¦™æ¥è§¦äº†autojsï¼Œåœ¨Androidæ‰‹æœºä¸Šå¯è‡ªåŠ¨åŒ–è¿è¡Œçš„è„šæœ¬ï¼Œä¸ç”¨rootï¼Œå¯ç›´æ¥è¿è¡Œï¼Œè½»é‡å°å·§ï¼Œåº•å±‚è°ƒç”¨Android APIï¼Œè‡ªå·±å¯å°è£…APIğŸ‘</p>
</blockquote>
<h2 id="å®‰è£…">å®‰è£…</h2>
<p>autojsåŸä½œè€…å·²ä¸å†ç»´æŠ¤ï¼Œæ¨å‡ºäº†autojs.proç‰ˆï¼Œæœ‰é’±çš„å¤§ä½¬å¯ä»¥ç›´æ¥å»å®‰è£…ä¸‹è½½ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿå¾ˆå…¨</p>
<p>æ²¡é’±çš„è¯ï¼Œå¯ä»¥ç”¨autoxjsï¼Œä»åŸæœ‰å¼€æºåº“æ¥æ‰‹è¿‡æ¥çš„ï¼Œå¼€æºå…è´¹</p>
<p><a href="https://github.com/kkevsekk1/AutoX">GitHub - kkevsekk1/AutoX: A UiAutomator on android, does not need root access(å®‰å“å¹³å°ä¸Šçš„JavaScriptè‡ªåŠ¨åŒ–å·¥å…·)</a></p>
<h2 id="å¸¸ç”¨è¯­æ³•">å¸¸ç”¨è¯­æ³•</h2>
<h3 id="è·å–è®¾å¤‡ä¿¡æ¯">è·å–è®¾å¤‡ä¿¡æ¯</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// æ‰“å°è¿è¡Œç¯å¢ƒä¿¡æ¯
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;å±å¹•å®½åº¦:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">width</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nå±å¹•é«˜åº¦:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">height</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nbuildId:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">buildId</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nä¸»æ¿:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">board</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nåˆ¶é€ å•†:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">brand</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nå‹å·:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">model</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\näº§å“åç§°:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">product</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nbootloaderç‰ˆæœ¬:&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nbootloaderç‰ˆæœ¬:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">bootloader</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nç¡¬ä»¶åç§°:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">hardware</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nå”¯ä¸€æ ‡è¯†ç :&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">fingerprint</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nIMEI: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">getIMEI</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nAndroidId: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">getAndroidId</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nMac: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">getMacAddress</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">str</span> <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#34;\nAPI: &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">device</span>.<span style="color:#a6e22e">sdkInt</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">str</span>);
</span></span></code></pre></div><h3 id="æ‰“å¼€åº”ç”¨å¸‚åœºappè¯¦æƒ…é¡µ">æ‰“å¼€åº”ç”¨å¸‚åœºappè¯¦æƒ…é¡µ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">//æ‰“å¼€åº”ç”¨å¸‚åœºappè¯¦æƒ…é¡µ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">startAppStore</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">toastLog</span>(<span style="color:#e6db74">&#34;å»åº”ç”¨å¸‚åœº...&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">intent</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">action</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;VIEW&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// type: &#34;image/png&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">parseUri</span>(<span style="color:#e6db74">&#39;market://details?id=&#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">pkgName</span>),
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">flags</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;activity_new_task&#34;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">packageName</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">myDevice</span>(<span style="color:#e6db74">&#34;Markets&#34;</span>),
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">startActivity</span>(<span style="color:#a6e22e">i</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="æ£€æµ‹appå®‰è£…çŠ¶æ€">æ£€æµ‹appå®‰è£…çŠ¶æ€</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#75715e">// é€šè¿‡åˆ¤æ–­åŒ…ååˆ¤æ–­æ˜¯å¦å®‰è£…app
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">getAppName</span>(<span style="color:#a6e22e">pkgName</span>)
</span></span></code></pre></div><h3 id="è·å–å½“å‰æ—¶é—´">è·å–å½“å‰æ—¶é—´</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getCurData</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">now</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Date();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">timeNow</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getFullYear</span>(); <span style="color:#75715e">//å¾—åˆ°å¹´ä»½
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">m</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getMonth</span>() <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;<span style="color:#75715e">//å¾—åˆ°æœˆä»½
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">d</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getDate</span>();<span style="color:#75715e">//å¾—åˆ°æ—¥æœŸ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// let day = now.getDay();//å¾—åˆ°å‘¨å‡ 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">h</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getHours</span>();<span style="color:#75715e">//å¾—åˆ°å°æ—¶æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getMinutes</span>();<span style="color:#75715e">//å¾—åˆ°åˆ†é’Ÿæ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">now</span>.<span style="color:#a6e22e">getSeconds</span>();<span style="color:#75715e">//å¾—åˆ°ç§’æ•°
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">timeNow</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">y</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">m</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">d</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">h</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">s</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// log(timeNow);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">timeNow</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="è°ƒè¯•">è°ƒè¯•</h2>
<p>åœ¨vscodeå†…å®‰è£…<a href="https://marketplace.visualstudio.com/items?itemName=aaroncheng.auto-js-vsce-fixed">è°ƒè¯•æ’ä»¶</a></p>
<blockquote>
<p>1ã€æŒ‰Â <code>Ctrl+Shift+P</code>Â æˆ–ç‚¹å‡»&quot;æŸ¥çœ‹&quot;-&gt;&ldquo;å‘½ä»¤é¢æ¿&quot;å¯è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥Â <code>Autox.js</code>Â å¯ä»¥çœ‹åˆ°å‡ ä¸ªå‘½ä»¤ï¼Œç§»åŠ¨å…‰æ ‡åˆ°å‘½ä»¤<code>Auto.js Autox,js: Start All Server</code>ï¼ŒæŒ‰å›è½¦é”®æ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p>
<p>2ã€é€šè¿‡æ— çº¿æˆ–æœ‰çº¿è¿æ¥</p>
<p>3ã€ä¹‹åå°±å¯ä»¥åœ¨ç”µè„‘ä¸Šç¼–è¾‘JavaScriptæ–‡ä»¶å¹¶é€šè¿‡å‘½ä»¤<code>Run</code>æˆ–è€…æŒ‰é”®<code>F5</code>åœ¨æ‰‹æœºä¸Šè¿è¡Œäº†ã€‚</p>
</blockquote>
<h2 id="æ‰“åŒ…">æ‰“åŒ…</h2>
<p>è°ƒè¯•å®Œæˆåï¼ŒæŒ‰Â <code>Ctrl+Shift+P</code>Â æˆ–ç‚¹å‡»&quot;æŸ¥çœ‹&rdquo;-&gt;&ldquo;å‘½ä»¤é¢æ¿&quot;å¯è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œè¾“å…¥Â <code>Autox.js</code>Â å¯ä»¥çœ‹åˆ°å‡ ä¸ªå‘½ä»¤ï¼Œç§»åŠ¨å…‰æ ‡åˆ°å‘½ä»¤<code>Auto.js Autox,js: Save On Device</code>ï¼ŒæŒ‰å›è½¦é”®æ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p>
<p>ä¿å­˜åˆ°æ‰‹æœºä¸Šåï¼Œé€‰æ‹©æ›´å¤šâ€”æ‰“åŒ…åº”ç”¨</p>
<p>ç­‰å¾…æ‰“åŒ…æˆåŠŸåï¼Œå°½æƒ…äº«ç”¨å§ï¼ğŸ‰</p>
<p>psï¼šç›®å‰æœ€æ–°ç‰ˆéƒ½æ˜¯X64æ¶æ„çš„ï¼Œå¦‚éœ€X32æ¶æ„éœ€è¦è£…è€ç‰ˆæœ¬å³å¯</p>
<hr>
<blockquote>
<p>psï¼šå¦‚æœæƒ³æƒ³å†™ä¸ªç®€å•çš„å°è„šæœ¬ï¼Œè¿˜æ˜¯ç”¨autojsä¸é”™ï¼Œç®€å•è½»ä¾¿ï¼Œç”¨appiumé‚£ä¸€å¥—æ¶æ„å¤ªé‡äº†ï¼Œæ€é¸¡ç„‰ç”¨ç‰›åˆ€å•Šï¼</p>
<p>æé«˜è®¤çŸ¥ï¼Œé™ç»´æ‰“å‡»ï¼</p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>æµ‹è¯•ç¬”è®°</title>
      <link>https://blog.zsan.cf/posts/test-notes/</link>
      <pubDate>Sun, 26 Jun 2022 13:52:23 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/test-notes/</guid>
      <description>å…³äºæµ‹è¯•çš„ä¸€äº›ç¬”è®°</description>
      <content:encoded><![CDATA[<blockquote>
<p>å…³äºæµ‹è¯•çš„ä¸€äº›ç¬”è®°ï¼ˆé“ï¼‰</p>
<p>é“æ˜¯å¿ƒæ³•ï¼Œæ˜¯æœ€éš¾è€ƒå¯Ÿçš„</p>
<p>æœ¯æ˜¯å·¥å…·ï¼Œæ˜¯å¯ä»¥ç®€å•è€ƒå¯Ÿå‡ºæ¥çš„</p>
<p>ç›®å‰å…¬å¸JDè¿˜éƒ½æ˜¯åå‘æœ¯æ–¹é¢çš„</p>
<p>é—¨æ§›ä½ï¼Œå¯¼è‡´æµ‹è¯•çš„åœ°ä½ä½ä¸‹ï¼Œè¿˜å¸Œæœ›åŒè¡Œä»¬å…±åŒåŠªåŠ›ğŸ’ªå‘€</p>
</blockquote>
<p>1ã€æµ‹è¯•æŠ€æœ¯é¢†åŸŸæœ€éš¾çš„æŠ€æœ¯åº”è¯¥æ˜¯æµ‹è¯•åˆ†æå’Œè®¾è®¡</p>
<blockquote>
<p>æµ‹è¯•æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>æœ‰äººè¯´ æˆ‘ä¼š è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»€ä¹ˆseleniumï¼Œappiumï¼Œpythonï¼Œç©çš„é£æºœğŸ™„ï¸</p>
<p>è€Œå´å¿˜äº† æœ€é‡è¦çš„è¾“å…¥â€”â€”æµ‹è¯•ç”¨ä¾‹</p>
<p>ä¸€ä¸ªç³»ç»Ÿï¼Œåªè¦è¾“å…¥æ˜¯é”™çš„ï¼Œä»–å†èªæ˜ã€å¿«é€Ÿï¼Œé‚£è¾“å‡ºçš„ä¹Ÿæ˜¯é”™çš„</p>
</blockquote>
<p>2ã€æµ‹è¯•ä»·å€¼çš„ä½“ç°æœ€ä¸»è¦è¿˜æ˜¯ä¿éšœè‡ªå·±ç»„ç»‡å¼€å‘çš„è½¯ä»¶åœ¨å…³é”®åº”ç”¨æ—¶ä¸è¦å‡ºæ•…éšœï¼Œç»™ç»„ç»‡é€ æˆå•†ä¸šæŸå¤±ã€‚</p>
<p>3ã€æµ‹è¯•åˆ†æå’Œè®¾è®¡çš„æ·±åº¦åŠç³»ç»ŸåŒ–ï¼Œä»¥åŠæŒæ¡å¹¿æ³›çš„ä¸“é¡¹æµ‹è¯•ç±»å‹ã€‚</p>
<p>4ã€æµ‹è¯•å·¥ç¨‹å¸ˆæŠ€æœ¯æ°´å¹³</p>
<p>5ã€å¿«é€Ÿç¼–å†™æµ‹è¯•ç”¨ä¾‹</p>
<blockquote>
<p>1ã€æ ¹æ®ç”¨æˆ·è¡Œä¸ºä¹ æƒ¯ç¼–å†™ä¸€å¥—case</p>
<p>2ã€æ ¹æ®éœ€æ±‚åŠŸèƒ½ç¼–å†™ä¸€å¥—case</p>
<p>3ã€æ¢ç´¢æ€§æµ‹è¯•ç¼–å†™ä¸€å¥—case</p>
</blockquote>
<hr>
<p>å¦‚ä½•ç”¨æœ€é€šä¿—çš„æ–¹å¼ç»™éæµ‹è¯•è€…æè¿°æµ‹è¯•è€…å­˜åœ¨çš„ä»·å€¼ï¼Œ</p>
<p>ä¾‹å¦‚ï¼šç»™è€æ¿è®²ã€ç»™é¡¹ç›®ç»ç†è®²ã€ç»™å¼€å‘ç»ç†è®²ã€ç»™äº§å“æ€»è´Ÿè´£äººè®²ï¼š</p>
<p>1ã€å‡å°‘é—æ¼ç»™ç”¨æˆ·çš„ä¸¥é‡è´¨é‡é—®é¢˜ ï¼ˆæµ‹è¯•è€…åœ¨å‘å¸ƒå‰å°½å¯èƒ½å‘ç°å½±å“ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼‰</p>
<p>2ã€å‡å°‘äº§å“çš„ç ”å‘å’Œç»´æŠ¤æˆæœ¬ ï¼ˆå‡å°‘å¼€å‘äººå‘˜å®šä½é—®é¢˜å’Œä¿®å¤é—®é¢˜çš„æˆæœ¬ï¼Œå‡å°‘äº§å“å”®åç»´æŠ¤æˆæœ¬ï¼‰</p>
<p>3ã€ç¼©çŸ­äº§å“ç ”å‘çš„å‘¨æœŸ ï¼ˆå¸®åŠ©ç¼ºé™·é¢„é˜²ï¼Œå°½æ—©å‘ç°é—®é¢˜ï¼Œå¤ç°é—®é¢˜ï¼Œç¼©çŸ­å¼€å‘ä¿®å¤å’Œå®šä½é—®é¢˜çš„æˆæœ¬)</p>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<blockquote>
<p>1ã€<a href="http://www.51testing.com/html/57/293557.html">æ¶æ„å¸ˆJack</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>Docker éƒ¨ç½² Snapdrop</title>
      <link>https://blog.zsan.cf/posts/docker-deploy-snapdrop/</link>
      <pubDate>Sun, 19 Jun 2022 17:44:20 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-deploy-snapdrop/</guid>
      <description>å¥½ç”¨çš„è·¨å¹³å°æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼ˆæ— éœ€ä¸‹è½½å®‰è£…ã€æ‰“å¼€ç½‘é¡µå³å¯ä½¿ç”¨ï¼‰</description>
      <content:encoded><![CDATA[<blockquote>
<p>SnapdropÂ æ˜¯ä¸€ä¸ªå¼€æºçš„åœ¨çº¿æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼Œå¯ä»¥åœ¨Â Windowsã€Macã€Linuxã€iOSã€AndroidÂ ä»»ä½•å¹³å°ä½¿ç”¨ï¼Œåªè¦æˆ‘ä»¬çš„è®¾å¤‡æœ‰æµè§ˆå™¨å°±èƒ½ç”¨ä»–æ¥ä¼ è¾“æ–‡ä»¶</p>
<p>å®˜ç½‘æœ‰demoï¼Œbutä¸ç¨³å®šï¼Œè‡ªéƒ¨ç½²ä¸€å¥—ç¨³å®šå¯é å¯æ§</p>
</blockquote>
<p>å®˜æ–¹å·²ç»ä¸Šä¼ <code>image</code> äº†ï¼Œæ‰€ä»¥ä¸‹é¢æ‰‹åŠ¨ä¸‹è½½çš„å¯ä»¥ä¸ç”¨çœ‹äº†</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">node</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">linuxserver/snapdrop</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># user: &#34;node&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">snapdrop</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>       - <span style="color:#ae81ff">80</span>:<span style="color:#ae81ff">80</span>
</span></span></code></pre></div><hr>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#git clone ä¸‹è½½</span>
</span></span><span style="display:flex;"><span>git clone https://github.com/RobinLinus/snapdrop.git
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cd snapdrop
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å›½å†…æœåŠ¡éœ€æ¢æº</span>
</span></span><span style="display:flex;"><span>cd docker
</span></span><span style="display:flex;"><span>vim nginx-with-openssl.Dockerfile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#RUN apk add --no-cache openssl ä¸Šæ–¹æ·»åŠ å‘½ä»¤</span>
</span></span><span style="display:flex;"><span>RUN sed -i <span style="color:#e6db74">&#39;s/dl-cdn.alpinelinux.org/mirrors.aliyun.com/g&#39;</span> /etc/apk/repositories
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ä¿å­˜ å¯åŠ¨</span>
</span></span><span style="display:flex;"><span>docker-compose up -d
</span></span></code></pre></div><p>å¸¸è§é—®é¢˜ï¼š</p>
<p>Â Â Â Â 1ã€å¯åŠ¨åæ—¥å¿—é‡ŒæŠ¥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span> Error<span style="color:#f92672">:</span> <span style="color:#a6e22e">EACCES</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">permission</span> <span style="color:#a6e22e">denied</span>, <span style="color:#a6e22e">access</span> <span style="color:#e6db74">&#39;/home/node/app&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span>  { Error<span style="color:#f92672">:</span> <span style="color:#a6e22e">EACCES</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">permission</span> <span style="color:#a6e22e">denied</span>, <span style="color:#a6e22e">access</span> <span style="color:#e6db74">&#39;/home/node/app&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span>   <span style="color:#a6e22e">stack</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Error: EACCES: permission denied, access \&#39;/home/node/app\&#39;&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span>   <span style="color:#a6e22e">errno</span><span style="color:#f92672">:</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">13</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span>   <span style="color:#a6e22e">code</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;EACCES&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span>   <span style="color:#a6e22e">syscall</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;access&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">ERR</span><span style="color:#f92672">!</span>   <span style="color:#a6e22e">path</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;/home/node/app&#39;</span> }
</span></span></code></pre></div><p>æƒé™ userçš„å‘ï¼Œæˆ‘é»˜è®¤æ˜¯rootç”¨æˆ·ï¼Œymlé‡Œnodeå¯åŠ¨ä¸ºnodeç”¨æˆ·ï¼Œå¯¼è‡´æƒé™è¿‡ä½ï¼Œå¯åŠ¨å¤±è´¥</p>
<p>æ­¤æ—¶åªéœ€è¦æŠŠdocker-compose.yml é‡Œçš„user: &ldquo;nodeâ€ æ³¨é‡Šå³å¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim docker-compose
</span></span><span style="display:flex;"><span><span style="color:#75715e">#user: &#34;nodeâ€</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>ã€èººèµšã€‘dockeréƒ¨ç½²ç½‘å¿ƒäº‘å®¹å™¨é­”æ–¹</title>
      <link>https://blog.zsan.cf/posts/docker-deploying-netcentric-cloud-containers/</link>
      <pubDate>Mon, 09 May 2022 21:05:31 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-deploying-netcentric-cloud-containers/</guid>
      <description>N1ç›’å­å¤–æŒ‚ç¡¬ç›˜è·‘ç½‘å¿ƒäº‘èµšé’±</description>
      <content:encoded><![CDATA[<blockquote>
<p>è®¾å¤‡ï¼šN1</p>
<p>ç¡¬ç›˜ï¼š400g ssd</p>
<p>å·²å®‰è£…æœåŠ¡ï¼šdockerã€docker-compose</p>
</blockquote>
<p>å¼€å¹²ï¼</p>
<h3 id="ä¸€æŒ‚è½½ssdæŒ‚è½½è¿‡ç›´æ¥è·³åˆ°ç¬¬äºŒæ­¥">ä¸€ã€æŒ‚è½½ssdï¼ˆæŒ‚è½½è¿‡ç›´æ¥è·³åˆ°ç¬¬äºŒæ­¥ï¼‰</h3>
<p>ç¡¬ç›˜æ’åˆ°N1ä¸Š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>lsblk   <span style="color:#75715e">#æŸ¥çœ‹å½“å‰ç£ç›˜æƒ…å†µ</span>
</span></span><span style="display:flex;"><span>fdisk -l <span style="color:#75715e">#æŸ¥çœ‹å½“å‰æœªæŒ‚è½½çš„ç£ç›˜</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å‡è®¾ç£ç›˜åä¸º dev/sda</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#åˆ›å»ºåˆ†åŒº</span>
</span></span><span style="display:flex;"><span>fdisk  dev/sda
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è¾“å…¥n, p, 1, ä¸¤æ¬¡å›è½¦ï¼Œwq</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ–°å»ºä¸€ä¸ªä¸»åˆ†åŒºï¼Œå¤§å°æ•´ä¸ªç£ç›˜ï¼Œä¿å­˜å†™å…¥</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å†™å…¥æ–‡ä»¶æ ¼å¼</span>
</span></span><span style="display:flex;"><span>mkfs.ext4 /dev/sda  <span style="color:#75715e">#ext4æ ¼å¼</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æŒ‚è½½</span>
</span></span><span style="display:flex;"><span>mount /dev/sda /media/data
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æŸ¥çœ‹æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>df -lh    <span style="color:#75715e">#æŸ¥çœ‹åˆ°åˆšæ‰æŒ‚è½½çš„ç¡¬ç›˜</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è®¾ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½</span>
</span></span><span style="display:flex;"><span>vim /etc/fstab
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åœ¨æœ€åæ–°å¢ä¸€è¡Œ</span>
</span></span><span style="display:flex;"><span>/dev/sdb   /media/data    ext4   defaults   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><h3 id="äºŒéƒ¨ç½²">äºŒã€éƒ¨ç½²</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir wxedge
</span></span><span style="display:flex;"><span>cd wxedge
</span></span><span style="display:flex;"><span>vim docker-compose.yml
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.3&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">wxedge</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">wxedge</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">privileged</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">network_mode</span>: <span style="color:#ae81ff">host</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">tmpfs</span>: 
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">/run</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">/tmp</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#e6db74">&#39;/media/data/wxedge:/storage:rw&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">image</span>: <span style="color:#ae81ff">onething1/wxedge</span>
</span></span></code></pre></div><p>ip:18888 æ‰“å¼€ æˆåŠŸğŸ‰ğŸ‰ğŸ‰</p>
<p>èººç€èµšé’±å§ï¼</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Docker éƒ¨ç½² NginxæœåŠ¡</title>
      <link>https://blog.zsan.cf/posts/docker-build-nginx/</link>
      <pubDate>Fri, 08 Apr 2022 16:23:01 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-build-nginx/</guid>
      <description>ç”¨dockeréƒ¨ç½²nginxå®˜æ–¹åªç»™äº†dockerç‰ˆæœ¬çš„ï¼Œæ²¡æœ‰composeçš„ï¼Œåªå¥½è‡ªå·±è½¬æ¢ä¸€ä¸‹äº†ï¼Œè®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡éƒ¨ç½²ï¼Œè¿™åªæ˜¯ç®€å•çš„éƒ¨ç½²ï¼Œè‡³äºnginxé…ç½®çš„è¯ï¼Œæœ‰ç©ºå†è¡¥å§ğŸ« 
1ã€åˆ›å»ºdocker-nginxç›®å½• æ–°å»º docker-compose.yml æ–‡ä»¶
mkdir docker-nginx mkdir nginx mkdir log mkdir html vim docker-compose.yml 2ã€docker-compose.yml version: &amp;#39;3.3&amp;#39; services: web: image: nginx:latest container_name: nginx volumes: - ./nginx:/etc/nginx - ./log:/var/log/nginx - ./html:/usr/share/nginx/html //ç½‘ç«™æ”¾ç½®ç›®å½• ports: - &amp;#34;8081:80&amp;#34; environment: - NGINX_HOST=&amp;#34;192.168.116.10&amp;#34; //è®¿é—®åœ°å€/åŸŸå - NGINX_PORT=&amp;#34;80&amp;#34; //è®¿é—®ç«¯å£ - TZ=&amp;#34;Asia/Shanghai&amp;#34; //æ—¶åŒº restart: always 3ã€æ‰‹åŠ¨cpé…ç½®æ–‡ä»¶ ç”±äºå®˜æ–¹imageæ²¡æœ‰é»˜è®¤æ˜ å°„å¤–éƒ¨æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨æŠŠé…ç½®æ–‡ä»¶cpå‡ºæ¥
# è¿è¡Œå®˜æ–¹å‘½ä»¤åˆ›å»ºé»˜è®¤å®¹å™¨ docker run --name nginx -p 8080:80 -d nginx #é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°nginxé‡Œ,å…¶ä»–æ–‡ä»¶å¯ç”¨å¤åˆ¶ #æ˜¯ä¸ªå‘ï¼Œè·¯å¾„å¿…é¡»æ˜¯å…¨è·¯å¾„ docker cp nginx:/etc/nginx /opt/docker-nginx #åˆ é™¤é»˜è®¤å®¹å™¨ docker stop nginx &amp;amp;&amp;amp; docker rm nginx 4ã€ä¿®æ”¹nginxé…ç½®æ–‡ä»¶ ç«¯å£å·ã€åŸŸåï¼Œsslç­‰å’Œä»¥å‰é…ç½®ä¸€æ ·ï¼Œä¸å†èµ˜è¿°
5ã€è¿è¡Œ&amp;amp;æµ‹è¯• docker-compose up -d #æŸ¥çœ‹æ—¥å¿— docker-compose logs -f #æµè§ˆå™¨è¾“å…¥IPæˆ–åŸŸåæŸ¥çœ‹æ˜¯å¦å¯ä»¥è®¿é—® å‚è€ƒæ–‡æ¡£ï¼š
1ã€Docker Hub-nginx</description>
      <content:encoded><![CDATA[<blockquote>
<p>ç”¨dockeréƒ¨ç½²nginxå®˜æ–¹åªç»™äº†dockerç‰ˆæœ¬çš„ï¼Œæ²¡æœ‰composeçš„ï¼Œåªå¥½è‡ªå·±è½¬æ¢ä¸€ä¸‹äº†ï¼Œè®°å½•ä¸€ä¸‹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡éƒ¨ç½²ï¼Œè¿™åªæ˜¯ç®€å•çš„éƒ¨ç½²ï¼Œè‡³äºnginxé…ç½®çš„è¯ï¼Œæœ‰ç©ºå†è¡¥å§ğŸ« </p>
</blockquote>
<h2 id="1åˆ›å»ºdocker-nginxç›®å½•">1ã€åˆ›å»ºdocker-nginxç›®å½•</h2>
<p>æ–°å»º docker-compose.yml æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir docker-nginx
</span></span><span style="display:flex;"><span>mkdir nginx
</span></span><span style="display:flex;"><span>mkdir log
</span></span><span style="display:flex;"><span>mkdir html
</span></span><span style="display:flex;"><span>vim docker-compose.yml
</span></span></code></pre></div><h2 id="2docker-composeyml">2ã€docker-compose.yml</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.3&#39;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span> <span style="color:#f92672">web</span>:
</span></span><span style="display:flex;"><span> <span style="color:#f92672">image</span>: <span style="color:#ae81ff">nginx:latest</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">nginx</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>     - <span style="color:#ae81ff">./nginx:/etc/nginx</span>
</span></span><span style="display:flex;"><span>     - <span style="color:#ae81ff">./log:/var/log/nginx</span>
</span></span><span style="display:flex;"><span>     - <span style="color:#ae81ff">./html:/usr/share/nginx/html  //ç½‘ç«™æ”¾ç½®ç›®å½•</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">ports</span>:
</span></span><span style="display:flex;"><span>     - <span style="color:#e6db74">&#34;8081:80&#34;</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>     - <span style="color:#ae81ff">NGINX_HOST=&#34;192.168.116.10&#34; //è®¿é—®åœ°å€/åŸŸå</span>
</span></span><span style="display:flex;"><span>     - <span style="color:#ae81ff">NGINX_PORT=&#34;80&#34; //è®¿é—®ç«¯å£</span>
</span></span><span style="display:flex;"><span>     - <span style="color:#ae81ff">TZ=&#34;Asia/Shanghai&#34; //æ—¶åŒº</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span></code></pre></div><h2 id="3æ‰‹åŠ¨cpé…ç½®æ–‡ä»¶">3ã€æ‰‹åŠ¨cpé…ç½®æ–‡ä»¶</h2>
<p>ç”±äºå®˜æ–¹imageæ²¡æœ‰é»˜è®¤æ˜ å°„å¤–éƒ¨æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨æŠŠé…ç½®æ–‡ä»¶cpå‡ºæ¥</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e"># è¿è¡Œå®˜æ–¹å‘½ä»¤åˆ›å»ºé»˜è®¤å®¹å™¨</span>
</span></span><span style="display:flex;"><span>docker run --name nginx -p 8080:80 -d nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#é…ç½®æ–‡ä»¶å¤åˆ¶åˆ°nginxé‡Œ,å…¶ä»–æ–‡ä»¶å¯ç”¨å¤åˆ¶</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ˜¯ä¸ªå‘ï¼Œè·¯å¾„å¿…é¡»æ˜¯å…¨è·¯å¾„</span>
</span></span><span style="display:flex;"><span>docker cp nginx:/etc/nginx /opt/docker-nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#åˆ é™¤é»˜è®¤å®¹å™¨</span>
</span></span><span style="display:flex;"><span>docker stop nginx <span style="color:#f92672">&amp;&amp;</span> docker rm nginx
</span></span></code></pre></div><h2 id="4ä¿®æ”¹nginxé…ç½®æ–‡ä»¶">4ã€ä¿®æ”¹nginxé…ç½®æ–‡ä»¶</h2>
<p>ç«¯å£å·ã€åŸŸåï¼Œsslç­‰å’Œä»¥å‰é…ç½®ä¸€æ ·ï¼Œä¸å†èµ˜è¿°</p>
<h2 id="5è¿è¡Œæµ‹è¯•">5ã€è¿è¡Œ&amp;æµ‹è¯•</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker-compose up -d
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æŸ¥çœ‹æ—¥å¿—</span>
</span></span><span style="display:flex;"><span>docker-compose logs -f     
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æµè§ˆå™¨è¾“å…¥IPæˆ–åŸŸåæŸ¥çœ‹æ˜¯å¦å¯ä»¥è®¿é—®</span>
</span></span></code></pre></div><hr>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<blockquote>
<p>1ã€<a href="https://hub.docker.com/_/nginx">Docker Hub-nginx</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ‰“ç ´ä¿¡æ¯èŒ§æˆ¿</title>
      <link>https://blog.zsan.cf/posts/rss-build/</link>
      <pubDate>Sun, 13 Mar 2022 13:05:35 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/rss-build/</guid>
      <description>RSSæœåŠ¡å¿«é€Ÿæ­å»º</description>
      <content:encoded><![CDATA[<p>ä½•ä¸ºä¿¡æ¯èŒ§æˆ¿ï¼š</p>
<blockquote>
<p>å“ˆä½›å¤§å­¦å‡¯æ–¯Â·æ¡‘æ–¯å¦æ•™æˆåœ¨ã€Šä¿¡æ¯ä¹Œæ‰˜é‚¦ã€‹ä¸€ä¹¦ä¸­æå‡ºï¼Œäººç±»ç¤¾ä¼šå­˜åœ¨ä¸€ç§â€œä¿¡æ¯èŒ§æˆ¿â€ç°è±¡ã€‚ä»–è®¤ä¸ºï¼Œåœ¨ä¿¡æ¯ä¼ æ’­ä¸­äººä»¬è‡ªèº«çš„ä¿¡æ¯éœ€æ±‚å¹¶éå…¨æ–¹ä½çš„ï¼Œåªä¼šæ³¨æ„é€‰æ‹©æƒ³è¦çš„æˆ–èƒ½ä½¿è‡ªå·±æ„‰æ‚¦çš„ä¿¡æ¯ï¼Œä¹…è€Œä¹…ä¹‹æ¥è§¦çš„ä¿¡æ¯å°±è¶Šæ¥è¶Šå±€é™ï¼Œè¶Šæ¥è¶Šçª„ï¼Œå°±åƒèš•åå‡ºæ¥çš„ä¸ä¸€æ ·ï¼Œç»†ç»†å¯†å¯†åœ°æŠŠè‡ªå·±åŒ…è£¹èµ·æ¥ï¼Œæœ€ç»ˆåƒä¸€ä¸ªèš•å®å®ä¸€æ ·è¢«æ¡æ¢åœ¨â€œä¿¡æ¯èŒ§æˆ¿â€å†…ï¼Œå¤±å»å¯¹å…¶ä»–ä¸åŒäº‹ç‰©çš„äº†è§£èƒ½åŠ›å’Œæ¥è§¦æœºä¼šã€‚å½“æ—¶ï¼Œä»–çš„è¿™ä¸€è§‚ç‚¹è¿˜åªæ˜¯ä½œä¸ºä¸€ç§æ¨è®ºå’Œé¢„æµ‹ï¼Œä½†éšç€ç½‘ç»œä¿¡æ¯å’Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„é£é€Ÿå‘å±•ï¼Œè¿™ç§â€œä¿¡æ¯èŒ§æˆ¿â€ç°è±¡ï¼Œæ­£è¶Šæ¥è¶Šå¤šåœ°å‘ç”Ÿåœ¨ç°å®ç”Ÿæ´»ä¸­å’Œæˆ‘ä»¬çš„èº«è¾¹ã€‚</p>
</blockquote>
<p>è¯´äººè¯å°±æ˜¯ï¼š</p>
<blockquote>
<p>åœ¨ç°å¦‚ä»Šçš„ç”Ÿæ´»ä¸­ï¼Œäººä»¬æ¥å—ä¿¡æ¯çš„æ¥æºï¼ˆä¸»è¦æŒ‡ç”Ÿæ´»åœ¨å¤§é™†ï¼Œå›½å¤–ä¹Ÿå·®ä¸å¤šï¼‰ï¼Œä¸»è¦ä»å¾®ä¿¡ã€å¾®åšã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ä¸­å¿ƒåŒ–çš„å¹³å°ï¼Œå„å®¶ç›¸äº’å…³é—­è‡ªå·±çš„å¼€æ”¾æ¥å£ï¼Œå¼ºè¿«ç”¨æˆ·ç•™åœ¨è‡ªå·±å¹³å°ä¸Šï¼Œæœ‰æ—¶å€™åªå…³æ³¨æŸä¸ªå¤§Vçš„ä¿¡æ¯ï¼Œå´ä¸å¾—ä¸å®‰è£…ä¸€ä¸ªappï¼Œå°±è¿™æ ·æ‰‹æœºä¸Šè£…äº†å¾ˆå¤šappï¼ˆè¿™äº›appä»¬å¹³å‡ä¸€å‘¨æ›´æ–°ä¸€æ¬¡ï¼Œè¦åäº†ï¼‰å†åŠ ä¸Šå¹³å°çš„æ¨èç®—æ³•ï¼Œåªæ¨èä½ å–œæ¬¢çš„ï¼ˆå…¼å¬åˆ™æ˜ï¼Œåä¿¡åˆ™æš—ï¼‰ï¼Œè¿™æ ·ä¸‹å»ï¼Œæ•´ä¸ªäººçš„è®¤çŸ¥æ— æ³•è¢«æé«˜</p>
</blockquote>
<p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ¢ç´¢ï¼Œæ­å»ºäº†RSSè¿™å¥—æœåŠ¡ï¼ŒRSSæœåŠ¡å±äºå¤è€æœåŠ¡äº†ï¼Œä¼°è®¡åªæœ‰æ•°å­—åŸä½æ°‘æ‰å¬è¯´è¿‡ï¼Œç›®å‰æ¥è¯´è¿˜å¯ä»¥ï¼Œæ­£åœ¨æ…¢æ…¢è¿‡æ¸¡ï¼Œåœ¨æ­¤è®°å½•ä¸‹æ­å»ºè¿‡ç¨‹ï¼Œæ–¹ä¾¿ä¸‹æ¬¡è¿ç§»</p>
<blockquote>
<p><strong>RSS</strong>ï¼ˆè‹±æ–‡å…¨ç§°ï¼š<a href="https://zh.wikipedia.org/wiki/Resource_Description_Framework" title="Resource Description Framework">RDF</a>Â Site Summary æˆ– Really Simple Syndication<a href="https://zh.wikipedia.org/wiki/RSS#cite_note-powers-2003-1-2">[2]</a>ï¼‰ï¼Œä¸­æ–‡è¯‘ä½œ<strong>ç®€æ˜“ä¿¡æ¯èšåˆ</strong><a href="https://zh.wikipedia.org/wiki/RSS#cite_note-3">[3]</a>ï¼Œä¹Ÿç§°<strong>èšåˆå†…å®¹</strong><a href="https://zh.wikipedia.org/wiki/RSS#cite_note-%E5%BC%A0%E9%94%902015-4">[4]</a>ï¼Œæ˜¯ä¸€ç§<a href="https://zh.wikipedia.org/wiki/%E6%B6%88%E6%81%AF%E4%BE%86%E6%BA%90" title="æ¶ˆæ¯æ¥æº">æ¶ˆæ¯æ¥æº</a>æ ¼å¼è§„èŒƒï¼Œç”¨ä»¥èšåˆå¤šä¸ªç½‘ç«™æ›´æ–°çš„å†…å®¹å¹¶è‡ªåŠ¨é€šçŸ¥ç½‘ç«™è®¢é˜…è€…ã€‚ä½¿ç”¨ RSS åï¼Œç½‘ç«™è®¢é˜…è€…ä¾¿æ— éœ€å†æ‰‹åŠ¨æŸ¥çœ‹ç½‘ç«™æ˜¯å¦æœ‰æ–°çš„å†…å®¹ï¼ŒåŒæ—¶ RSS å¯å°†å¤šä¸ªç½‘ç«™æ›´æ–°çš„å†…å®¹è¿›è¡Œæ•´åˆï¼Œä»¥æ‘˜è¦çš„å½¢å¼å‘ˆç°ï¼Œæœ‰åŠ©äºè®¢é˜…è€…å¿«é€Ÿè·å–é‡è¦ä¿¡æ¯ï¼Œå¹¶é€‰æ‹©æ€§åœ°ç‚¹é˜…æŸ¥çœ‹ã€‚</p>
<p>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â   Â Â  â€”â€”å¼•ç”¨wikipedia</p>
</blockquote>
<p>å‡†å¤‡ï¼š</p>
<ul>
<li>éœ€è¦ä¸€å°æœåŠ¡å™¨ï¼Œè¿è¡Œlinuxå³å¯Â Â Â Â Â Â Â </li>
</ul>
<blockquote>
<p>é…ç½®ä¸ç”¨å¤ªå¤§ï¼Œæˆ‘ç”¨çš„æ˜¯é˜¿é‡Œäº‘çš„æœåŠ¡å™¨ï¼Œç”Ÿæ´»åœ¨å¤§é™†ï¼Œå›½å†…è®¿é—®æ¯”è¾ƒå¿«</p>
</blockquote>
<p>ç”¨åˆ°çš„æœåŠ¡ï¼š</p>
<blockquote>
<p><a href="https://docs.rsshub.app/">RSSHub</a>ï¼šä¸€ä¸ªå¼€æºã€ç®€å•æ˜“ç”¨ã€æ˜“äºæ‰©å±•çš„ RSS ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç»™ä»»ä½•å¥‡å¥‡æ€ªæ€ªçš„å†…å®¹ç”Ÿæˆ RSS è®¢é˜…æºã€‚</p>
<p><a href="http://ttrss.henry.wang/">TTRSS</a>ï¼šä¸€æ¬¾åŸºäº PHP çš„å…è´¹å¼€æº RSS èšåˆé˜…è¯»å™¨ã€‚</p>
</blockquote>
<p>ç”¨rsshubç”Ÿæˆå®˜æ–¹æ²¡æœ‰çš„è®¢é˜…æºï¼Œttrssæ¥ç®¡ç†è®¢é˜…æºçš„é˜…è¯»è®°å½•ï¼Œæ”¯æŒå„ç«¯åŒæ­¥</p>
<h3 id="ä¸€éƒ¨ç½²rsshub">ä¸€ã€éƒ¨ç½²RSSHub</h3>
<p>æ”¯æŒdockeréƒ¨ç½²ï¼Œä¸è¿‡ï¼Œæˆ‘æ˜¯éƒ¨ç½²åˆ° Vercel ä¸Šçš„ï¼Œå¥½å¤„æ˜¯å…è´¹ã€å›½å¤–çš„æœºå­ï¼ŒçœŸæ­£è¿æ¥åˆ°äº’è”ç½‘çš„ï¼Œå›½å†…å¯è®¿é—®ã€‚</p>
<p>1ã€æ³¨å†Œ <a href="https://vercel.com/import/project?template=https://github.com/DIYgod/RSSHub"> Vercel</a></p>
<blockquote>
<p>æœ‰å¸æˆ·çš„ç›´æ¥å¯ä»¥ç™»å½•éƒ¨ç½²</p>
<p>æ²¡æœ‰çš„å…ˆæ³¨å†Œï¼Œå»ºè®®ç”¨GitHubè´¦å·ç™»å½•æ³¨å†Œï¼Œgithubè´¦å·é‚®ç®±å»ºè®®ç”¨gmailç­‰å›½å¤–çš„ï¼Œé€šè¿‡ç‡é«˜ï¼Œå¦‚æœæç¤ºå¤±è´¥ï¼Œå¯ä»¥å’Œå®˜æ–¹äººå‘˜å‘emailè§£å°ï¼Œæˆ‘çš„å½“æ—¶å°±ç›´æ¥è¢«å†»ç»“äº†ï¼Œå‘äº†emailåï¼Œä¸€ä¼šå°±è§£å°äº†ï¼Œæ€åº¦è¶…å¥½ğŸ‘</p>
</blockquote>
<p>2ã€æˆåŠŸåå¯ä»¥ç›´æ¥ç‚¹å»éƒ¨ç½²äº†ï¼Œæˆ‘æ˜¯æ²¡æœ‰ç”¨å®˜æ–¹çš„åº“éƒ¨ç½²ï¼Œforkå®˜æ–¹åº“åå»æˆæƒéƒ¨ç½²çš„ï¼Œæ•ˆæœä¸€æ ·ï¼Œvercel ç”¨é»˜è®¤çš„å°±è¡Œï¼Œç­‰å¾…ä¸€ä¼šï¼Œæ’’èŠ±ï¼Œè¡¨ç¤ºéƒ¨ç½²æˆåŠŸ</p>
<p>3ã€ç›´æ¥è®¿é—®åŸŸåæˆåŠŸæ‰“å¼€å³éƒ¨ç½²æˆåŠŸ</p>
<p>4ã€rsshubé…ç½®ç¯å¢ƒå¯å‚è€ƒ <a href="https://docs.rsshub.app/install/#pei-zhi">éƒ¨ç½² | RSSHub</a> é…ç½®</p>
<ul>
<li>
<p>ç”¨æˆ·è®¤è¯</p>
</li>
<li>
<p>æ—¥å¿—é…ç½®</p>
</li>
<li>
<p>å…¶ä»–ä¸€äº›æœåŠ¡éœ€è¦çš„api-key</p>
</li>
</ul>
<p>5ã€åœ¨vercel é…ç½®å®Œ é‡æ–°éƒ¨ç½²æœåŠ¡ï¼Œæ‰ç”Ÿæ•ˆ</p>
<h5 id="æ›´æ–°">æ›´æ–°</h5>
<p>æ”¯æŒvercelè‡ªåŠ¨æ‹‰å–ä»£ç æ›´æ–°</p>
<h3 id="äºŒéƒ¨ç½²ttrss">äºŒã€éƒ¨ç½²TTRSS</h3>
<p>éƒ¨ç½²åˆ°vps é˜¿é‡Œäº‘ä¸Šï¼Œæ”¯æŒdockerã€docker-composrå³å¯</p>
<h4 id="docker-composeéƒ¨ç½²">docker-composeéƒ¨ç½²</h4>
<ol>
<li>ä¸‹è½½Â <a href="https://github.com/HenryQW/Awesome-TTRSS/blob/main/docker-compose.yml">docker-compose.yml</a>è‡³ä»»æ„ç›®å½•ã€‚</li>
<li>æ›´æ”¹Â <code>docker-compose.yml</code>Â ä¸­çš„è®¾ç½®ï¼Œè¯·åŠ¡å¿…æ›´æ”¹ postgres ç”¨æˆ·å¯†ç ã€‚</li>
<li>é€šè¿‡ç»ˆç«¯åœ¨åŒç›®å½•ä¸‹è¿è¡ŒÂ <code>docker-compose up -d</code>Â åç­‰å¾…éƒ¨ç½²å®Œæˆã€‚</li>
<li>é»˜è®¤é€šè¿‡ 181 ç«¯å£è®¿é—® TTRSSï¼Œé»˜è®¤è´¦æˆ·ï¼š<code>admin</code>Â å¯†ç ï¼š<code>password</code>ï¼Œè¯·ç¬¬ä¸€æ—¶é—´æ›´æ”¹ã€‚</li>
<li><code>wangqiru/mercury-parser-api</code>Â åŠÂ <code>wangqiru/opencc-api-server</code>Â ä¸ºæ”¯æŒé«˜çº§åŠŸèƒ½è€ŒåŠ å…¥çš„å¯é€‰æœåŠ¡ç±»å®¹å™¨ï¼Œåˆ é™¤ä¸ä¼šå½±å“ TTRSS åŸºç¡€åŠŸèƒ½ã€‚</li>
</ol>
<p>SELF_URL_PATH: TTRSS å®ä¾‹åœ°å€ã€‚<strong>ğŸ”´ è¯·æ³¨æ„ï¼Œè¯¥å˜é‡å€¼å¿…é¡»ä¸ä½ åœ¨æµè§ˆå™¨ä¸­ç”¨äºè®¿é—® TTRSS çš„ URL ä¿æŒå®Œå…¨ä¸€è‡´ï¼Œå¦åˆ™ TTRSS å°†æ— æ³•å¯åŠ¨ã€‚</strong></p>
<p>è¿™é‡Œè¯´æ˜ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰åŸŸåå°±è¦é…ç½®ä¸º ip:ç«¯å£å· çš„å½¢å¼</p>
<p>æ›´å¤šé…ç½®å‚è€ƒ <a href="http://ttrss.henry.wang/zh/#%E9%83%A8%E7%BD%B2">å®˜æ–¹æ–‡æ¡£</a></p>
<h4 id="æ›´æ–°-1">æ›´æ–°</h4>
<p>æ¨èä½¿ç”¨æ‰‹åŠ¨æ›´æ–°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span> <span style="color:#75715e">#è‡ªç”¨</span>
</span></span><span style="display:flex;"><span> docker-compose pull
</span></span><span style="display:flex;"><span> <span style="color:#75715e">#å®˜æ–¹æ¨è</span>
</span></span><span style="display:flex;"><span> docker pull wangqiru/ttrss:latest
</span></span><span style="display:flex;"><span> <span style="color:#75715e"># docker pull wangqiru/mercury-parser-api:latest</span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e"># docker pull wangqiru/opencc-api-server:latest</span>
</span></span><span style="display:flex;"><span> docker-compose up -d <span style="color:#75715e"># å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨ docker-composeï¼Œæˆ‘ç¡®ä¿¡æ‚¨çŸ¥é“è¯¥æ€ä¹ˆåšã€‚</span>
</span></span></code></pre></div><h4 id="å¤‡ä»½">å¤‡ä»½</h4>
<p>å…»æˆå®šæœŸå¤‡ä»½çš„ä¹ æƒ¯ï¼Œæœ‰äº›è®¢é˜…æºå¾ˆé‡è¦çš„èµ„æ–™å¯ä»¥æ°¸ä¹…ä¿å­˜ï¼Œé¿å…404</p>
<ul>
<li>
<p>å¤åˆ¶ Postgres æ•°æ®å·Â <code>~/postgres/data/</code>ï¼ˆæˆ–è€…ä½ åœ¨ docker-compose ä¸­æŒ‡å®šçš„ç›®å½•ï¼‰è‡³å…¶ä»–ä»»ä½•åœ°æ–¹ä½œä¸ºå¤‡ä»½ï¼Œè¿™éå¸¸é‡è¦ï¼</p>
</li>
<li>
<p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å¯¼å‡ºæ‰€æœ‰æ•°æ®ï¼š</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#docker exec postgres pg_dumpall -c -U æ•°æ®åº“ç”¨æˆ·å &gt; export.sql</span>
</span></span><span style="display:flex;"><span>docker exec postgres pg_dumpall -c -U postgres &gt; export.sql
</span></span></code></pre></div><ul>
<li>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ¥å¯¼å…¥æ‰€æœ‰æ•°æ®ï¼š</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#cat export.sql | docker exec -i postgres psql -U æ•°æ®åº“ç”¨æˆ·å</span>
</span></span><span style="display:flex;"><span>cat export.sql | docker exec -i postgres psql -U postgres
</span></span></code></pre></div><h3 id="ä¸‰å®¢æˆ·ç«¯æ¨è">ä¸‰ã€å®¢æˆ·ç«¯æ¨è</h3>
<p>æœåŠ¡ç«¯éƒ½é…ç½®å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•é˜…è¯»äº†</p>
<p>iOS/macOSï¼š<a href="https://reederapp.com/">Reeder 5</a> å†…ç½®çš„Â <a href="http://ttrss.henry.wang/zh/#fever-api">Fever API æ¨¡æ‹Ÿæ’ä»¶</a> å¯ä»¥ä½¿ç”¨</p>
<p>androidï¼šFeedMe</p>
<p>Webï¼šç›´æ¥ç½‘é¡µç™»å½•æŸ¥çœ‹å³å¯</p>
<h3 id="å››è®¢é˜…æºè®¢é˜…å°æŠ€å·§">å››ã€è®¢é˜…æºè®¢é˜…å°æŠ€å·§</h3>
<p>æœåŠ¡éƒ½æ­å»ºå¥½äº†ï¼Œä¸‹é¢å°±è¯¥è®¢é˜…è®¢é˜…æºäº†ï¼Œåˆ†äº«ä¸€äº›å°æŠ€å·§</p>
<ul>
<li>
<p>å¾®åšçš„å¯ä»¥ä½¿ç”¨ <a href="https://rssfeed.today/weibo/">Weibo to RSS</a> è®¢é˜…</p>
</li>
<li>
<p>å¾®ä¿¡çš„å°é”ä¸¥é‡ï¼Œrsshubè®¢é˜…æœ‰é™ï¼Œå¯ä»¥ç”¨ <a href="https://wechat2rss.xlab.app/posts/list/">å…¬ä¼—å·åˆ—è¡¨ | å¾®ä¿¡å…¬ä¼—å·è½¬RSSæœåŠ¡</a> æ¥è®¢é˜…ï¼Œå¦‚æœæ²¡æœ‰æƒ³è®¢é˜…çš„ï¼Œå¯ä»¥æ <a href="https://github.com/ttttmr/wechat2rss/issues/7">æäº¤æ–°å…¬ä¼—å·å‰çœ‹è¿™é‡Œ Â· Issue #7 Â· ttttmr/wechat2rss Â· GitHub</a></p>
</li>
<li>
<p>blogspotçš„rsshubæ²¡æœ‰æä¾›ï¼Œå¯ä»¥ç”¨cfåä»£åè®¢é˜…</p>
</li>
<li>
<p>twitter çš„å¼€å‘è€…apiå¤ªéš¾ç”³è¯·äº†ï¼Œå¯ä»¥ç”¨ <a href="https://nitter.net/">nitter</a> è¾“å‡ºçš„rss è®¿é—®å›°éš¾å†ç»“åˆcfåä»£ï¼Œå®Œç¾</p>
</li>
</ul>
<p>ä»¥ä¸Šï¼Œä¸€ä¸ªä½æˆæœ¬ï¼ŒæœåŠ¡ç¨³å®šï¼Œæ•°æ®å¯æ§RSSç”Ÿæ€éƒ¨ç½²æˆåŠŸï¼Œå°½æƒ…äº«ç”¨å§ï¼ğŸ‰</p>
<hr>
<p>å‚è€ƒæ–‡æ¡£ï¼š</p>
<blockquote>
<p><a href="https://docs.rsshub.app">RSSHub</a></p>
<p><a href="http://ttrss.henry.wang/zh/">ğŸ‹ Awesome TTRSS | ğŸ‹ Awesome TTRSS</a></p>
<p><a href="https://diygod.me/ohmyrss/">æˆ‘æœ‰ç‰¹åˆ«çš„ RSS ä½¿ç”¨æŠ€å·§</a></p>
<p><a href="https://www.alpaca.plus/archives/my-rss-solution.html">æˆ‘çš„RSSè§£å†³æ–¹æ¡ˆ - alpaca++</a></p>
<p><a href="http://www.mod.gov.cn/jmsd/2021-03/15/content_4880922.htm">è­¦æƒ•é™·å…¥â€œä¿¡æ¯èŒ§æˆ¿â€ - ä¸­åäººæ°‘å…±å’Œå›½å›½é˜²éƒ¨</a></p>
<p><a href="https://wiki.mbalib.com/wiki/%E4%BF%A1%E6%81%AF%E8%8C%A7%E6%88%BF">ä¿¡æ¯èŒ§æˆ¿ - MBAæ™ºåº“ç™¾ç§‘</a></p>
<p><a href="https://zh.wikipedia.org/wiki/RSS">RSS ç»´åŸºç™¾ç§‘</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>Linuxè®¾ç½®ä»£ç†</title>
      <link>https://blog.zsan.cf/posts/linux-unset-proxy/</link>
      <pubDate>Fri, 18 Feb 2022 18:04:50 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/linux-unset-proxy/</guid>
      <description>æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰ç‚¹éº»çƒ¦çš„äº‹ï¼Œä»¥å‰åœ¨å›½å†…æœºä¸Šè£…äº†clashä»£ç†ï¼Œç”¨çš„ç¼–è¯‘åŒ…å®‰è£…çš„ï¼Œåæ¥æ„Ÿè§‰ç”¨çš„ä¸çˆ½ï¼Œå°±ç»™å¸è½½äº†ï¼ŒæœåŠ¡ä¹Ÿå»äº†ï¼Œä½†æ˜¯proxyä»£ç†ç»å¸¸ä¼šè‡ªåŠ¨è®¾ç½®ï¼Œæœ‰æ—¶å€™æ‰‹åŠ¨ç»™å–æ¶ˆäº†ï¼Œä¸‹æ¬¡å†ç”¨åˆæœ‰äº†ï¼Œè¿™æ¬¡ç»ˆäºå¿ä¸äº†äº†ï¼Œå°±æœäº†ä¸€ä¸‹ç»™è§£å†³äº†
1ã€å®šä½bug export æŸ¥çœ‹ä¸‹ï¼Œæœ‰ç›¸åº”ç«¯å£ï¼Œæ‰‹åŠ¨å–æ¶ˆåï¼Œå†æŸ¥çœ‹æ²¡æœ‰äº†ï¼Œé‡å¯ååˆæœ‰äº†ï¼Œåˆ¤æ–­æ˜¯æŸä¸ªè„šæœ¬é‡Œå¸¦ç›¸å…³å‘½ä»¤
2ã€æœç´¢èµ„æ–™ é€šè¿‡æŸ¥æ‰¾å¾—çŸ¥æœ‰ä¸ª.bashrcæ–‡ä»¶ä¹Ÿå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåªå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼Œvimè¿›å»çœ‹äº†ä¸‹ï¼Œæœç„¶æœ‰ç›¸åº”å‘½ä»¤ï¼Œåˆ é™¤ï¼Œé‡å¯ï¼Œå†exportï¼Œä»£ç†æ²¡äº†ï¼Œç»“æŸğŸ‰</description>
      <content:encoded><![CDATA[<blockquote>
<p>æœ€è¿‘é‡åˆ°ä¸€ä¸ªå¾ˆæœ‰ç‚¹éº»çƒ¦çš„äº‹ï¼Œä»¥å‰åœ¨å›½å†…æœºä¸Šè£…äº†clashä»£ç†ï¼Œç”¨çš„ç¼–è¯‘åŒ…å®‰è£…çš„ï¼Œåæ¥æ„Ÿè§‰ç”¨çš„ä¸çˆ½ï¼Œå°±ç»™å¸è½½äº†ï¼ŒæœåŠ¡ä¹Ÿå»äº†ï¼Œä½†æ˜¯proxyä»£ç†ç»å¸¸ä¼šè‡ªåŠ¨è®¾ç½®ï¼Œæœ‰æ—¶å€™æ‰‹åŠ¨ç»™å–æ¶ˆäº†ï¼Œä¸‹æ¬¡å†ç”¨åˆæœ‰äº†ï¼Œè¿™æ¬¡ç»ˆäºå¿ä¸äº†äº†ï¼Œå°±æœäº†ä¸€ä¸‹ç»™è§£å†³äº†</p>
</blockquote>
<h3 id="1å®šä½bug">1ã€å®šä½bug</h3>
<p>export æŸ¥çœ‹ä¸‹ï¼Œæœ‰ç›¸åº”ç«¯å£ï¼Œæ‰‹åŠ¨å–æ¶ˆåï¼Œå†æŸ¥çœ‹æ²¡æœ‰äº†ï¼Œé‡å¯ååˆæœ‰äº†ï¼Œåˆ¤æ–­æ˜¯æŸä¸ªè„šæœ¬é‡Œå¸¦ç›¸å…³å‘½ä»¤</p>
<h3 id="2æœç´¢èµ„æ–™">2ã€æœç´¢èµ„æ–™</h3>
<p>é€šè¿‡æŸ¥æ‰¾å¾—çŸ¥æœ‰ä¸ª.bashrcæ–‡ä»¶ä¹Ÿå¯ä»¥è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œåªå¯¹å½“å‰ç”¨æˆ·æœ‰æ•ˆï¼Œvimè¿›å»çœ‹äº†ä¸‹ï¼Œæœç„¶æœ‰ç›¸åº”å‘½ä»¤ï¼Œåˆ é™¤ï¼Œé‡å¯ï¼Œå†exportï¼Œä»£ç†æ²¡äº†ï¼Œç»“æŸğŸ‰</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>æ¯”ä»·åŠ©æ‰‹æœºå™¨äººdockerå¿«é€Ÿéƒ¨ç½²</title>
      <link>https://blog.zsan.cf/posts/comparison-robot-building-for-docker/</link>
      <pubDate>Sun, 06 Feb 2022 17:05:32 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/comparison-robot-building-for-docker/</guid>
      <description>å¯¹äºå•†å“æ¯”ä»·æ˜¯ä¸ªä¸é”™çš„è´­ä¹°å•†å“çš„æ–¹æ³•ï¼Œå¯ä»¥ç»™æˆ‘ä»¬æ˜¯å¦å€¼å¾—å…¥æ‰‹è¿™ä»¶å•†å“æä¾›å†³ç­–ã€‚å„å¤§å•†åŸæœ‰è¿™æ–¹é¢æ•°æ®ä½†ä¸ä¼šå…è´¹ç»™åˆ†äº«å‡ºæ¥ï¼Œç¬¬ä¸‰æ–¹ç½‘ç«™æœ‰ç›¸å…³æœåŠ¡ï¼Œä½†ä½“éªŒä¸å¥½ï¼Œç›¸å…³apiä¹Ÿå¤ªè´µï¼Œè¿™æ¬¡æ‰¾åˆ°äº†å¤§ä½¬å…è´¹æä¾›çš„å¯¹è¯botçš„æ¯”ä»·åŠ©æ‰‹â€”â€”å‚»å¦åŠ©æ‰‹ï¼Œåº”è¯¥æ˜¯å†…ç½®æ¯”ä»·apiå§ï¼ç›®å‰æ¥è¯´æ•°æ®è¿˜å¯ä»¥å€¼å¾—å‚è€ƒçš„ï¼Œç”¨äº†dockeréƒ¨ç½²ï¼Œå¾ˆå¿«æå®šï¼
ä¸€ã€éƒ¨ç½²å‚»å¦åŠ©æ‰‹bot é¡¹ç›®åœ°å€ï¼šGitHub - cdle/sillyGirl: å‚»å¦æœºå™¨äºº
ä¸€é”®å®‰è£…ï¼šæ”¯æŒlinux arm64å’Œamd64ä½ cd /opt s=sillyGirl;a=arm64;if [[ $(uname -a | grep &amp;#34;x86_64&amp;#34;) != &amp;#34;&amp;#34; ]];then a=amd64;fi ;if [ ! -d $s ];then mkdir $s;fi ;cd $s;wget https://github.com/cdle/${s}/releases/download/main/${s}_linux_$a -O $s &amp;amp;&amp;amp; chmod 777 $s;pkill -9 $s;$(pwd)/$s åœ¨ç›®å½•/etc/sillyGirlä¸‹æ–°å»ºsets.confå¯ä»¥è¿›è¡Œåˆå§‹åŒ–é…ç½®
ä¸»è¦æ˜¯é…ç½®ç®¡ç†å‘˜è´¦å·ç­‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è¯é…ç½®
### ä¸€äº›åŸºç¡€è®¾ç½® ### # å‚»å¦æœºå™¨äººå set sillyGirl name å‚»å¦ # å‚»å¦httpæœåŠ¡ç«¯å£ set sillyGirl port 800 # å‚»å¦æ¶ˆæ¯æ’¤å›ç­‰å¾…æ—¶é—´ï¼Œå•ä½ç§’ set sillyGirl duration 5 # å‚»å¦è‡ªåŠ¨å‡çº§æ˜¯å¦é€šçŸ¥ set sillyGirl update_notify true # æ˜¯å¦å¼€å¯å‚»å¦è‡ªåŠ¨æ›´æ–° set sillyGirl auto_update false # å‚»å¦å†…ç½®èµèµç  set sillyGirl appreciate https://gitee.com/aiancandle/sillyGirl/raw/main/appreciate.jpg #æ˜¯å¦å¯åŠ¨httpæœåŠ¡ set sillyGirl enable_http_server true # å…³é—­å®ˆæŠ¤æ¨¡å¼ï¼Œå®ˆæŠ¤æ¨¡å¼ä¼šå¯¼è‡´æ²¡æ³•è‡ªåŠ¨å‡çº§ #systemctl disable sillyGirl ### å¯¹æ¥é’é¾™çš„è®¾ç½® ### # è®¾ç½®é’é¾™openapiçš„client_idå‚æ•° #set qinglong client_id ? # è®¾ç½®é’é¾™openapiçš„client_secretå‚æ•° #set qinglong client_secret ? # é’é¾™æ˜¯å¦å¼€å¯è‡ªåŠ¨éšè—é‡å¤ä»»åŠ¡åŠŸèƒ½ #set qinglong autoCronHideDuplicate true # è®¾ç½®é’é¾™é¢æ¿åœ°å€ #set qinglong host http://127.0.0.1:5700 ### å¯¹æ¥QQçš„è®¾ç½® ### # è®¾ç½®qqç™»å½•è´¦å· #set qq uin ? # è®¾ç½®qqç™»å½•å¯†ç  #set qq password ? # è®¾ç½®qqä¸´æ—¶æ¶ˆæ¯é»˜è®¤ç¾¤å· #set qq tempMessageGroupCode ? # æŒ‡å®šè¦ç›‘å¬çš„qqç¾¤ #set qq onGroups g1&amp;amp;g2&amp;amp;g3... # è®¾ç½®æ˜¯å¦è‡ªåŠ¨åŒæ„å¥½å‹è¯·æ±‚ #set qq auto_friend false # è®¾ç½®æ˜¯å¦å¯¹ç›‘å¬è‡ªèº«æ¶ˆæ¯ #set qq onself true # è®¾ç½®qqç®¡ç†å‘˜ #set qq masters q1&amp;amp;q2&amp;amp;q3.</description>
      <content:encoded><![CDATA[<blockquote>
<p>å¯¹äºå•†å“æ¯”ä»·æ˜¯ä¸ªä¸é”™çš„è´­ä¹°å•†å“çš„æ–¹æ³•ï¼Œå¯ä»¥ç»™æˆ‘ä»¬æ˜¯å¦å€¼å¾—å…¥æ‰‹è¿™ä»¶å•†å“æä¾›å†³ç­–ã€‚å„å¤§å•†åŸæœ‰è¿™æ–¹é¢æ•°æ®ä½†ä¸ä¼šå…è´¹ç»™åˆ†äº«å‡ºæ¥ï¼Œç¬¬ä¸‰æ–¹ç½‘ç«™æœ‰ç›¸å…³æœåŠ¡ï¼Œä½†ä½“éªŒä¸å¥½ï¼Œç›¸å…³apiä¹Ÿå¤ªè´µï¼Œè¿™æ¬¡æ‰¾åˆ°äº†å¤§ä½¬å…è´¹æä¾›çš„å¯¹è¯botçš„æ¯”ä»·åŠ©æ‰‹â€”â€”å‚»å¦åŠ©æ‰‹ï¼Œåº”è¯¥æ˜¯å†…ç½®æ¯”ä»·apiå§ï¼ç›®å‰æ¥è¯´æ•°æ®è¿˜å¯ä»¥å€¼å¾—å‚è€ƒçš„ï¼Œç”¨äº†dockeréƒ¨ç½²ï¼Œå¾ˆå¿«æå®šï¼</p>
</blockquote>
<h1 id="ä¸€éƒ¨ç½²å‚»å¦åŠ©æ‰‹bot">ä¸€ã€éƒ¨ç½²å‚»å¦åŠ©æ‰‹bot</h1>
<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/cdle/sillyGirl">GitHub - cdle/sillyGirl: å‚»å¦æœºå™¨äºº</a></p>
<h3 id="ä¸€é”®å®‰è£…æ”¯æŒlinux-arm64å’Œamd64ä½">ä¸€é”®å®‰è£…ï¼šæ”¯æŒlinux arm64å’Œamd64ä½</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cd /opt
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">=</span>sillyGirl;a<span style="color:#f92672">=</span>arm64;<span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> <span style="color:#66d9ef">$(</span>uname -a | grep <span style="color:#e6db74">&#34;x86_64&#34;</span><span style="color:#66d9ef">)</span> !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">]]</span>;<span style="color:#66d9ef">then</span> a<span style="color:#f92672">=</span>amd64;<span style="color:#66d9ef">fi</span> ;<span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -d $s <span style="color:#f92672">]</span>;<span style="color:#66d9ef">then</span> mkdir $s;<span style="color:#66d9ef">fi</span> ;cd $s;wget https://github.com/cdle/<span style="color:#e6db74">${</span>s<span style="color:#e6db74">}</span>/releases/download/main/<span style="color:#e6db74">${</span>s<span style="color:#e6db74">}</span>_linux_$a -O $s <span style="color:#f92672">&amp;&amp;</span> chmod <span style="color:#ae81ff">777</span> $s;pkill -9 $s;<span style="color:#66d9ef">$(</span>pwd<span style="color:#66d9ef">)</span>/$s
</span></span></code></pre></div><p>åœ¨ç›®å½•/etc/sillyGirlä¸‹æ–°å»ºsets.confå¯ä»¥è¿›è¡Œåˆå§‹åŒ–é…ç½®</p>
<p>ä¸»è¦æ˜¯é…ç½®ç®¡ç†å‘˜è´¦å·ç­‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è¯é…ç½®</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>### ä¸€äº›åŸºç¡€è®¾ç½® ###
</span></span><span style="display:flex;"><span># å‚»å¦æœºå™¨äººå
</span></span><span style="display:flex;"><span>set sillyGirl name å‚»å¦
</span></span><span style="display:flex;"><span># å‚»å¦httpæœåŠ¡ç«¯å£
</span></span><span style="display:flex;"><span>set sillyGirl port 800
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å‚»å¦æ¶ˆæ¯æ’¤å›ç­‰å¾…æ—¶é—´ï¼Œå•ä½ç§’
</span></span><span style="display:flex;"><span>set sillyGirl duration 5
</span></span><span style="display:flex;"><span># å‚»å¦è‡ªåŠ¨å‡çº§æ˜¯å¦é€šçŸ¥
</span></span><span style="display:flex;"><span>set sillyGirl update_notify true
</span></span><span style="display:flex;"><span># æ˜¯å¦å¼€å¯å‚»å¦è‡ªåŠ¨æ›´æ–°
</span></span><span style="display:flex;"><span>set sillyGirl auto_update false
</span></span><span style="display:flex;"><span># å‚»å¦å†…ç½®èµèµç 
</span></span><span style="display:flex;"><span>set sillyGirl appreciate https://gitee.com/aiancandle/sillyGirl/raw/main/appreciate.jpg
</span></span><span style="display:flex;"><span>#æ˜¯å¦å¯åŠ¨httpæœåŠ¡
</span></span><span style="display:flex;"><span>set sillyGirl enable_http_server true
</span></span><span style="display:flex;"><span># å…³é—­å®ˆæŠ¤æ¨¡å¼ï¼Œå®ˆæŠ¤æ¨¡å¼ä¼šå¯¼è‡´æ²¡æ³•è‡ªåŠ¨å‡çº§
</span></span><span style="display:flex;"><span>#systemctl disable sillyGirl
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥é’é¾™çš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># è®¾ç½®é’é¾™openapiçš„client_idå‚æ•°
</span></span><span style="display:flex;"><span>#set qinglong client_id ?
</span></span><span style="display:flex;"><span># è®¾ç½®é’é¾™openapiçš„client_secretå‚æ•°
</span></span><span style="display:flex;"><span>#set qinglong client_secret ?
</span></span><span style="display:flex;"><span># é’é¾™æ˜¯å¦å¼€å¯è‡ªåŠ¨éšè—é‡å¤ä»»åŠ¡åŠŸèƒ½
</span></span><span style="display:flex;"><span>#set qinglong autoCronHideDuplicate true
</span></span><span style="display:flex;"><span># è®¾ç½®é’é¾™é¢æ¿åœ°å€
</span></span><span style="display:flex;"><span>#set qinglong host http://127.0.0.1:5700
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥QQçš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># è®¾ç½®qqç™»å½•è´¦å·
</span></span><span style="display:flex;"><span>#set qq uin ?
</span></span><span style="display:flex;"><span># è®¾ç½®qqç™»å½•å¯†ç 
</span></span><span style="display:flex;"><span>#set qq password ?
</span></span><span style="display:flex;"><span># è®¾ç½®qqä¸´æ—¶æ¶ˆæ¯é»˜è®¤ç¾¤å·
</span></span><span style="display:flex;"><span>#set qq tempMessageGroupCode ?
</span></span><span style="display:flex;"><span># æŒ‡å®šè¦ç›‘å¬çš„qqç¾¤
</span></span><span style="display:flex;"><span>#set qq onGroups g1&amp;g2&amp;g3...
</span></span><span style="display:flex;"><span># è®¾ç½®æ˜¯å¦è‡ªåŠ¨åŒæ„å¥½å‹è¯·æ±‚
</span></span><span style="display:flex;"><span>#set qq auto_friend false
</span></span><span style="display:flex;"><span># è®¾ç½®æ˜¯å¦å¯¹ç›‘å¬è‡ªèº«æ¶ˆæ¯
</span></span><span style="display:flex;"><span>#set qq onself true
</span></span><span style="display:flex;"><span># è®¾ç½®qqç®¡ç†å‘˜
</span></span><span style="display:flex;"><span>#set qq masters q1&amp;q2&amp;q3...
</span></span><span style="display:flex;"><span># è®¾ç½®æ¥å—é€šçŸ¥çš„qqè´¦å·
</span></span><span style="display:flex;"><span>#set qq notifier q1&amp;q2&amp;q3...
</span></span><span style="display:flex;"><span># è®¾ç½®qqè®¾å¤‡ä¿¡æ¯(è‡ªåŠ¨ç”Ÿæˆ)
</span></span><span style="display:flex;"><span>#set qq device.json ?
</span></span><span style="display:flex;"><span># è®¾ç½®qqç™»å½•ä»¤ç‰Œ(è‡ªåŠ¨ç”Ÿæˆ)
</span></span><span style="display:flex;"><span>#set qq session.token ?
</span></span><span style="display:flex;"><span># æ³¨é”€qqbotå‘½ä»¤ï¼Œé‡æ–°è¿è¡Œæ‰«ç å³å¯
</span></span><span style="display:flex;"><span>#delete qq session.token
</span></span><span style="display:flex;"><span># æŒ‡å®šç³»ç»Ÿé€šçŸ¥å‘é€å¯¹è±¡å‘½ä»¤ï¼Œå¦‚ä¸è®¾ç½®é»˜è®¤å‘é€ç»™æ‰€æœ‰ç®¡ç†å‘˜ã€‚
</span></span><span style="display:flex;"><span>#set [im type] notifiers [accounts join by &#39;&amp;&#39;] 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥telegramçš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># è®¾ç½®telegramæœºå™¨äººtoken
</span></span><span style="display:flex;"><span>#set tg token ?
</span></span><span style="display:flex;"><span># è®¾ç½®telegramæœºå™¨äººä»£ç†
</span></span><span style="display:flex;"><span>#set tg http_proxy ?
</span></span><span style="display:flex;"><span># è®¾ç½®telegramæœºå™¨äººç®¡ç†å‘˜
</span></span><span style="display:flex;"><span>#set tg masters t1&amp;t2&amp;t3...
</span></span><span style="display:flex;"><span># è®¾ç½®æ¥å—é€šçŸ¥çš„telegramè´¦å·
</span></span><span style="display:flex;"><span>#set tg notifier t1&amp;t2&amp;t3...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥å¾®ä¿¡å…¬ä¼—å·çš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°app_id
</span></span><span style="display:flex;"><span>#set wxmp app_id ?
</span></span><span style="display:flex;"><span># è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°app_secret
</span></span><span style="display:flex;"><span>#set wxmp app_secret ?
</span></span><span style="display:flex;"><span># è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°token
</span></span><span style="display:flex;"><span>#set wxmp token ?
</span></span><span style="display:flex;"><span># è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°encoding_aes_key
</span></span><span style="display:flex;"><span>#set wxmp encoding_aes_key ?
</span></span><span style="display:flex;"><span># è®¾ç½®å¾®ä¿¡å…¬ä¼—å¹³å°ç®¡ç†å‘˜
</span></span><span style="display:flex;"><span>#set wxmp masters w1&amp;w2&amp;w3...
</span></span><span style="display:flex;"><span># è®¾ç½®å…¬ä¼—å·å…³æ³¨äº‹ä»¶å›å¤
</span></span><span style="display:flex;"><span>#set wxmp subscribe_reply æ„Ÿè°¢å…³æ³¨ï¼
</span></span><span style="display:flex;"><span># è®¾ç½®å…¬ä¼—å·é»˜è®¤å›å¤
</span></span><span style="display:flex;"><span>#set wxmp default_reply æ— æ³•å›å¤è¯¥æ¶ˆæ¯
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥å¾®ä¿¡å·çš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># å‚»å¦å†…ç½®å¾®ä¿¡æ’ä»¶ï¼Œä¾èµ–äºå¯çˆ±çŒ«å’Œhttp-sdk
</span></span><span style="display:flex;"><span># å‚»å¦è¿œç¨‹å¤„ç†æ¥å£ /wx/receive
</span></span><span style="display:flex;"><span># è®¾ç½®æ’ä»¶è°ƒç”¨åœ°å€ï¼Œç¡®ä¿å‚»å¦å¯ä»¥è®¿é—®å¯çˆ±çŒ«ç«¯å£
</span></span><span style="display:flex;"><span>#set wx api_url ?
</span></span><span style="display:flex;"><span># è®¾ç½®å›¾ç‰‡è½¬å‘æ¨¡å¼ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°æ­¤å›¾ç‰‡æ¥è‡ªxxæœªç»å…è®¸ä¸å¾—ä½¿ç”¨çš„æç¤º
</span></span><span style="display:flex;"><span>set wx relay_mode true
</span></span><span style="display:flex;"><span># è®¾ç½®æŒ‡å®šè½¬å‘åœ°å€ï¼Œæ ¼å¼ä¸º https://åŸŸå/relay?url=%sï¼Œä¸çŸ¥é“ä¸ç”¨å¡«
</span></span><span style="display:flex;"><span>#set wx relaier ?
</span></span><span style="display:flex;"><span># è®¾ç½®# å‚»å¦æ˜¯å¦åŠ¨æ€ç½‘ç»œåœ°å€ï¼Œé€‚ç”¨äº# å‚»å¦å®¶åº­å®½å¸¦è€Œå¯çˆ±çŒ«åœ¨äº‘æœåŠ¡å™¨çš„æƒ…å†µä¸‹
</span></span><span style="display:flex;"><span>#set wx sillyGirl_dynamic_ip true
</span></span><span style="display:flex;"><span># è®¾ç½®å¯çˆ±çŒ«æ˜¯å¦åŠ¨æ€ç½‘ç»œåœ°å€ï¼Œé€‚ç”¨äºå¯çˆ±çŒ«å®¶åº­å®½å¸¦è€Œ# å‚»å¦åœ¨äº‘æœåŠ¡å™¨çš„æƒ…å†µä¸‹
</span></span><span style="display:flex;"><span>#set wx keaimao_dynamic_ip true
</span></span><span style="display:flex;"><span># è®¾ç½®å¯çˆ±çŒ«ç«¯å£
</span></span><span style="display:flex;"><span>#set wx keaimao_port ?
</span></span><span style="display:flex;"><span># è®¾ç½®å¾®ä¿¡ç®¡ç†å‘˜
</span></span><span style="display:flex;"><span>#set wx masters ?
</span></span><span style="display:flex;"><span># vlwçš„APIè°ƒç”¨åœ°å€
</span></span><span style="display:flex;"><span>#set wx vlw_addr http://ip:port
</span></span><span style="display:flex;"><span># vlwçš„token
</span></span><span style="display:flex;"><span>#set wx vlw_token ?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥pushplusçš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># ç®¡ç†å‘˜æ¨é€ç»‘å®špushplusæŒ‡ä»¤
</span></span><span style="display:flex;"><span>#set sillyGirl pushplus [token]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å…³é”®è¯æ’¤å›åŠŸèƒ½ï¼Œå…³é”®è¯æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼ã€‚
</span></span><span style="display:flex;"><span>#set sillyGirl recall å…³é”®è¯1&amp;å…³é”®è¯2...
</span></span><span style="display:flex;"><span># å…³é”®è¯å›å¤åŠŸèƒ½ï¼Œç¬¬ä¸€ä¸ªé—®å·æ˜¯æ”¯æŒæ­£åˆ™çš„å…³é”®è¯ï¼Œç¬¬äºŒä¸ªé—®å·æ˜¯å›å¤çš„å†…å®¹ã€‚
</span></span><span style="display:flex;"><span>#set reply ? ?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥èŠå£«çš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># èµ„äº§æ¨é€å®šæ—¶ï¼Œä»¥ä¹ç‚¹ä¸ºä¾‹ï¼ŒåŒ…æ‹¬å¤±æ•ˆæé†’ã€‚
</span></span><span style="display:flex;"><span>set jd_cookie asset_push 0 9 * * *
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># è®¾ç½®é˜¿ä¸œç™»å½•åœ°å€ï¼Œä¾‹ï¼šset jd_cookie adong_addr 192.168.1.1:5702
</span></span><span style="display:flex;"><span>#set jd_cookie adong_addr é˜¿ä¸œip:ç«¯å£
</span></span><span style="display:flex;"><span># è®¾ç½®é˜¿ä¸œqqæœºå™¨äººè´¦å·ï¼Œè¿™é‡Œçš„æœºå™¨äººqqè´¦å·ï¼Œè¯·åŠ¡å¿…å’Œé˜¿ä¸œgo-cqhttpé…ç½®ä¸­config.ymlé‡Œqqä¸€æ ·ã€‚
</span></span><span style="display:flex;"><span>#set jd_cookie selfQid æœºå™¨äººqqè´¦å·
</span></span><span style="display:flex;"><span># è®¾ç½®ç™»å½•å‘ä½
</span></span><span style="display:flex;"><span>#set jd_cookie login_num ?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#è®¾ç½®è¯ºå…°ç™»é™†åœ°å€
</span></span><span style="display:flex;"><span>#set jd_cookie nolan_addr http://è¯ºå…°ip:ç«¯å£
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span># å¯¹æ¥xddï¼Œé¢å¤–è®¾ç½®å‚æ•°
</span></span><span style="display:flex;"><span>#set jd_cookie xdd_token ?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥å°çˆ±åŒå­¦çš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># å°çˆ±åŒå­¦ï¼Œå¯ä»¥æŒ‡å®šAPIï¼Œå¯¹å°çˆ±è¯´å¯¹è¯æ¨¡å¼å³å¯å¼€å¯è¿ç»­å¯¹è¯æ¨¡å¼ï¼Œé—­å˜´å¯å…³é—­ã€‚
</span></span><span style="display:flex;"><span>#set sillyGirl å°çˆ±åŒå­¦ http://81.70.100.130/api/xiaoai.php?msg=%s&amp;n=text #æŒ‚äº†å°±è‡ªå·±æ¢
</span></span><span style="display:flex;"><span>#set sillyGirl å°çˆ±åŒå­¦ http://jiuli.xiaoapi.cn/i/xiaoai_tts.php?msg=%s #æŒ‚äº†å°±è‡ªå·±æ¢
</span></span><span style="display:flex;"><span># å¤„ç†jsonæ ¼å¼æ•°æ®çš„å°çˆ±apiï¼Œä¸å¡«è·å–æ•´ä¸ªæ–‡æœ¬
</span></span><span style="display:flex;"><span>#set sillyGirl å°çˆ±åŒå­¦gjson text
</span></span><span style="display:flex;"><span># åˆ é™¤å¤„ç†jsonæ ¼å¼æ•°æ®çš„å°çˆ±api
</span></span><span style="display:flex;"><span>#silly delete å°çˆ±åŒå­¦gjson
</span></span><span style="display:flex;"><span># ä½¿ç”¨æ–¹æ³•ï¼š
</span></span><span style="display:flex;"><span>#1ã€å”¤èµ·å°çˆ±ï¼šå‘é€â€œå°çˆ±+æƒ³è¯´çš„è¯â€ï¼Œä¾‹å¦‚ï¼šå°çˆ±ä»Šå¤©å¤©æ°”ã€‚
</span></span><span style="display:flex;"><span>#2ã€å¯¹è¯æ¨¡å¼ï¼šå‘é€â€œå°çˆ±å¯¹è¯æ¨¡å¼â€å¼€å¯ï¼Œå‘é€â€œé—­å˜´â€ç»“æŸã€‚
</span></span><span style="display:flex;"><span>#3ã€æˆè¯­æ¥é¾™ï¼šå‘é€â€œæˆè¯­æ¥é¾™â€å¼€å§‹ã€‚è¿™ä¸ªå¯åº”è¯¥ä¸æ˜¯å°çˆ±åŒå­¦çš„åŠŸèƒ½ï¼Œä½†æˆ‘æ‡’å¾—å•ç‹¬å†™å®ƒäº†ã€‚
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>### å¯¹æ¥çŸ­ç½‘å€çš„è®¾ç½® ###
</span></span><span style="display:flex;"><span># è®¾ç½®çŸ­ç½‘å€æœåŠ¡åœ°å€ï¼Œå¡«å‚»å¦å¯¹å¤–çš„å¯ä»¥è®¿é—®çš„åœ°å€ã€‚
</span></span><span style="display:flex;"><span>#set dwz address ?
</span></span><span style="display:flex;"><span># è®¾ç½®çŸ­ç½‘å€æœåŠ¡å‰ç¼€
</span></span><span style="display:flex;"><span>#set dwz prefix d
</span></span><span style="display:flex;"><span># ä½¿ç”¨æ–¹æ³•
</span></span><span style="display:flex;"><span>#å‘é€â€œçŸ­ç½‘å€+ä½ æƒ³è¦è½¬æ¢çš„ç½‘å€â€œ #ä¾‹ï¼šçŸ­ç½‘å€ http://kejiwanjia.com/
</span></span></code></pre></div><h3 id="å¯åŠ¨å‘½ä»¤">å¯åŠ¨å‘½ä»¤</h3>
<p>é…ç½®å®Œæˆåï¼Œåœ¨/opt/sillyGirlä¸‹æ‰§è¡Œ ./sillyGirl -t æŸ¥çœ‹æ˜¯å¦è¿è¡ŒæˆåŠŸ</p>
<p>è¾“å…¥  time</p>
<p>æˆåŠŸå æ‰§è¡Œ ./sillyGirl -d åå°è¿è¡Œ</p>
<h3 id="å…¶ä»–å¸¸ç”¨å‘½ä»¤">å…¶ä»–å¸¸ç”¨å‘½ä»¤</h3>
<p>æ€æ‰è¿›ç¨‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>ps -A|grep sillyGirl
</span></span><span style="display:flex;"><span>kill pid 
</span></span></code></pre></div><p>æŸ¥çœ‹ç«¯å£æ˜¯å¦å¼€å¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>netstat -tlan
</span></span></code></pre></div><h1 id="äºŒéƒ¨ç½²node-onebot">äºŒã€éƒ¨ç½²node-onebot</h1>
<blockquote>
<p>å‚»å¦å¼€å‘è€…æŠŠå†…ç½®qqç™»å½•ç»™å»æ‰äº†ï¼Œéœ€è¦è‡ªå·±å¯¹æ¥qqbot</p>
<p>å®˜æ–¹ç»™çš„æ˜¯nodeå®‰è£…çš„ï¼Œéœ€è¦å®‰è£…nodeç¯å¢ƒï¼Œå¤ªéº»çƒ¦ï¼Œæ”¹ä¸ºç”¨dockerå®‰è£…</p>
</blockquote>
<h3 id="1æ‹‰å–ä»£ç ">1ã€æ‹‰å–ä»£ç </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>//å›½å¤–æœº
</span></span><span style="display:flex;"><span>git clone https://github.com/takayama-lily/node-onebot
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>//å›½å†…æœº
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git clone https://ghproxy.realproxy.workers.dev/https://github.com/takayama-lily/node-onebot
</span></span><span style="display:flex;"><span>æœº
</span></span></code></pre></div><h3 id="2ä¿®æ”¹dockerfileæ–‡ä»¶">2ã€ä¿®æ”¹Dockerfileæ–‡ä»¶</h3>
<p>ä¿®æ”¹é»˜è®¤Dockerfileé‡Œé¢æœ€åä¸€è¡Œçš„QQå·æˆè‡ªå·±çš„botè´¦å·</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>FROM node:14-alpine
</span></span><span style="display:flex;"><span>WORKDIR /app
</span></span><span style="display:flex;"><span>COPY . .
</span></span><span style="display:flex;"><span>CMD [&#34;node&#34;, &#34;main&#34;,&#34;è¿™é‡Œæ”¹ä¸ºè‡ªå·±çš„botè´¦å·&#34;]
</span></span></code></pre></div><h3 id="3åˆ›å»ºconfigjsæ–‡ä»¶">3ã€åˆ›å»ºconfig.jsæ–‡ä»¶</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>cp config.sample.js config.js
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#e6db74">&#34;use strict&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å°†æ­¤æ–‡ä»¶æ›´åä¸ºconfig.jsæ‰èƒ½ç”Ÿæ•ˆå“¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//é€šç”¨é…ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">general</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">platform</span><span style="color:#f92672">:</span>           <span style="color:#ae81ff">5</span>,      <span style="color:#75715e">//1:å®‰å“æ‰‹æœº 2:aPad 3:å®‰å“æ‰‹è¡¨ 4:MacOS 5:iPad
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">debug</span><span style="color:#f92672">:</span>              <span style="color:#66d9ef">false</span>,  <span style="color:#75715e">//å¼€å¯debug
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use_cqhttp_notice</span><span style="color:#f92672">:</span>  <span style="color:#66d9ef">true</span>,   <span style="color:#75715e">//æ˜¯å¦ä½¿ç”¨cqhttpæ ‡å‡†çš„noticeäº‹ä»¶æ ¼å¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">host</span><span style="color:#f92672">:</span>               <span style="color:#e6db74">&#34;localhost&#34;</span>,  <span style="color:#75715e">//ç›‘å¬ä¸»æœºå
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">port</span><span style="color:#f92672">:</span>               <span style="color:#ae81ff">5700</span>,       <span style="color:#75715e">//ç«¯å£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use_http</span><span style="color:#f92672">:</span>           <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//å¯ç”¨http
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use_ws</span><span style="color:#f92672">:</span>             <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//å¯ç”¨æ­£å‘wsï¼Œå’Œhttpä½¿ç”¨ç›¸åŒåœ°å€å’Œç«¯å£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">access_token</span><span style="color:#f92672">:</span>       <span style="color:#e6db74">&#34;&#34;</span>,         <span style="color:#75715e">//è®¿é—®apiçš„token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">secret</span><span style="color:#f92672">:</span>             <span style="color:#e6db74">&#34;&#34;</span>,         <span style="color:#75715e">//ä¸ŠæŠ¥æ•°æ®çš„sha1ç­¾åå¯†é’¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">post_timeout</span><span style="color:#f92672">:</span>       <span style="color:#ae81ff">30</span>,         <span style="color:#75715e">//postè¶…æ—¶æ—¶é—´(ç§’)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">post_message_format</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;array&#34;</span>,    <span style="color:#75715e">//&#34;string&#34;æˆ–&#34;array&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">enable_cors</span><span style="color:#f92672">:</span>        <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">enable_heartbeat</span><span style="color:#f92672">:</span>   <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//æ˜¯å¦å¯ç”¨wså¿ƒè·³
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">heartbeat_interval</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15000</span>,      <span style="color:#75715e">//wså¿ƒè·³é—´éš”(æ¯«ç§’)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">rate_limit_interval</span><span style="color:#f92672">:</span><span style="color:#ae81ff">500</span>,        <span style="color:#75715e">//ä½¿ç”¨_rate_limitedåç¼€é™é€Ÿè°ƒç”¨apiçš„æ’é˜Ÿé—´éš”æ—¶é—´(æ¯«ç§’)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">event_filter</span><span style="color:#f92672">:</span>       <span style="color:#e6db74">&#34;&#34;</span>,         <span style="color:#75715e">//jsonæ ¼å¼çš„äº‹ä»¶è¿‡æ»¤å™¨æ–‡ä»¶è·¯å¾„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">post_url</span><span style="color:#f92672">:</span> [ <span style="color:#75715e">//ä¸ŠæŠ¥åœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// &#34;http://your.address.com:80&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ws_reverse_url</span><span style="color:#f92672">:</span> [ <span style="color:#75715e">//åå‘wsåœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#e6db74">&#34;ws://127.0.0.1:8080/qq/receive&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//è¿™æ˜¯å‚»å¦çš„åå‘é“¾æ¥åœ°å€ï¼Œå…¶ä¸­çš„8080ç«¯å£è®°å¾—æ”¹æˆä½ å‚»å¦çš„ç«¯å£ï¼ŒåŒæ—¶å¼€å¯å‚»å¦çš„å‚»å¦çš„http serverï¼Œå³set sillyGirl enable_http_server true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ws_reverse_reconnect_interval</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3000</span>, <span style="color:#75715e">//åå‘wsæ–­çº¿é‡è¿é—´éš”(æ¯«ç§’)ï¼Œè®¾ä¸ºè´Ÿæ•°ç›´æ¥ä¸é‡è¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">ws_reverse_reconnect_on_code_1000</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#75715e">//åå‘wsæ˜¯å¦åœ¨å…³é—­çŠ¶æ€ç ä¸º1000çš„æ—¶å€™é‡è¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//æ¯ä¸ªè´¦å·çš„å•ç‹¬é…ç½®(ç”¨äºè¦†ç›–é€šç”¨é…ç½®)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#ae81ff">147258369</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å®‰å…¨æ³¨æ„ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ç›‘å¬0.0.0.0è¡¨ç¤ºç›‘å¬ç½‘å¡ä¸Šçš„æ‰€æœ‰åœ°å€ã€‚å¦‚æœä½ çš„æœºå™¨å¯ä»¥é€šè¿‡å…¬ç½‘ipç›´æ¥è®¿é—®ï¼ŒåŒæ—¶ä½ ä¹Ÿæ²¡æœ‰è®¾å®šaccess_tokenï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯æä¸å®‰å…¨çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä½ åº”è¯¥çŸ¥é“è¿™æ ·åšä¼šå¯¼è‡´ä»¥ä¸‹åæœï¼šä»»ä½•äººéƒ½å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®ä½ çš„Botçš„æ‰€æœ‰APIæ¥å£ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// å¦‚æœåªéœ€è¦åœ¨æœ¬åœ°è®¿é—®ï¼Œå»ºè®®å°†ç›‘å¬åœ°å€æ”¹ä¸ºlocalhostã€‚éœ€è¦é€šè¿‡å…¬ç½‘è®¿é—®ï¼Œä½ æœ€å¥½è®¾å®šaccess_tokenã€‚
</span></span></span></code></pre></div><p>ç»ˆæé˜²é£æ§ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#e6db74">&#34;use strict&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å°†æ­¤æ–‡ä»¶æ›´åä¸ºconfig.jsæ‰èƒ½ç”Ÿæ•ˆå“¦
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//é€šç”¨é…ç½®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">general</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">platform</span><span style="color:#f92672">:</span>           <span style="color:#ae81ff">3</span>,      <span style="color:#75715e">//1:å®‰å“æ‰‹æœº 2:aPad 3:å®‰å“æ‰‹è¡¨ 4:MacOS 5:iPad
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">debug</span><span style="color:#f92672">:</span>              <span style="color:#66d9ef">false</span>,  <span style="color:#75715e">//å¼€å¯debug
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use_cqhttp_notice</span><span style="color:#f92672">:</span>  <span style="color:#66d9ef">true</span>,   <span style="color:#75715e">//æ˜¯å¦ä½¿ç”¨cqhttpæ ‡å‡†çš„noticeäº‹ä»¶æ ¼å¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">host</span><span style="color:#f92672">:</span>               <span style="color:#e6db74">&#34;localhost&#34;</span>,  <span style="color:#75715e">//ç›‘å¬ä¸»æœºå
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">port</span><span style="color:#f92672">:</span>               <span style="color:#ae81ff">5700</span>,       <span style="color:#75715e">//ç«¯å£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use_http</span><span style="color:#f92672">:</span>           <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//å¯ç”¨http
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">use_ws</span><span style="color:#f92672">:</span>             <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//å¯ç”¨æ­£å‘wsï¼Œå’Œhttpä½¿ç”¨ç›¸åŒåœ°å€å’Œç«¯å£
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">access_token</span><span style="color:#f92672">:</span>       <span style="color:#e6db74">&#34;&#34;</span>,         <span style="color:#75715e">//è®¿é—®apiçš„token
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">secret</span><span style="color:#f92672">:</span>             <span style="color:#e6db74">&#34;&#34;</span>,         <span style="color:#75715e">//ä¸ŠæŠ¥æ•°æ®çš„sha1ç­¾åå¯†é’¥
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">post_timeout</span><span style="color:#f92672">:</span>       <span style="color:#ae81ff">30</span>,         <span style="color:#75715e">//postè¶…æ—¶æ—¶é—´(ç§’)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">post_message_format</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#34;array&#34;</span>,    <span style="color:#75715e">//&#34;string&#34;æˆ–&#34;array&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">enable_cors</span><span style="color:#f92672">:</span>        <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">enable_heartbeat</span><span style="color:#f92672">:</span>   <span style="color:#66d9ef">false</span>,      <span style="color:#75715e">//æ˜¯å¦å¯ç”¨wså¿ƒè·³
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">heartbeat_interval</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15000</span>,      <span style="color:#75715e">//wså¿ƒè·³é—´éš”(æ¯«ç§’)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">rate_limit_interval</span><span style="color:#f92672">:</span><span style="color:#ae81ff">500</span>,        <span style="color:#75715e">//ä½¿ç”¨_rate_limitedåç¼€é™é€Ÿè°ƒç”¨apiçš„æ’é˜Ÿé—´éš”æ—¶é—´(æ¯«ç§’)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">event_filter</span><span style="color:#f92672">:</span>       <span style="color:#e6db74">&#34;&#34;</span>,         <span style="color:#75715e">//jsonæ ¼å¼çš„äº‹ä»¶è¿‡æ»¤å™¨æ–‡ä»¶è·¯å¾„
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">post_url</span><span style="color:#f92672">:</span> [ <span style="color:#75715e">//ä¸ŠæŠ¥åœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#75715e">// &#34;http://your.address.com:80&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ws_reverse_url</span><span style="color:#f92672">:</span> [ <span style="color:#75715e">//åå‘wsåœ°å€ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªurl
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#e6db74">&#34;ws://127.0.0.1:8080/qq/receive&#34;</span>,
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//è¿™æ˜¯å‚»å¦çš„åå‘é“¾æ¥åœ°å€ï¼Œå…¶ä¸­çš„8080ç«¯å£è®°å¾—æ”¹æˆä½ å‚»å¦çš„ç«¯å£ï¼ŒåŒæ—¶å¼€å¯å‚»å¦çš„å‚»å¦çš„http serverï¼Œå³set sillyGirl enable_http_server true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        ],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ws_reverse_reconnect_interval</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3000</span>, <span style="color:#75715e">//åå‘wsæ–­çº¿é‡è¿é—´éš”(æ¯«ç§’)ï¼Œè®¾ä¸ºè´Ÿæ•°ç›´æ¥ä¸é‡è¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">ws_reverse_reconnect_on_code_1000</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>, <span style="color:#75715e">//åå‘wsæ˜¯å¦åœ¨å…³é—­çŠ¶æ€ç ä¸º1000çš„æ—¶å€™é‡è¿
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    },
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//æ¯ä¸ªè´¦å·çš„å•ç‹¬é…ç½®(ç”¨äºè¦†ç›–é€šç”¨é…ç½®)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#ae81ff">147258369</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// å®‰å…¨æ³¨æ„ï¼š
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ç›‘å¬0.0.0.0è¡¨ç¤ºç›‘å¬ç½‘å¡ä¸Šçš„æ‰€æœ‰åœ°å€ã€‚å¦‚æœä½ çš„æœºå™¨å¯ä»¥é€šè¿‡å…¬ç½‘ipç›´æ¥è®¿é—®ï¼ŒåŒæ—¶ä½ ä¹Ÿæ²¡æœ‰è®¾å®šaccess_tokenï¼Œåˆ™è¢«è®¤ä¸ºæ˜¯æä¸å®‰å…¨çš„ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// ä½ åº”è¯¥çŸ¥é“è¿™æ ·åšä¼šå¯¼è‡´ä»¥ä¸‹åæœï¼šä»»ä½•äººéƒ½å¯ä»¥æ— é™åˆ¶åœ°è®¿é—®ä½ çš„Botçš„æ‰€æœ‰APIæ¥å£ã€‚
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// å¦‚æœåªéœ€è¦åœ¨æœ¬åœ°è®¿é—®ï¼Œå»ºè®®å°†ç›‘å¬åœ°å€æ”¹ä¸ºlocalhostã€‚éœ€è¦é€šè¿‡å…¬ç½‘è®¿é—®ï¼Œä½ æœ€å¥½è®¾å®šaccess_tokenã€‚
</span></span></span></code></pre></div><h3 id="4ç¼–è¯‘docker-image">4ã€ç¼–è¯‘docker image</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker build -t yongs/node-onebot:latest .
</span></span></code></pre></div><p>yongsè‡ªå®šä¹‰çš„ï¼Œéšä¾¿èµ·ï¼Œä¸€å®šä¸è¦å¿˜äº† æœ€åæœ‰ä¸ª<u> . </u>è¡¨ç¤ºåœ¨å½“å‰ç›®å½•æ–‡ä»¶ç¼–è¯‘</p>
<h3 id="5å¯åŠ¨image">5ã€å¯åŠ¨image</h3>
<p>ç”¨çš„æ˜¯docker-composeå¯åŠ¨çš„ï¼Œåˆšæ‰æ‹‰çš„ä»£ç å·²ç»æœ‰yamlæ–‡ä»¶äº†ï¼Œ</p>
<p>éœ€è¦æ³¨æ„ imageåå­—æ˜¯åˆšæ‰ç¼–è¯‘çš„åå­—ï¼Œä¸çŸ¥é“å¯ä»¥ç”¨</p>
<p>docker images æŸ¥çœ‹ï¼Œä¿®æ”¹imageåå­—å³å¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">miraiok</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">yongs/node-onebot</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">network_mode</span>: <span style="color:#e6db74">&#34;host&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./config.js:/root/config.js</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">./data:/app/data</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">stdin_open</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">tty</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">docker-onebot</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker-compose up -d
</span></span></code></pre></div><h3 id="6æŸ¥çœ‹æ—¥å¿—æ‰«ç ç™»å½•ä¸èƒ½ç™»å½•è¿›å…¥å®¹å™¨å†…æ‰«ç ">6ã€æŸ¥çœ‹æ—¥å¿—ï¼Œ<del>æ‰«ç ç™»å½•ï¼Œä¸èƒ½ç™»å½•è¿›å…¥å®¹å™¨å†…æ‰«ç </del></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#æŸ¥çœ‹æ—¥å¿—</span>
</span></span><span style="display:flex;"><span>docker logs -f -n <span style="color:#ae81ff">500</span> docker-onebot
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è¿›å…¥å®¹å™¨</span>
</span></span><span style="display:flex;"><span>docker exec -it docker-onebot /bin/sh
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ‰§è¡Œç™»å½•</span>
</span></span><span style="display:flex;"><span>node main <span style="color:#e6db74">&#34;botqqå·&#34;</span>
</span></span></code></pre></div><p>ç»™å°åŠ©æ‰‹å‘é€å‘½ä»¤çœ‹æ˜¯å¦æˆåŠŸï¼Œæ¯”å¦‚ å‘é€ name</p>
<p>å‘é€ æ·˜å®äº¬è±†æ‹¼å¤šå¤šé“¾æ¥çœ‹æ˜¯å¦å›å¤ï¼Œå›å¤å³éƒ¨ç½²æˆåŠŸã€‚</p>
<p>ç™»å½•æˆåŠŸåï¼Œé‡å¯dockerå³å¯</p>
<p>è¿™é‡Œçš„å‘å°±æ˜¯å‚»å¦å¯åŠ¨å¤±è´¥ï¼Œå¯¼è‡´onebotè¿æ¥ä¸ä¸Šå‚»å¦ã€‚</p>
<h3 id="7ç¾¤è¢«é£æ§çš„è§£å†³åŠæ³•">7ã€ç¾¤è¢«é£æ§çš„è§£å†³åŠæ³•</h3>
<p>å‚è€ƒäº†å¤§ä½¬çš„è§£å†³åŠæ³•<a href="https://github.com/Mrs4s/go-cqhttp/issues/958#issuecomment-890430577">é£æ§è§£é™¤æœ€ç»ˆç‰ˆ</a></p>
<ol>
<li>
<p>å¼€å¯è®¾å¤‡é”ï¼Œè´¦å·è®¾ç½®é‡Œé¢çš„</p>
</li>
<li>
<p>åˆ é™¤session.token æˆ‘æ˜¯ç›´æ¥æŠŠæ•´ä¸ªè´¦å·æ–‡ä»¶å¤¹åˆ äº†</p>
</li>
<li>
<p>åˆ‡æ¢å®‰å“åè®®  1æˆ–è€…3 æˆ‘ç”¨çš„3</p>
</li>
<li>
<p>å¡«å†™å¯†ç ç™»é™†</p>
</li>
<li>
<p>éœ€è¦éªŒè¯ä¿¡æ¯ï¼Œæ ¹æ®æç¤ºä¸€æ­¥ä¸€æ­¥æ“ä½œå³å¯ï¼ˆé“¾æ¥æ¨èåœ¨Chromeé‡Œæ‰“å¼€æŸ¥æ‰¾ï¼‰</p>
</li>
</ol>
<blockquote>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p>1ã€<a href="https://www.kejiwanjia.com/jiaocheng/zheteng/19778.html#node-onebotqqbot">ç¾¤æ™–å‚»å¦SillyGirlå®Œæ•´éƒ¨ç½²æ•™ç¨‹ 12.13æ›´æ–°node-onebot - ç§‘æŠ€ç©å®¶</a></p>
<p>2ã€<a href="https://www.kejiwanjia.com/jiaocheng/51905.html">Dockerç¼–è¯‘node-onebotï¼Œå‚»å¦åˆæ´»äº† - ç§‘æŠ€ç©å®¶</a></p>
<p>3ã€<a href="https://github.com/AboutCXJ/SillyGirlDockerDeploy">GitHub - AboutCXJ/SillyGirlDockerDeploy</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>Hugo è‡ªåŠ¨æ›´æ–°æ–‡ç« ä¿®æ”¹æ—¶é—´</title>
      <link>https://blog.zsan.cf/posts/hugo-auto-update-lastmod/</link>
      <pubDate>Sat, 22 Jan 2022 21:34:31 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/hugo-auto-update-lastmod/</guid>
      <description>configé…ç½®æ–‡ä»¶é‡ŒåŠ ä¸Šå¦‚ä¸‹å‚æ•°ï¼š
frontmatter: lastmod: - lastmod - :git - :fileModTime - :default ä¾æ¬¡å–çš„é¡ºåºä¸ºï¼š
lastmod :æœ€åæäº¤æ—¶é—´
:git: æ ¹æ®gitæäº¤ç‰ˆæœ¬æ—¶é—´
:fileModTimeï¼šæ–‡ä»¶ä¿®æ”¹æ—¶é—´
Configure Hugo | Hugo å†™çš„éƒ½æœ‰,butæ˜¯è‹±æ–‡çš„ğŸ™ƒ</description>
      <content:encoded><![CDATA[<p>configé…ç½®æ–‡ä»¶é‡ŒåŠ ä¸Šå¦‚ä¸‹å‚æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">frontmatter</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">lastmod</span>:
</span></span><span style="display:flex;"><span>        - <span style="color:#ae81ff">lastmod</span>
</span></span><span style="display:flex;"><span>        - :<span style="color:#ae81ff">git</span>
</span></span><span style="display:flex;"><span>        - :<span style="color:#ae81ff">fileModTime</span>
</span></span><span style="display:flex;"><span>        - :<span style="color:#ae81ff">default</span>
</span></span></code></pre></div><p>ä¾æ¬¡å–çš„é¡ºåºä¸ºï¼š</p>
<blockquote>
<p>lastmod :æœ€åæäº¤æ—¶é—´</p>
<p>:git: æ ¹æ®gitæäº¤ç‰ˆæœ¬æ—¶é—´</p>
<p>:fileModTimeï¼šæ–‡ä»¶ä¿®æ”¹æ—¶é—´</p>
</blockquote>
<p><a href="https://gohugo.io/getting-started/configuration/#configure-front-matter">Configure Hugo | Hugo</a> å†™çš„éƒ½æœ‰,butæ˜¯è‹±æ–‡çš„ğŸ™ƒ</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>Docker Composeéƒ¨ç½²filebrowser</title>
      <link>https://blog.zsan.cf/posts/docker-deploy-filebrowser/</link>
      <pubDate>Fri, 21 Jan 2022 11:24:05 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-deploy-filebrowser/</guid>
      <description>dockerå¿«é€Ÿæ­å»ºä¸ªäººç½‘ç›˜</description>
      <content:encoded><![CDATA[<p>åœ¨linuxserveræœåŠ¡å™¨ä¸Šå®‰è£…</p>
<p>ç¯å¢ƒï¼šdockerã€docker- compose</p>
<p>éœ€è¦äº†è§£dockeråŸºæœ¬çŸ¥è¯†ï¼Œä¸æ‡‚å¯ä»¥ç¿»ç¿»ä»¥å‰çš„åšå®¢æˆ–è€…æœä¸‹æ•™ç¨‹å­¦ä¹ </p>
<p><a href="https://filebrowser.org/installation">filebrowser</a>å®˜ç½‘ä¸Šç»™çš„æ˜¯dockerå‘½ä»¤æ‰§è¡Œçš„ï¼Œä½†ç”¨composeä¹ æƒ¯äº†ï¼Œæ‰€ä»¥è½¬æ¢äº†ä¸€ä¸‹æ ¼å¼ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªå‘ï¼Œå®˜ç½‘ä¹Ÿæç¤ºäº†</p>
<blockquote>
<p>By default, we already have a <a href="https://github.com/filebrowser/filebrowser/blob/master/docker/root/defaults/settings.json">configuration file with some defaults</a> so you can just mount the root and the database. Although you can overwrite by mounting a directory with a new config file. If you don&rsquo;t already have a database file, make sure to create a new empty file under the path you specified. Otherwise, Docker will create an empty folder instead of an empty file, resulting in an error when mounting the database into the container.</p>
</blockquote>
<p>ç¿»è¯‘è¿‡æ¥å°±æ˜¯éœ€è¦æå‰åˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œå¦åˆ™ï¼ŒDockerä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹è€Œä¸æ˜¯ç©ºçš„æ–‡ä»¶ï¼Œå¯¼è‡´åœ¨å°†æ•°æ®åº“æŒ‚è½½åˆ°å®¹å™¨ä¸­æ—¶å‡ºç°é”™è¯¯ï¼è¿™ç‚¹ä¸€å®šè¦æ³¨æ„å•Šï¼ï¼ï¼</p>
<h1 id="1åˆ›å»ºdocker-composeæ–‡ä»¶">1ã€åˆ›å»ºdocker-composeæ–‡ä»¶</h1>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.3&#39;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:     
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">filebrowser</span>:  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">image</span>: <span style="color:#ae81ff">filebrowser/filebrowser:s6</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">filebrowser</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">volumes</span>:  
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">./root:/srv           </span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">./database/filebrowser.db:/database/filebrowser.db </span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">./settings.json:/config/settings.json</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">PUID=0</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">PGID=0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">ports</span>: 
</span></span><span style="display:flex;"><span>            - <span style="color:#e6db74">&#39;8080:80&#39;</span>         
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span></code></pre></div><h1 id="2åˆ›å»ºé»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹">2ã€åˆ›å»ºé»˜è®¤æ–‡ä»¶å’Œæ–‡ä»¶å¤¹</h1>
<p>å¯¹ç…§ä¸Šè¿°docker-composeçš„è·¯å¾„ï¼Œéœ€è¦åœ¨å½“å‰ç›®å½•åˆ›å»º settings.json æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;port&#34;</span>: <span style="color:#ae81ff">80</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;baseURL&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;address&#34;</span>: <span style="color:#e6db74">&#34;0.0.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;log&#34;</span>: <span style="color:#e6db74">&#34;stdout&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;database&#34;</span>: <span style="color:#e6db74">&#34;/database/filebrowser.db&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;root&#34;</span>: <span style="color:#e6db74">&#34;/srv&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨å½“å‰ç›®å½•åˆ›å»º database/filebrowser.db æ–‡ä»¶å¤¹å’Œæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir database
</span></span><span style="display:flex;"><span>cd database
</span></span><span style="display:flex;"><span>touch filebrowser.db
</span></span></code></pre></div><h1 id="3è¿è¡Œæµ‹è¯•æ˜¯å¦æˆåŠŸ">3ã€è¿è¡Œæµ‹è¯•æ˜¯å¦æˆåŠŸ</h1>
<p>æ‰§è¡Œ docker- compose logs -f çœ‹ä¸‹æ—¥å¿—æ˜¯å¦æŠ¥é”™</p>
<p>éœ€è¦å…¶ä»–æœºå™¨è®¿é—®è®°å¾—é˜²ç«å¢™ æŠŠç«¯å£æ‰“å¼€ï¼Œæœ¬ä¾‹ç”¨çš„8080ç«¯å£</p>
<p>æµè§ˆå™¨è®¿é—® æœåŠ¡å™¨ip:8080 æˆåŠŸæ‰“å¼€å³å¯ï¼ŒEnjoy itï¼ğŸ‰ğŸ‰ğŸ‰</p>
<h1 id="4n1å°é’¢ç‚®å®‰è£…">4ã€n1å°é’¢ç‚®å®‰è£…</h1>
<blockquote>
<p>ç¯å¤§é­”æ”¹çš„å¥½ä¹…æ²¡æ›´æ–°äº†ï¼ŒåŠŸèƒ½å¥½å¤šä¸æ”¯æŒäº†ï¼Œä»Šå¤©ç»™å‡çº§ï¼ˆè¸©å‘ï¼‰äº†ä¸€ä¸‹</p>
</blockquote>
<p>1ã€docker-composeéœ€è¦æ”¹ä¸‹é…ç½®</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3.3&#39;</span> 
</span></span><span style="display:flex;"><span><span style="color:#f92672">services</span>:     
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">filebrowser</span>:  
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">image</span>: <span style="color:#ae81ff">filebrowser/filebrowser</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">filebrowser</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">volumes</span>:  
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">/media:/srv           </span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">./database/filebrowser.db:/database/filebrowser.db </span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">./settings.json:/config/settings.json</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">/etc/timezone:/etc/timezone   </span> <span style="color:#75715e">#æ—¶åŒº cst</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">/etc/localtime:/etc/localtime </span> <span style="color:#75715e">#æ—¶åŒº cst</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">environment</span>:
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">PUID=1002</span>
</span></span><span style="display:flex;"><span>            - <span style="color:#ae81ff">PGID=100</span>
</span></span><span style="display:flex;"><span>              <span style="color:#75715e"># - TZ=Asia/Shanghai</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">ports</span>: 
</span></span><span style="display:flex;"><span>            - <span style="color:#e6db74">&#39;8081:80&#39;</span>         
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span></code></pre></div><p>2ã€ç¯å¤§ç‰ˆçš„ç§»é™¤ï¼Œæ‰§è¡Œè¿™ä¸ªå³å¯</p>
<p>ä¸¤ä¸ªå°å‘ï¼Œ1ã€é•œåƒè¦ç”¨lasterçš„ 2ã€æ—¶åŒºè®¾ç½®ç”¨æŒ‚è½½çš„</p>
<blockquote>
<p>å‚è€ƒï¼š</p>
<p>1ã€<a href="https://filebrowser.org">filebrowserå®˜ç½‘</a></p>
<p>2ã€<a href="https://www.liuhaolin.com/zhuanzai/906.html">filebrowser ä¸€ä¸ªè·¨å¹³å°çš„æ–‡ä»¶ç®¡ç†å™¨çš„ä½¿ç”¨æ–¹æ³•-æ£®æ—çš„ä¸ªäººåšå®¢</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
    <item>
      <title>About</title>
      <link>https://blog.zsan.cf/about/</link>
      <pubDate>Thu, 13 Jan 2022 20:56:38 +0800</pubDate>
      
      <guid>https://blog.zsan.cf/about/</guid>
      <description>å¦‚æœçœŸçš„æ˜¯ä½ ï¼Œè¯·æ‰“æ‹›å‘¼ï¼
ğŸ  å…³äºæœ¬ç«™ å†…å®¹+ä¸»é¢˜ï¼šHugoÂ &amp;amp;Â PaperMod
æ‰˜ç®¡ï¼šGitHub Pages
åŸŸåï¼šfreenom
é˜²æŠ¤+CDNï¼šCloudflare
ç¼–è¾‘å™¨ï¼šVS code
è¿™é‡Œä¸»è¦è®°å½•ä¸€äº›å¹³å¸¸é‡åˆ°çš„ä¸€äº›æŠ€æœ¯å‘(æœ‰äº›ä¸œè¥¿ç”¨å®Œå°±å¿˜äº†)ï¼Œæ–¹ä¾¿ä»¥åå¯ä»¥æŸ¥é˜…ğŸ˜„
æœ¬ç«™æœ€å¼€å§‹æ˜¯2019å¹´å°±æ­å»ºäº†ï¼Œå½“æ—¶ç”¨çš„hexoæ„å»ºï¼Œéƒ¨ç½²åœ¨githubï¼Œç”¨netlifyç¼“å­˜æœåŠ¡ï¼Œæ— å¥ˆå½“æ—¶ç©·ï¼Œç”¨çš„è¿˜æ˜¯Windowsæœ¬ï¼Œå‘½ä»¤æ•²çš„å¤ªä¸çˆ½äº†ï¼Œå¯¼è‡´å†™æ–‡ç« æ²¡ä»€ä¹ˆæ¿€æƒ…ï¼ŒåŸºæœ¬æ–­æ›´ğŸ¤£
æ¥åˆ°2021å¹´ï¼Œç»å¸¸åœ¨ç½‘ä¸Šçœ‹å¤§ä½¬ä»¬çš„blogï¼Œæ—¶é—´æœ‰ç‚¹ç©ºï¼Œå°±æƒ³æŠŠblogç»™æ‹¾èµ·æ¥ï¼Œæ¥è§¦çš„æŠ€æœ¯ä¹Ÿå¤šäº†ï¼Œä¹Ÿæƒ³è®°å½•ä¸‹ä¸€äº›ç¬”è®°ï¼Œæ–¹ä¾¿åé¢éšæ—¶ç¿»é˜…ï¼Œæ­£å¥½åœ¨æ¨ä¸Šçœ‹åˆ°å¤§ä½¬ä»¬æ¨ègridea: âœï¸ A static blog writing client (ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯)
å‚»ç“œå¼æ“ä½œï¼Œæ ¹æ®ç•Œé¢æç¤ºè®¾ç½®å°±è¡Œäº†ï¼Œä¸“æ³¨äºå†™ä½œï¼Œå½“æ—¶å°±ä¸‹ä¸‹æ¥ç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿæœ‰æ¯”è¾ƒé¸¡è‚‹çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸»é¢˜å¤ªå°‘ï¼Œè‡ªå®šä¹‰ç©ºé—´å¤ªå°ï¼Œè¿˜æœ‰å°±æ˜¯windows7ä¸Šä¸å¤ªç¨³å®šï¼Œæœ‰æ—¶ä¼šå¡ï¼Œå¯èƒ½æˆ‘ç”µè„‘åƒåœ¾å§ï¼Œä¸»é¢˜å¤ªå°‘ï¼Œæœ‰çš„ä¸»é¢˜ä¸æ”¯æŒä¾§è¾¹ç›®å½•æ ï¼Œå½“æ—¶æœäº†å¥½å¤šæ–‡ç« ï¼Œæ‰æ”¹äº†ä¸€ä¸‹ä¸»é¢˜ï¼Œå…·ä½“çœ‹è¿™ç¯‡ï¼Œè¿˜æœ‰å°±æ˜¯ï¼Œä½œè€…å¥½ä¹…ä¸æ›´æ–°äº†ï¼Œä¸“æ³¨äºæwebç«¯äº†ï¼Œæ‰€ä»¥å°±åœ¨æ¢äº†Macåå°±æ¢åˆ°äº†hugoä¸ŠğŸ˜„
hugoç”¨goå¼€å‘çš„ï¼Œæ®è¯´ç”Ÿæˆæ–‡ç« éå¸¸å¿«ï¼Œç›¸æ¯”hexoæ¥è¯´ï¼Œhugoåœ¨Macä¸Šç”¨å‘½ä»¤ä¹Ÿå¾ˆèˆ’æœï¼Œä¸»é¢˜ä¹Ÿå¾ˆå¤šï¼Œæ‰€ä»¥å°±æœæ–­æ¢äº†ä¸Šæ¥ï¼Œä¸“æ³¨å†™ä½œï¼Œä¸»é¢˜ç”¨çš„papermodï¼Œè¿™æ˜¯å›½å¤–å¼€å‘è€…å¼€å‘çš„ï¼Œä¸­æ–‡èµ„æ–™å¤ªå°‘ï¼Œä¸è¿‡ï¼Œæœäº†å¥½å¤šå¤§ä½¬çš„æ–‡ç« ï¼ŒåŸºæœ¬ä¸Šè°ƒè¯•okï¼›è¿˜æ˜¯ç”¨githubåšä»“åº“æ¥æä¾›æœåŠ¡ï¼Œç”¨markdownæ¥å†™æ–‡ç« ï¼Œvs codeæ¥é…ç½®æ–‡ä»¶ï¼Œåœ¨freenomä¸Šç™½å«–çš„ä¸€å¹´åŸŸåï¼Œç”¨è„šæœ¬è‡ªåŠ¨ç›‘æ§ï¼Œåˆ°æœŸæç¤ºï¼›ç”¨cfæ¥åšåŸŸåè§£æå’Œç¼“å­˜æœåŠ¡ã€‚ğŸ‰
ğŸ‘¨â€ğŸ’» å¼ ä¸‰æ˜¯è° ğŸœå­¤ç‹¬æ—¶ä»£çš„èš‚èš
ğŸ«å…‹è±ç™»å¤§å­¦æ¯•ä¸š
ğŸšæ¬¢è¿è€æ¿æ‰“èµ è¦ğŸšï½œè€æ¿è¡Œè¡Œå¥½ï¼Œèµç‚¹ğŸšå§</description>
      <content:encoded><![CDATA[<blockquote>
<p>å¦‚æœçœŸçš„æ˜¯ä½ ï¼Œè¯·æ‰“æ‹›å‘¼ï¼</p>
</blockquote>
<h2 id="-å…³äºæœ¬ç«™">ğŸ  å…³äºæœ¬ç«™</h2>
<blockquote>
<p>å†…å®¹+ä¸»é¢˜ï¼š<a href="https://gohugo.io/">Hugo</a>Â &amp;Â <a href="https://github.com/adityatelange/hugo-PaperMod/">PaperMod</a></p>
<p>æ‰˜ç®¡ï¼šGitHub Pages</p>
<p>åŸŸåï¼š<a href="https://www.freenom.com/">freenom</a></p>
<p>é˜²æŠ¤+CDNï¼š<a href="https://www.cloudflare.com/">Cloudflare</a></p>
<p>ç¼–è¾‘å™¨ï¼šVS code</p>
</blockquote>
<p>è¿™é‡Œä¸»è¦è®°å½•ä¸€äº›å¹³å¸¸é‡åˆ°çš„ä¸€äº›æŠ€æœ¯å‘(æœ‰äº›ä¸œè¥¿ç”¨å®Œå°±å¿˜äº†)ï¼Œæ–¹ä¾¿ä»¥åå¯ä»¥æŸ¥é˜…ğŸ˜„</p>
<p>Â Â Â Â Â Â Â Â æœ¬ç«™æœ€å¼€å§‹æ˜¯2019å¹´å°±æ­å»ºäº†ï¼Œå½“æ—¶ç”¨çš„hexoæ„å»ºï¼Œéƒ¨ç½²åœ¨githubï¼Œç”¨netlifyç¼“å­˜æœåŠ¡ï¼Œæ— å¥ˆå½“æ—¶ç©·ï¼Œç”¨çš„è¿˜æ˜¯Windowsæœ¬ï¼Œå‘½ä»¤æ•²çš„å¤ªä¸çˆ½äº†ï¼Œå¯¼è‡´å†™æ–‡ç« æ²¡ä»€ä¹ˆæ¿€æƒ…ï¼ŒåŸºæœ¬æ–­æ›´ğŸ¤£</p>
<p>æ¥åˆ°2021å¹´ï¼Œç»å¸¸åœ¨ç½‘ä¸Šçœ‹å¤§ä½¬ä»¬çš„blogï¼Œæ—¶é—´æœ‰ç‚¹ç©ºï¼Œå°±æƒ³æŠŠblogç»™æ‹¾èµ·æ¥ï¼Œæ¥è§¦çš„æŠ€æœ¯ä¹Ÿå¤šäº†ï¼Œä¹Ÿæƒ³è®°å½•ä¸‹ä¸€äº›ç¬”è®°ï¼Œæ–¹ä¾¿åé¢éšæ—¶ç¿»é˜…ï¼Œæ­£å¥½åœ¨æ¨ä¸Šçœ‹åˆ°å¤§ä½¬ä»¬æ¨è<a href="https://github.com/getgridea/gridea">gridea: âœï¸ A static blog writing client (ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯)</a></p>
<p>Â Â Â Â Â Â Â Â å‚»ç“œå¼æ“ä½œï¼Œæ ¹æ®ç•Œé¢æç¤ºè®¾ç½®å°±è¡Œäº†ï¼Œä¸“æ³¨äºå†™ä½œï¼Œå½“æ—¶å°±ä¸‹ä¸‹æ¥ç”¨äº†ä¸€æ®µæ—¶é—´ï¼Œä¹Ÿæœ‰æ¯”è¾ƒé¸¡è‚‹çš„åœ°æ–¹ï¼Œæ¯”å¦‚ä¸»é¢˜å¤ªå°‘ï¼Œè‡ªå®šä¹‰ç©ºé—´å¤ªå°ï¼Œè¿˜æœ‰å°±æ˜¯windows7ä¸Šä¸å¤ªç¨³å®šï¼Œæœ‰æ—¶ä¼šå¡ï¼Œå¯èƒ½æˆ‘ç”µè„‘åƒåœ¾å§ï¼Œä¸»é¢˜å¤ªå°‘ï¼Œæœ‰çš„ä¸»é¢˜ä¸æ”¯æŒä¾§è¾¹ç›®å½•æ ï¼Œå½“æ—¶æœäº†å¥½å¤šæ–‡ç« ï¼Œæ‰æ”¹äº†ä¸€ä¸‹ä¸»é¢˜ï¼Œå…·ä½“çœ‹<a href="../posts/girde-simple-support-for-sidebar-directory/">è¿™ç¯‡</a>ï¼Œè¿˜æœ‰å°±æ˜¯ï¼Œä½œè€…å¥½ä¹…ä¸æ›´æ–°äº†ï¼Œä¸“æ³¨äºæwebç«¯äº†ï¼Œæ‰€ä»¥å°±åœ¨æ¢äº†Macåå°±æ¢åˆ°äº†hugoä¸ŠğŸ˜„</p>
<p>Â Â Â Â Â Â Â Â <a href="https://gohugo.io/">hugo</a>ç”¨goå¼€å‘çš„ï¼Œæ®è¯´ç”Ÿæˆæ–‡ç« éå¸¸å¿«ï¼Œç›¸æ¯”hexoæ¥è¯´ï¼Œhugoåœ¨Macä¸Šç”¨å‘½ä»¤ä¹Ÿå¾ˆèˆ’æœï¼Œä¸»é¢˜ä¹Ÿå¾ˆå¤šï¼Œæ‰€ä»¥å°±æœæ–­æ¢äº†ä¸Šæ¥ï¼Œä¸“æ³¨å†™ä½œï¼Œä¸»é¢˜ç”¨çš„<a href="https://git.io/hugopapermod">papermod</a>ï¼Œè¿™æ˜¯å›½å¤–å¼€å‘è€…å¼€å‘çš„ï¼Œä¸­æ–‡èµ„æ–™å¤ªå°‘ï¼Œä¸è¿‡ï¼Œæœäº†å¥½å¤šå¤§ä½¬çš„æ–‡ç« ï¼ŒåŸºæœ¬ä¸Šè°ƒè¯•okï¼›è¿˜æ˜¯ç”¨githubåšä»“åº“æ¥æä¾›æœåŠ¡ï¼Œç”¨markdownæ¥å†™æ–‡ç« ï¼Œvs codeæ¥é…ç½®æ–‡ä»¶ï¼Œåœ¨<a href="https://www.freenom.com/">freenom</a>ä¸Šç™½å«–çš„ä¸€å¹´åŸŸåï¼Œç”¨è„šæœ¬è‡ªåŠ¨ç›‘æ§ï¼Œåˆ°æœŸæç¤ºï¼›ç”¨cfæ¥åšåŸŸåè§£æå’Œç¼“å­˜æœåŠ¡ã€‚ğŸ‰</p>
<h2 id="-å¼ ä¸‰æ˜¯è°">ğŸ‘¨â€ğŸ’» å¼ ä¸‰æ˜¯è°</h2>
<p>ğŸœå­¤ç‹¬æ—¶ä»£çš„èš‚èš</p>
<p>ğŸ«å…‹è±ç™»å¤§å­¦æ¯•ä¸š</p>
<h2 id="æ¬¢è¿è€æ¿æ‰“èµ">ğŸšæ¬¢è¿è€æ¿æ‰“èµ</h2>
<p><a href="https://yaofan.site/">è¦ğŸšï½œè€æ¿è¡Œè¡Œå¥½ï¼Œèµç‚¹ğŸšå§</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>docker ç”Ÿæˆè‡ªå·±çš„é•œåƒ</title>
      <link>https://blog.zsan.cf/posts/docker-generate-image/</link>
      <pubDate>Mon, 21 Jun 2021 23:26:34 +0000</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-generate-image/</guid>
      <description>çœ‹è¿‡å‰é¢çš„æ–‡ç« çŸ¥é“ï¼Œå¤§ä½¬çš„åº“ä»“åº“ä¹Ÿé”äº†ï¼Œä¸èƒ½pullï¼Œåªèƒ½æ¢å–ä»“åº“åœ°å€æ‰è¡Œï¼Œä¸ºäº†ä¸€åŠ³æ°¸é€¸ï¼Œç´¢æ€§æ¢äº†è‡ªå·±çš„åº“ï¼Œåªè°ˆæŠ€æœ¯ï¼Œä¸è°ˆå…¶ä»–&amp;hellip;
1ã€åˆ›å»ºDockerfileæ–‡ä»¶ æ¯”è¾ƒæ‡’ï¼Œç›´æ¥æŠŠå¤§ä½¬çš„Dockerfileæ‹‰æ¥æ¢äº†ä»“åº“åœ°å€ï¼Œrsaè®°ç€ä¹Ÿè¦æ¢
æ¢å®Œåœ¨å½“å‰ç›®å½• docker build -t jd_scripts .
ç›´æ¥ç”Ÿæˆè‡ªå·±çš„image
docker images æŸ¥çœ‹é•œåƒ
2ã€ä¿®æ”¹docker-composeæ–‡ä»¶ ä¿®æ”¹docker-composeé‡Œé¢çš„ä»“åº“åœ°å€ä¸ºè‡ªå·±çš„åœ°å€ï¼Œå…¶ä»–å‚æ•°ä¸ç”¨å˜
docker-compose up -d å¯åŠ¨é•œåƒ
å®Œç¾è¿è¡Œï¼
ç»§ç»­èººå¹³ã€‚
å»ºè®®å­¦å­¦dockerï¼ŒçœŸçš„å¥½å¼ºå¤§ï¼
é™„ä¸Šä¸€ä¸ªä¸é”™çš„dockeræ•™ç¨‹
Docker â€”â€” ä»å…¥é—¨åˆ°å®è·µ</description>
      <content:encoded><![CDATA[<p>çœ‹è¿‡å‰é¢çš„æ–‡ç« çŸ¥é“ï¼Œå¤§ä½¬çš„åº“ä»“åº“ä¹Ÿé”äº†ï¼Œä¸èƒ½pullï¼Œåªèƒ½æ¢å–ä»“åº“åœ°å€æ‰è¡Œï¼Œä¸ºäº†ä¸€åŠ³æ°¸é€¸ï¼Œç´¢æ€§æ¢äº†è‡ªå·±çš„åº“ï¼Œåªè°ˆæŠ€æœ¯ï¼Œä¸è°ˆå…¶ä»–&hellip;</p>
<!-- more -->
<h3 id="1åˆ›å»ºdockerfileæ–‡ä»¶">1ã€åˆ›å»ºDockerfileæ–‡ä»¶</h3>
<p>æ¯”è¾ƒæ‡’ï¼Œç›´æ¥æŠŠå¤§ä½¬çš„Dockerfileæ‹‰æ¥æ¢äº†ä»“åº“åœ°å€ï¼Œrsaè®°ç€ä¹Ÿè¦æ¢</p>
<p>æ¢å®Œåœ¨å½“å‰ç›®å½• <code>docker build -t jd_scripts .</code></p>
<p>ç›´æ¥ç”Ÿæˆè‡ªå·±çš„image</p>
<p><code>docker images</code> æŸ¥çœ‹é•œåƒ</p>
<h3 id="2ä¿®æ”¹docker-composeæ–‡ä»¶">2ã€ä¿®æ”¹docker-composeæ–‡ä»¶</h3>
<p>ä¿®æ”¹docker-composeé‡Œé¢çš„ä»“åº“åœ°å€ä¸ºè‡ªå·±çš„åœ°å€ï¼Œå…¶ä»–å‚æ•°ä¸ç”¨å˜</p>
<p><code>docker-compose up -d</code> å¯åŠ¨é•œåƒ</p>
<p>å®Œç¾è¿è¡Œï¼</p>
<p>ç»§ç»­èººå¹³ã€‚</p>
<p>å»ºè®®å­¦å­¦dockerï¼ŒçœŸçš„å¥½å¼ºå¤§ï¼</p>
<p>é™„ä¸Šä¸€ä¸ªä¸é”™çš„dockeræ•™ç¨‹</p>
<p><a href="https://yeasy.gitbook.io/docker_practice/"><img loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABk0lEQVRYR&#43;2W3UvCUByGX7fchQpZuvmRq1WEUElWEEPMDMz&#43;mf7Bym4qJCjJCCsUJeii8hOhAt3AWGBkkc6dpF2c3e685zzn&#43;f3O2Syd4l4HJn4sFJCwOtQgoUBQg9QgqQHSPO1BapDUAGm&#43;bw9mr3K4zN70rMEwDFyTToRCQUwH/LAwDClD37wuQK&#43;Xh91u&#43;5hIaSt4LlfRarUhij7EohvgOG5kkLoAt&#43;MypBnxE0JVFZxfXOMuX8TCvISIvAaGZUcCaQhQI9EgU0dpVGt17O7EwPMucwFqNIVCCafpDFbDiwivLJkPsFKpYf/wGIEpH&#43;JbsnkBJ5zjSCY2kbvN/zj1g6hnJbHv5gz3oLZw12AX8OX1DY1GcxBTz3uHwwZBcP&#43;a&#43;RNA05bY1IdEu7APUieoN5pIJqLwePihSqt3sKESa3DpswxK9w/muKi/f&#43;oen8pQVBVzkoiIvA4rZ9UrZOhxugx&#43;nZUdYyG4XQgtB&#43;H3Cf/7szD0dkcQoL/8pFKpQWqQ1ABpnvYgNUhqgDRPe5DU4DsPyz1QKJJZDwAAAABJRU5ErkJggg==" alt="img"  />
Docker â€”â€” ä»å…¥é—¨åˆ°å®è·µ</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>girde simpleä¿®æ”¹æ·»åŠ æ”¯æŒä¾§è¾¹æ ç›®å½•</title>
      <link>https://blog.zsan.cf/posts/girde-simple-support-for-sidebar-directory/</link>
      <pubDate>Sun, 06 Jun 2021 18:50:26 +0000</pubDate>
      
      <guid>https://blog.zsan.cf/posts/girde-simple-support-for-sidebar-directory/</guid>
      <description>ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶æ”¯æŒä¾§è¾¹æ ç›®å½•
simpleä¸»é¢˜æ•´ä½“è¿˜è¡Œï¼Œä½†æ–‡ç« æ— ä¾§è¾¹æ ç›®å½•ï¼Œä¸€èˆ¬å†™çš„æŠ€æœ¯æ€§æ–‡ç« å¾ˆé•¿ï¼Œå°±éœ€è¦ä¾§è¾¹æ ç›®å½•å’Œè¿™ä¸ªåŠŸèƒ½äº†ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹èµ„æ–™ï¼Œå¯¹äºå‰ç«¯å°å­¦ç”Ÿçš„æˆ‘è´¹äº†å¥½é•¿æ—¶é—´æ‰æå®šï¼Œè®°å½•ä¸€ä¸‹è¿‡ç¨‹ã€‚
1ã€ä¿®æ”¹post.ejsæ–‡ä»¶ headæ–°å¢
&amp;lt;script src=&amp;quot;https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
æœç´¢&amp;lt;%- post.content %&amp;gt;å¤åˆ¶ä¸€ä¸‹ä»£ç è¦†ç›–copy
&amp;lt;div class=&amp;#34;post-content-wrapper&amp;#34;&amp;gt; &amp;lt;div class=&amp;#34;post-content&amp;#34; v-pre&amp;gt; &amp;lt;%- post.content %&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;div class=&amp;#34;toc-container&amp;#34;&amp;gt; &amp;lt;%- post.toc %&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;/div&amp;gt; æ–°å¢é«˜äº®js
&amp;lt;script&amp;gt; hljs.initHighlightingOnLoad() let mainNavLinks = document.querySelectorAll(&amp;#34;.markdownIt-TOC a&amp;#34;); // This should probably be throttled. // Especially because it triggers during smooth scrolling. // https://lodash.com/docs/4.17.10#throttle // You could do like... // window.addEventListener(&amp;#34;scroll&amp;#34;, () =&amp;gt; { // _.throttle(doThatStuff, 100); // }); // Only not doing it here to keep this Pen dependency-free. window.addEventListener(&amp;#34;scroll&amp;#34;, event =&amp;gt; { let fromTop = window.scrollY; mainNavLinks.forEach((link, index) =&amp;gt; { let section = document.getElementById(decodeURI(link.hash).substring(1)); let nextSection = null if (mainNavLinks[index + 1]) { nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1)); } if (section.offsetTop &amp;lt;= fromTop) { if (nextSection) { if (nextSection.offsetTop &amp;gt; fromTop) { link.classList.add(&amp;#34;current&amp;#34;); } else { link.classList.remove(&amp;#34;current&amp;#34;); } } else { link.classList.add(&amp;#34;current&amp;#34;); } } else { link.classList.remove(&amp;#34;current&amp;#34;); } }); }); &amp;lt;/script&amp;gt; 2ã€å®¢æˆ·ç«¯æ–°å¢è‡ªå®šä¹‰css .toc-container .markdownIt-TOC { position: sticky; top: 32px; width: 200px; font-size: 12px; list-style: none; padding-left: 0; padding: 16px 8px; } .</description>
      <content:encoded><![CDATA[<p>ä¿®æ”¹ä¸»é¢˜æ–‡ä»¶æ”¯æŒä¾§è¾¹æ ç›®å½•</p>
<!-- more -->
<p>simpleä¸»é¢˜æ•´ä½“è¿˜è¡Œï¼Œä½†æ–‡ç« æ— ä¾§è¾¹æ ç›®å½•ï¼Œä¸€èˆ¬å†™çš„æŠ€æœ¯æ€§æ–‡ç« å¾ˆé•¿ï¼Œå°±éœ€è¦ä¾§è¾¹æ ç›®å½•å’Œè¿™ä¸ªåŠŸèƒ½äº†ï¼Œåœ¨ç½‘ä¸Šæœäº†ä¸€ä¸‹èµ„æ–™ï¼Œå¯¹äºå‰ç«¯å°å­¦ç”Ÿçš„æˆ‘è´¹äº†å¥½é•¿æ—¶é—´æ‰æå®šï¼Œè®°å½•ä¸€ä¸‹è¿‡ç¨‹ã€‚</p>
<h3 id="1ä¿®æ”¹postejsæ–‡ä»¶">1ã€ä¿®æ”¹post.ejsæ–‡ä»¶</h3>
<p><code>head</code>æ–°å¢</p>
<p><code>&lt;script src=&quot;https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js&quot;&gt;&lt;/script&gt;</code></p>
<p>æœç´¢<code>&lt;%- post.content %&gt;</code>å¤åˆ¶ä¸€ä¸‹ä»£ç è¦†ç›–copy</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-content-wrapper&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;post-content&#34;</span> <span style="color:#a6e22e">v-pre</span>&gt;
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">&lt;</span>%- post.content %&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;toc-container&#34;</span>&gt;
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">&lt;</span>%- post.toc %&gt;
</span></span><span style="display:flex;"><span> &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>æ–°å¢é«˜äº®js</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">script</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hljs</span>.<span style="color:#a6e22e">initHighlightingOnLoad</span>()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">mainNavLinks</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#34;.markdownIt-TOC a&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// This should probably be throttled.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// Especially because it triggers during smooth scrolling.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// https://lodash.com/docs/4.17.10#throttle
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// You could do like...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// window.addEventListener(&#34;scroll&#34;, () =&gt; {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">//    _.throttle(doThatStuff, 100);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// });
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#75715e">// Only not doing it here to keep this Pen dependency-free.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>      window.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#34;scroll&#34;</span>, <span style="color:#a6e22e">event</span> =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">fromTop</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">scrollY</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">mainNavLinks</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">link</span>, <span style="color:#a6e22e">index</span>) =&gt; {
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">section</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(decodeURI(<span style="color:#a6e22e">link</span>.<span style="color:#a6e22e">hash</span>).<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">nextSection</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">mainNavLinks</span>[<span style="color:#a6e22e">index</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">nextSection</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(decodeURI(<span style="color:#a6e22e">mainNavLinks</span>[<span style="color:#a6e22e">index</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>].<span style="color:#a6e22e">hash</span>).<span style="color:#a6e22e">substring</span>(<span style="color:#ae81ff">1</span>));
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">section</span>.<span style="color:#a6e22e">offsetTop</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">fromTop</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">nextSection</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">nextSection</span>.<span style="color:#a6e22e">offsetTop</span> <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">fromTop</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">link</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;current&#34;</span>);
</span></span><span style="display:flex;"><span>              } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">link</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#34;current&#34;</span>);    
</span></span><span style="display:flex;"><span>              }
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">link</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">add</span>(<span style="color:#e6db74">&#34;current&#34;</span>);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">link</span>.<span style="color:#a6e22e">classList</span>.<span style="color:#a6e22e">remove</span>(<span style="color:#e6db74">&#34;current&#34;</span>);
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#960050;background-color:#1e0010">/script&gt;</span>
</span></span></code></pre></div><h3 id="2å®¢æˆ·ç«¯æ–°å¢è‡ªå®šä¹‰css">2ã€å®¢æˆ·ç«¯æ–°å¢è‡ªå®šä¹‰css</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-css" data-lang="css"><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  .<span style="color:#a6e22e">markdownIt-TOC</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">sticky</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">32</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">200</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">font-size</span>: <span style="color:#ae81ff">12</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">16</span><span style="color:#66d9ef">px</span> <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  .<span style="color:#a6e22e">markdownIt-TOC</span>:<span style="color:#a6e22e">before</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">content</span>: <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">position</span>: <span style="color:#66d9ef">absolute</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">top</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">left</span>: <span style="color:#ae81ff">8</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">bottom</span>: <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">1</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">background-color</span>: <span style="color:#ae81ff">#ebedef</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">opacity</span>: <span style="color:#ae81ff">.5</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  <span style="color:#f92672">ul</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">list-style</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  <span style="color:#f92672">li</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">padding-left</span>: <span style="color:#ae81ff">16</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  <span style="color:#f92672">li</span> <span style="color:#f92672">a</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#868e96</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">padding</span>: <span style="color:#ae81ff">4</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">block</span>;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">transition</span>: <span style="color:#66d9ef">all</span> <span style="color:#ae81ff">0.3</span><span style="color:#66d9ef">s</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  <span style="color:#f92672">li</span> <span style="color:#f92672">a</span>:<span style="color:#a6e22e">hover</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#cddbef</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">toc-container</span>  <span style="color:#f92672">li</span> <span style="color:#f92672">a</span>.<span style="color:#a6e22e">current</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">color</span>: <span style="color:#ae81ff">#006CFF</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">background</span>: <span style="color:#ae81ff">#fafafa</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">post-content-wrapper</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">flex</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>.<span style="color:#a6e22e">post-content</span> {
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">width</span>: <span style="color:#ae81ff">100</span><span style="color:#66d9ef">%</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">margin-right</span>: <span style="color:#ae81ff">20</span><span style="color:#66d9ef">px</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>@<span style="color:#66d9ef">media</span> <span style="color:#f92672">(</span><span style="color:#f92672">max-width</span><span style="color:#f92672">:</span> <span style="color:#f92672">1150px</span><span style="color:#f92672">)</span> {
</span></span><span style="display:flex;"><span>  .<span style="color:#a6e22e">toc-container</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">display</span>: <span style="color:#66d9ef">none</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="3ä¿®æ”¹maincssæ–‡ä»¶">3ã€ä¿®æ”¹main.cssæ–‡ä»¶</h3>
<p>æœç´¢<code>.post-detail</code> ä¿®æ”¹<code>margin: 0 auto;</code>ä¸º</p>
<p><code>margin: 0 20px;</code></p>
<p>é‡æ–°æ¸²æŸ“ç½‘é¡µå³å¯å°½æƒ…äº«ç”¨å§ï¼</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>äº‘æœåŠ¡å™¨dockeræ­å»ºè‡ªåŠ¨é¢†äº¬è±†botäº’åŠ¨æŒ‡ä»¤</title>
      <link>https://blog.zsan.cf/posts/docker-build-jdbot/</link>
      <pubDate>Fri, 30 Apr 2021 22:49:08 +0000</pubDate>
      
      <guid>https://blog.zsan.cf/posts/docker-build-jdbot/</guid>
      <description>ä½¿ç”¨dockeréƒ¨ç½²è‡ªåŠ¨é¢†é‡‘è±†botè„šæœ¬
ä½¿ç”¨çš„ç‰ˆæœ¬ï¼š
æœåŠ¡å™¨ï¼šcentos 8
dockerï¼š 20.10.6
docker-composeï¼š 1.27.4
1ã€æœåŠ¡å™¨å®‰è£…dockerï¼Œdocker-compose æ¨èä½¿ç”¨centosæœåŠ¡å™¨å®‰è£…dockerã€docker-compose
Dockerå®‰è£…
å›½å†…ä¸€é”®å®‰è£… curl -sSL https://get.daocloud.io/docker | sh å›½å¤–ä¸€é”®å®‰è£… curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun docker-composeå®‰è£…
$ sudo curl -L &amp;quot;https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)&amp;quot; -o /usr/local/bin/docker-compose
è¦å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„ Composeï¼Œè¯·æ›¿æ¢ 1.24.1ã€‚
æœ€æ–°å‘è¡Œçš„ç‰ˆæœ¬åœ°å€ï¼šhttps://github.com/docker/compose/releasesã€‚
å°†å¯æ‰§è¡Œæƒé™åº”ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼š
$ sudo chmod +x /usr/local/bin/docker-compose
åˆ›å»ºè½¯é“¾ï¼š
$ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
é€šè¿‡docker-compose versionæŸ¥çœ‹docker-composeç‰ˆæœ¬ï¼Œç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚
2ã€å®‰è£…jd_scripts åˆ›å»ºä¸€ä¸ªç›®å½•jd_scriptsç”¨äºå­˜æ”¾å¤‡ä»½é…ç½®ç­‰æ•°æ®ï¼Œè¿ç§»é‡è£…çš„æ—¶å€™åªéœ€è¦å¤‡ä»½æ•´ä¸ªjd_scriptsç›®å½•å³å¯
éœ€è¦æ–°å»ºçš„ç›®å½•æ–‡ä»¶ç»“æ„å‚è€ƒå¦‚ä¸‹:
jd_scripts â”œâ”€â”€ logs â”‚Â â”œâ”€â”€ XXXX.log â”‚Â â””â”€â”€ XXXX.log â”œâ”€â”€ my_crontab_list.sh â””â”€â”€ docker-compose.yml jd_scripts/logså»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å°±è¡Œ jd_scripts/docker-compose.yml å‚è€ƒå†…å®¹å¦‚ä¸‹(è‡ªå·±åŠ¨æ‰‹èƒ½åŠ›ä¸è¡Œæä¸å®šè¯·ä½¿ç”¨é»˜è®¤é…ç½®)ï¼š æ ¹æ®æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥ä¸‹å»å°±okäº†ï¼Œä¸‹é¢ä¸»è¦è®°å½•ä¸‹å¯èƒ½ç”¨åˆ°çš„å‘½ä»¤
ç›®å½•æ–‡ä»¶é…ç½®å¥½ä¹‹ååœ¨ jd_scriptsç›®å½•æ‰§è¡Œã€‚
docker-compose up -d å¯åŠ¨ï¼ˆä¿®æ”¹docker-compose.ymlåéœ€è¦ä½¿ç”¨æ­¤å‘½ä»¤ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼‰ï¼›
docker-compose logs æ‰“å°æ—¥å¿—ï¼›
docker-compose logs -f æ‰“å°æ—¥å¿—ï¼Œ-fè¡¨ç¤ºè·Ÿéšæ—¥å¿—ï¼› docker logs -f jd_scripts å’Œä¸Šé¢ä¸¤æ¡ç›¸æ¯”å¯ä»¥æ˜¾ç¤ºæ±‰å­—ï¼› docker-compose pull æ›´æ–°é•œåƒï¼›
docker-compose stop åœæ­¢å®¹å™¨ï¼›
docker-compose restart é‡å¯å®¹å™¨ï¼›
docker-compose down åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼›
3ã€å¼€ä»£ç†æœºå™¨ï¼Œæ¿€æ´»tg-bot è¿™é‡Œæ˜¯ä¸ªå¤§å‘ï¼Œæ‹¿ä¸ªå°æœ¬æœ¬è®°ä¸‹æ¥ï¼Œå…¶å®å°±æ˜¯dockerå†…ä»£ç†å®¿ä¸»æœºä»£ç†çš„é—®é¢˜
ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå›½å†…çš„æœºå™¨ä¸èƒ½è®¿é—®tgï¼Œè€Œåˆæƒ³ä½¿ç”¨tg-botæ¥æ§åˆ¶ï¼Œæ— å¥ˆï¼Œå›½å¤–æœºå­å¤ªè´µï¼ˆç©·ï¼‰ï¼Œæœ€ä½ä¹Ÿè¦5ç¾åˆ€ï¼é‚ä¹°å›½å†…æœºå­å¼€ä»£ç†ä½¿ç”¨
1ã€ä¹°å›½å†…æœºå™¨ï¼Œæ¨èå¤§å‚çš„ è¿™é‡Œåº”è¯¥æ”¾å„å¤§å‚çš„affçš„ï¼Œç•™ä¸ªå‘
2ã€å®‰è£…clash ä¸€ç›´åœ¨ä½¿ç”¨clashï¼Œç›´æ¥ç½‘ä¸Šæœç´¢clashä¸‹è½½ï¼Œæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œåšä¸»ç”¨çš„æ˜¯centosï¼Œä¸‹è½½linux-amd64çš„
1ã€ä¸‹è½½clashï¼Œæœ€æ–°ç‰ˆæœ¬å¯å»å®˜ç½‘æ‰¾
wget https://github.com/Dreamacro/clash/releases/download/v0.19.0/clash-linux-amd64-v0.19.0.gz 2ã€è§£å‹
gzip -d clash-linux-amd64-v0.19.0.gz 3ã€ç§»åŠ¨è‡³usr/bin/clashå¹¶é‡å‘½åä¸ºclash
sudo mv clash-linux-amd64-v0.19.0 /usr/bin/clash 4ã€èµ‹äºˆclashè¿è¡Œæƒé™
sudo chmod +x /usr/bin/clash 5ã€æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ
clash -v 3ã€åˆ›å»ºé…ç½®æ–‡ä»¶ã€å®‰è£…æ§åˆ¶é¢æ¿ 1.åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•
mkdir -p /etc/clash/ 2.è¿›å…¥ç›®å½•
cd /etc/clash/ 3.åˆ›å»ºé…ç½®æ–‡ä»¶
vim config.yaml 4.æ‰‹åŠ¨ç¼–è¾‘å¾ˆéº»çƒ¦ï¼Œå¯ç”¨winscpä¸Šä¼ 
é…ç½®å‚æ•°è‡ªè¡ŒæŸ¥æ‰¾
5.ä¸‹è½½å‰ç«¯ä»£ç 
wget https://github.com/Dreamacro/clash-dashboard/tree/gh-pages 6.è§£å‹</description>
      <content:encoded><![CDATA[<p>ä½¿ç”¨dockeréƒ¨ç½²è‡ªåŠ¨é¢†é‡‘è±†botè„šæœ¬</p>
<!-- more -->
<p>ä½¿ç”¨çš„ç‰ˆæœ¬ï¼š</p>
<p>æœåŠ¡å™¨ï¼šcentos 8</p>
<p>dockerï¼š 20.10.6</p>
<p>docker-composeï¼š 1.27.4</p>
<h3 id="1æœåŠ¡å™¨å®‰è£…dockerdocker-compose">1ã€æœåŠ¡å™¨å®‰è£…dockerï¼Œdocker-compose</h3>
<p>æ¨èä½¿ç”¨centosæœåŠ¡å™¨å®‰è£…dockerã€docker-compose</p>
<p>Dockerå®‰è£…</p>
<ul>
<li>å›½å†…ä¸€é”®å®‰è£… <code>curl -sSL https://get.daocloud.io/docker | sh</code></li>
<li>å›½å¤–ä¸€é”®å®‰è£… <code>curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</code></li>
</ul>
<p>docker-composeå®‰è£…</p>
<p><code>$ sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</code></p>
<p>è¦å®‰è£…å…¶ä»–ç‰ˆæœ¬çš„ Composeï¼Œè¯·æ›¿æ¢ 1.24.1ã€‚</p>
<p>æœ€æ–°å‘è¡Œçš„ç‰ˆæœ¬åœ°å€ï¼šhttps://github.com/docker/compose/releasesã€‚</p>
<p>å°†å¯æ‰§è¡Œæƒé™åº”ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼š</p>
<p><code>$ sudo chmod +x /usr/local/bin/docker-compose</code></p>
<p>åˆ›å»ºè½¯é“¾ï¼š</p>
<p><code>$ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</code></p>
<p>é€šè¿‡<code>docker-compose version</code>æŸ¥çœ‹<code>docker-compose</code>ç‰ˆæœ¬ï¼Œç¡®è®¤æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p>
<h3 id="2å®‰è£…jd_scripts">2ã€å®‰è£…jd_scripts</h3>
<p>åˆ›å»ºä¸€ä¸ªç›®å½•<code>jd_scripts</code>ç”¨äºå­˜æ”¾å¤‡ä»½é…ç½®ç­‰æ•°æ®ï¼Œè¿ç§»é‡è£…çš„æ—¶å€™åªéœ€è¦å¤‡ä»½æ•´ä¸ªjd_scriptsç›®å½•å³å¯</p>
<p>éœ€è¦æ–°å»ºçš„ç›®å½•æ–‡ä»¶ç»“æ„å‚è€ƒå¦‚ä¸‹:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>jd_scripts
</span></span><span style="display:flex;"><span>â”œâ”€â”€ logs
</span></span><span style="display:flex;"><span>â”‚Â Â  â”œâ”€â”€ XXXX.log
</span></span><span style="display:flex;"><span>â”‚Â Â  â””â”€â”€ XXXX.log
</span></span><span style="display:flex;"><span>â”œâ”€â”€ my_crontab_list.sh
</span></span><span style="display:flex;"><span>â””â”€â”€ docker-compose.yml
</span></span></code></pre></div><ul>
<li><code>jd_scripts/logs</code>å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹å°±è¡Œ</li>
<li><code>jd_scripts/docker-compose.yml</code> å‚è€ƒå†…å®¹å¦‚ä¸‹(è‡ªå·±åŠ¨æ‰‹èƒ½åŠ›ä¸è¡Œæä¸å®šè¯·ä½¿ç”¨é»˜è®¤é…ç½®)ï¼š</li>
</ul>
<p>æ ¹æ®æ–‡æ¡£ä¸€æ­¥ä¸€æ­¥ä¸‹å»å°±okäº†ï¼Œä¸‹é¢ä¸»è¦è®°å½•ä¸‹å¯èƒ½ç”¨åˆ°çš„å‘½ä»¤</p>
<p>ç›®å½•æ–‡ä»¶é…ç½®å¥½ä¹‹ååœ¨ <code>jd_scripts</code>ç›®å½•æ‰§è¡Œã€‚<br>
<code>docker-compose up -d</code> å¯åŠ¨ï¼ˆä¿®æ”¹docker-compose.ymlåéœ€è¦ä½¿ç”¨æ­¤å‘½ä»¤ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼‰ï¼›<br>
<code>docker-compose logs</code> æ‰“å°æ—¥å¿—ï¼›<br>
<code>docker-compose logs -f</code> æ‰“å°æ—¥å¿—ï¼Œ-fè¡¨ç¤ºè·Ÿéšæ—¥å¿—ï¼›
<code>docker logs -f jd_scripts</code> å’Œä¸Šé¢ä¸¤æ¡ç›¸æ¯”å¯ä»¥æ˜¾ç¤ºæ±‰å­—ï¼›
<code>docker-compose pull</code> æ›´æ–°é•œåƒï¼›<br>
<code>docker-compose stop</code> åœæ­¢å®¹å™¨ï¼›<br>
<code>docker-compose restart</code> é‡å¯å®¹å™¨ï¼›<br>
<code>docker-compose down</code> åœæ­¢å¹¶åˆ é™¤å®¹å™¨ï¼›</p>
<h3 id="3å¼€ä»£ç†æœºå™¨æ¿€æ´»tg-bot">3ã€å¼€ä»£ç†æœºå™¨ï¼Œæ¿€æ´»tg-bot</h3>
<p>è¿™é‡Œæ˜¯ä¸ªå¤§å‘ï¼Œæ‹¿ä¸ªå°æœ¬æœ¬è®°ä¸‹æ¥ï¼Œå…¶å®å°±æ˜¯dockerå†…ä»£ç†å®¿ä¸»æœºä»£ç†çš„é—®é¢˜</p>
<p>ç”±äºä¼—æ‰€å‘¨çŸ¥çš„åŸå› ï¼Œå›½å†…çš„æœºå™¨ä¸èƒ½è®¿é—®tgï¼Œè€Œåˆæƒ³ä½¿ç”¨tg-botæ¥æ§åˆ¶ï¼Œæ— å¥ˆï¼Œå›½å¤–æœºå­å¤ªè´µï¼ˆç©·ï¼‰ï¼Œæœ€ä½ä¹Ÿè¦5ç¾åˆ€ï¼é‚ä¹°å›½å†…æœºå­å¼€ä»£ç†ä½¿ç”¨</p>
<h5 id="1ä¹°å›½å†…æœºå™¨æ¨èå¤§å‚çš„">1ã€ä¹°å›½å†…æœºå™¨ï¼Œæ¨èå¤§å‚çš„</h5>
<p>è¿™é‡Œåº”è¯¥æ”¾å„å¤§å‚çš„affçš„ï¼Œç•™ä¸ªå‘</p>
<h5 id="2å®‰è£…clash">2ã€å®‰è£…clash</h5>
<p>ä¸€ç›´åœ¨ä½¿ç”¨clashï¼Œç›´æ¥ç½‘ä¸Šæœç´¢clash<a href="https://github.com/Dreamacro/clash/releases">ä¸‹è½½</a>ï¼Œæ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œåšä¸»ç”¨çš„æ˜¯centosï¼Œä¸‹è½½linux-amd64çš„</p>
<p>1ã€ä¸‹è½½clashï¼Œæœ€æ–°ç‰ˆæœ¬å¯å»å®˜ç½‘æ‰¾</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget https://github.com/Dreamacro/clash/releases/download/v0.19.0/clash-linux-amd64-v0.19.0.gz
</span></span></code></pre></div><p>2ã€è§£å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>gzip -d clash-linux-amd64-v0.19.0.gz
</span></span></code></pre></div><p>3ã€ç§»åŠ¨è‡³usr/bin/clashå¹¶é‡å‘½åä¸ºclash</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo mv clash-linux-amd64-v0.19.0 /usr/bin/clash
</span></span></code></pre></div><p>4ã€èµ‹äºˆclashè¿è¡Œæƒé™</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo chmod +x /usr/bin/clash
</span></span></code></pre></div><p>5ã€æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>clash -v 
</span></span></code></pre></div><h5 id="3åˆ›å»ºé…ç½®æ–‡ä»¶å®‰è£…æ§åˆ¶é¢æ¿">3ã€åˆ›å»ºé…ç½®æ–‡ä»¶ã€å®‰è£…æ§åˆ¶é¢æ¿</h5>
<p>1.åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir -p /etc/clash/
</span></span></code></pre></div><p>2.è¿›å…¥ç›®å½•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd /etc/clash/
</span></span></code></pre></div><p>3.åˆ›å»ºé…ç½®æ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim config.yaml
</span></span></code></pre></div><p>4.æ‰‹åŠ¨ç¼–è¾‘å¾ˆéº»çƒ¦ï¼Œå¯ç”¨winscpä¸Šä¼ </p>
<p>é…ç½®å‚æ•°è‡ªè¡ŒæŸ¥æ‰¾</p>
<p>5.ä¸‹è½½å‰ç«¯ä»£ç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget https://github.com/Dreamacro/clash-dashboard/tree/gh-pages
</span></span></code></pre></div><p>6.è§£å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>unzip gh-pages.zip
</span></span></code></pre></div><p>7.ä¿®æ”¹ç›®å½•å,è¿™é‡Œçš„ç›®å½•åæ˜¯ä¸Šé¢é…ç½®æ–‡ä»¶é‡Œçš„ external-ui: dashboard</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mv clash-dashboard-gh-pages dashboard
</span></span></code></pre></div><p><a href="http://clash.razord.top/">å¯ç”¨è¿™ä¸ªé¢æ¿è¿œç¨‹æ§åˆ¶</a></p>
<h5 id="4è®¾ç½®clashå¼€æœºå¯åŠ¨">4ã€è®¾ç½®clashå¼€æœºå¯åŠ¨</h5>
<p>1.åˆ›å»ºserviceæ–‡ä»¶</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo vim /usr/lib/systemd/system/clash.service
</span></span></code></pre></div><p>2.è¾“å…¥ä¸‹é¢ä»£ç </p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>clash proxy
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Type<span style="color:#f92672">=</span>simple
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/usr/bin/clash -d /etc/clash
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span></code></pre></div><p>3.é‡æ–°åŠ è½½ systemd æ¨¡å—</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo systemctl daemon-reload
</span></span></code></pre></div><p>4.å¯åŠ¨Clash</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo systemctl start clash.service
</span></span></code></pre></div><p>5.è®¾ç½®Clashå¼€æœºè‡ªå¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo systemctl enable clash.service
</span></span></code></pre></div><p>6.åˆ¤æ–­æ˜¯å¦æˆåŠŸå¼€å¯ä»£ç†</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -I https://www.google.com
</span></span></code></pre></div><p>è¿”å›200å³è¡¨ç¤ºä»£ç†å·²ç»æˆåŠŸ</p>
<h5 id="5è‡ªåŠ¨æ›´æ–°è®¢é˜…é…ç½®æ–‡ä»¶">5ã€è‡ªåŠ¨æ›´æ–°è®¢é˜…é…ç½®æ–‡ä»¶</h5>
<blockquote>
<p>é€šè¿‡shellè„šæœ¬è‡ªåŠ¨æ›´æ–°Clashåœ¨çº¿é…ç½®</p>
</blockquote>
<p>é€šè¿‡systemctlæ¥ç®¡ç†Clashçš„è¿›ç¨‹ï¼Œå¯¹åº”<code>clash.service</code>æ–‡ä»¶ï¼Œé€šè¿‡ä¸¤ä¸ªè„šæœ¬<code>start-clash.sh</code>å’Œ<code>stop-clash.sh</code>æ¥ç®¡ç†Clashçš„å¯åœï¼š</p>
<p>æŠŠä¸Šé¢çš„é…ç½®æ–‡ä»¶ä¿®æ”¹ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim /usr/lib/systemd/system/clash.service
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#f92672">[</span>Unit<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>Description<span style="color:#f92672">=</span>clash proxy
</span></span><span style="display:flex;"><span>After<span style="color:#f92672">=</span>network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Service<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WorkingDirectory<span style="color:#f92672">=</span>/å½“å‰ç”¨æˆ·ç›®å½•/.config/clash
</span></span><span style="display:flex;"><span>Type<span style="color:#f92672">=</span>simple
</span></span><span style="display:flex;"><span>ExecStart<span style="color:#f92672">=</span>/å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/start-clash.sh
</span></span><span style="display:flex;"><span>ExecStop<span style="color:#f92672">=</span>/å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/stop-clash.sh
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;HOME=/å½“å‰ç”¨æˆ·ç›®å½•&#34;</span>
</span></span><span style="display:flex;"><span>Environment<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;CLASH_URL=ä½ çš„è®¢é˜…é“¾æ¥&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>Install<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>WantedBy<span style="color:#f92672">=</span>multi-user.target
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim /å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/start-clash.sh
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e"># save this file to ${HOME}/.config/clash/start-clash.sh</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># save pid file</span>
</span></span><span style="display:flex;"><span>echo $$ &gt; <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.config/clash/clash.pid
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>diff <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.config/clash/config.yaml &lt;<span style="color:#f92672">(</span>curl -s <span style="color:#e6db74">${</span>CLASH_URL<span style="color:#e6db74">}</span><span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$?<span style="color:#e6db74">&#34;</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    /usr/bin/clash
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    TIME<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>date <span style="color:#e6db74">&#39;+%Y-%m-%d %H:%M:%S&#39;</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>    cp <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.config/clash/config.yaml <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span><span style="color:#e6db74">/.config/clash/config.yaml.bak</span><span style="color:#e6db74">${</span>TIME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    curl -L -o <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.config/clash/config.yaml <span style="color:#e6db74">${</span>CLASH_URL<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>    /usr/bin/clash
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>vim /å½“å‰ç”¨æˆ·ç›®å½•/.config/clash/stop-clash.sh
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e"># save this file to ${HOME}/.config/clash/stop-clash.sh</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># read pid file</span>
</span></span><span style="display:flex;"><span>PID<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>cat <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.config/clash/clash.pid<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>kill -9 <span style="color:#e6db74">${</span>PID<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>rm <span style="color:#e6db74">${</span>HOME<span style="color:#e6db74">}</span>/.config/clash/clash.pid
</span></span></code></pre></div><p>é…ç½®æ·»åŠ å®Œæˆåï¼Œå¦‚æœä½ çš„clash æ­£åœ¨è¿è¡Œä¸­ï¼Œéœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶å¹¶é‡å¯</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ systemctl daemon-reload
</span></span><span style="display:flex;"><span>$ sudo systemctl restart clash.service
</span></span></code></pre></div><p>è¿™æ ·æ¯æ¬¡å¯åŠ¨clashæ—¶å°±ä¼šè‡ªåŠ¨æ›´æ–°é…ç½®æ–‡ä»¶äº†ï¼Œæ¥ä¸‹æ¥é€šè¿‡crontab è‡ªåŠ¨é‡å¯ clash.serviceå®ç°è‡ªåŠ¨æ›´æ–°èŠ‚ç‚¹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#æ–°å»ºshellæ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>vim restart-clash.sh
</span></span></code></pre></div><p>æ–°å¢ä¸€æ¡å‘½ä»¤</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#/bin/sh</span>
</span></span><span style="display:flex;"><span>sudo systemctl restart clash.service
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chmod +x restart-clash.sh
</span></span><span style="display:flex;"><span>crontab -e
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ’å…¥ä¸‹é¢å‘½ä»¤</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ¯3å°æ—¶é‡å¯ä¸€æ¬¡</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> */3 * * * restart-clash.sh
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ¯åˆ†é’Ÿé‡å¯ä¸€æ¬¡</span>
</span></span><span style="display:flex;"><span>* * * * * restart-clash.sh
</span></span></code></pre></div><p>å¤§åŠŸå‘Šæˆï¼Œå¯é€šè¿‡<code>tail -500f /var/log/cron</code>æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ˜¯å¦æ‰§è¡Œ</p>
<p><code>sudo systemctl status clash.service</code>  æŸ¥çœ‹æ˜¯å¦é‡å¯æˆåŠŸ</p>
<h3 id="4dockerå†…å¼€ä»£ç†">4ã€dockerå†…å¼€ä»£ç†</h3>
<p>ç”±äºä¸»è¦ç”¨æ¥ä½¿ç”¨tg-botï¼Œæ•…åªæ£€æµ‹tgapiå³å¯</p>
<p>1ã€åˆ¤æ–­å®¿ä¸»æœºå¯è¿æ¥tgapi</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -sX POST <span style="color:#e6db74">&#34;https://api.telegram.org/bot&#39;&#39;&#39;Your Token&#39;&#39;&#39;/sendMessage&#34;</span> -d <span style="color:#e6db74">&#34;chat_id=&#34;</span>Some Chat id<span style="color:#e6db74">&#34;&amp;text=hello&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>curl -sX POST <span style="color:#e6db74">&#34;https://api.telegram.org/botxxxxxxxxugt5A/sendMessage&#34;</span> -d <span style="color:#e6db74">&#34;chat_id=48xxxxxx&amp;text=hello&#34;</span>
</span></span></code></pre></div><p>å¦‚æœè¿”å›æˆåŠŸï¼Œå³è¡¨ç¤ºæˆåŠŸ</p>
<p>2ã€è¿›å…¥å®¹å™¨</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker exec -it jd_scripts /bin/sh
</span></span></code></pre></div><p>æ‰§è¡Œæ­¥éª¤1å‘½ä»¤ï¼Œå¦‚è‹¥å“åº”æ—¶é—´é•¿æˆ–å¤±è´¥ï¼Œåˆ™éœ€è¦é…ç½®ä»£ç†</p>
<p>3ã€é…ç½®å®¹å™¨ä»£ç†èµ°å®¿ä¸»æœº</p>
<p><a href="https://docs.docker.com/network/proxy/#use-environment-variables">dockerå®˜æ–¹æœ‰æ•™ç¨‹</a></p>
<p>dockerç‰ˆæœ¬å¤§äº 17.07ä»¥ä¸Šå¯ç”¨ä¸‹é¢çš„æ–¹æ³•</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cd
</span></span><span style="display:flex;"><span>mkdir .docker
</span></span><span style="display:flex;"><span>vim  ~/.docker/config.json
</span></span></code></pre></div><p>å¡«å…¥ä¸‹é¢json</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#34;proxies&#34;</span>:
</span></span><span style="display:flex;"><span> {
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">&#34;default&#34;</span>:
</span></span><span style="display:flex;"><span>   {
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">&#34;httpProxy&#34;</span>: <span style="color:#e6db74">&#34;http://172.17.0.1:7890&#34;</span>,
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">&#34;httpsProxy&#34;</span>: <span style="color:#e6db74">&#34;http://172.17.0.1:7890&#34;</span>,
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">&#34;noProxy&#34;</span>: <span style="color:#e6db74">&#34;localhost,127.0.0.1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">&#34;</span>
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ä¿å­˜æ–‡ä»¶<strong>åˆ›å»ºæˆ–è€…å¯åŠ¨æ–°å®¹å™¨æ—¶æ‰ç”Ÿæ•ˆ</strong></p>
<p>è¿™é‡Œæœ‰ä¸ªå¤§å‘ï¼Œæäº†ä¸€å¤©ï¼Œå°±æ˜¯</p>
<p><strong>ä»£ç†çš„ipä¸€å®šè¦å†™å¯¹ï¼</strong></p>
<p><strong>ä»£ç†çš„ipä¸€å®šè¦å†™å¯¹ï¼</strong></p>
<p><strong>ä»£ç†çš„ipä¸€å®šè¦å†™å¯¹!</strong></p>
<blockquote>
<p>ä¸‹åˆè°ƒè¯•çš„æ—¶å€™httpsçš„å†™æˆäº†127çš„äº†ï¼Œæœºå™¨å¯åŠ¨èµ·æ¥ï¼Œpullä»£ç çš„æ—¶å€™ï¼Œç›´æ¥æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œå½“æ—¶è¿˜éª‚è¿™ç ´ä»£ç†ï¼Œæ²¡æ³•ï¼Œå°±æŠŠæŠ¥é”™ipä¸èµ°ä»£ç†äº†ï¼Œæ²¡æƒ³åˆ°ä¸‹é¢ä¸æŠ¥é”™äº†ï¼Œç›´æ¥æ— é™é‡å¯ï¼Œæå¾—å¤´éƒ½å¤§äº†ï¼Œè¿˜åœ¨æƒ³æ˜¯ä¸æ˜¯å†…å­˜çˆ†äº†å‘¢ï¼æ™šä¸Šï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶ï¼Œå®šç›ä¸€çœ‹ï¼ŒWCï¼&ldquo;httpsProxy&quot;ç«¯å£å†™çš„127&hellip;èµ¶ç´§æ”¹äº†ï¼Œé‡æ–°è·‘éï¼Œå¦¥äº†ï¼ŒbotæˆåŠŸäº†ï¼</p>
</blockquote>
<p>4ã€åˆ é™¤å®¹å™¨ï¼Œé‡æ–°å¯ç”¨</p>
<p>æ¥ä¸‹æ¥åœ¨jd_scripts ç›®å½•å†…</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker-compose down
</span></span><span style="display:flex;"><span>docker-compose up -d
</span></span></code></pre></div><p>å¯åŠ¨æˆåŠŸåï¼Œtgbotå³å¯æ”¶åˆ°æˆåŠŸçš„æ¶ˆæ¯ï¼Œå°½æƒ…äº«ç”¨å§ï¼</p>
<h3 id="clashç›¸å…³çš„ç®¡ç†å‘½ä»¤">Clashç›¸å…³çš„ç®¡ç†å‘½ä»¤</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">## å¯åŠ¨Clash ##</span>
</span></span><span style="display:flex;"><span>sudo systemctl start clash.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## é‡å¯Clash ##</span>
</span></span><span style="display:flex;"><span>sudo systemctl restart clash.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## æŸ¥çœ‹Clashè¿è¡ŒçŠ¶æ€ ##</span>
</span></span><span style="display:flex;"><span>sudo systemctl status clash.service
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## å®æ—¶æ»šåŠ¨çŠ¶æ€ ##</span>
</span></span><span style="display:flex;"><span>sudo journalctl -u clash.service -f
</span></span></code></pre></div><h3 id="dockerç›¸å…³å‘½ä»¤">dockerç›¸å…³å‘½ä»¤</h3>
<p><code>docker exec -it jd_scripts /bin/sh -c 'git -C /scripts pull &amp;&amp; node /scripts/jd_bean_change.js'</code>  æ‰‹åŠ¨è¿è¡Œä¸€è„šæœ¬</p>
<p><code>docker exec -it jd_scripts /bin/sh -c 'env'</code>  æŸ¥çœ‹è®¾ç½®çš„ç¯å¢ƒå˜é‡</p>
<p><code>docker exec -it jd_scripts /bin/sh -c 'crontab -l'</code>  æŸ¥çœ‹å·²ç”Ÿæ•ˆçš„crontab_listå®šæ—¶å™¨ä»»åŠ¡</p>
<p><code>docker exec -it jd_scripts sh -c &quot;docker_entrypoint.sh&quot;</code> æ‰‹åŠ¨æ›´æ–°jd_scriptsä»“åº“æœ€æ–°è„šæœ¬</p>
<p><code>docker exec -it jd_scripts /bin/sh</code> ä»…è¿›å…¥å®¹å™¨å‘½ä»¤</p>
<p><code>rm -rf  logs/*.log</code> åˆ é™¤logsæ–‡ä»¶å¤¹é‡Œé¢æ‰€æœ‰çš„æ—¥å¿—æ–‡ä»¶</p>
<ul>
<li>[1] <a href="https://github.com/wisz2021/jd_docker">jd_docker</a></li>
<li>[2] <a href="https://github.com/yuanlam/Clash-Linux">clashå®‰è£…å‚è€ƒ</a></li>
<li>[3] <a href="https://kebingzao.com/2019/02/22/docker-container-proxy/">dockerå†…ä»£ç†å‚è€ƒ</a></li>
<li>[4] <a href="https://akillcool.github.io/post/clash-with-auto-update-config/">clashè‡ªåŠ¨æ›´æ–°è®¢é˜…é…ç½®</a></li>
</ul>
]]></content:encoded>
    </item>
    
    
    
  </channel>
</rss>
